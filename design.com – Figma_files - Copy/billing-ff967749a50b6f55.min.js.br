"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0df374fa-93b7-5d84-8fa6-1a3c57e854f3")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8964],{388505:(e,t,a)=>{a.d(t,{$g:()=>m,DI:()=>c,Eh:()=>n,GK:()=>s,J1:()=>i,KV:()=>r,b:()=>l,cr:()=>g,jG:()=>d,kz:()=>u,nW:()=>p,o8:()=>_,u1:()=>o,wv:()=>v});let l="universal_upgrade_sequence--closeButton--S-6M2",s="universal_upgrade_sequence--modalTitle--1nrY9 text--fontPos18--rYXJb text--_fontBase--QdLsd",r="universal_upgrade_sequence--modalSubtitle--cMqzE text--fontPos14--OL9Hp text--_fontBase--QdLsd",n="universal_upgrade_sequence--createTeamInput--MuDzz basic_form--labeledInputGroup--aeD6L text--fontPos14--OL9Hp text--_fontBase--QdLsd",o="universal_upgrade_sequence--spinner--K-cVF",i="universal_upgrade_sequence--tileUpgradeButton--xeNnN",c="universal_upgrade_sequence--nextButtonSmall--LG9cZ universal_upgrade_sequence--nextButton--jDx3Q",m="universal_upgrade_sequence--createTeamSection--V3vtF",d="universal_upgrade_sequence--scrollContainer--8KeVt",u="universal_upgrade_sequence--scrollContainerTopBorder--Aeveh",_="universal_upgrade_sequence--scrollContainerBottomBorder--dWxc4",p="universal_upgrade_sequence--teamTileContainer--uef0R org_self_serve--teamLargeTileContainer--0-UBG",g="universal_upgrade_sequence--teamTile--giMxy org_self_serve--teamTileLarge--0FsN1 text--fontPos14--OL9Hp text--_fontBase--QdLsd",v="universal_upgrade_sequence--lastTeamTile--jYkbS universal_upgrade_sequence--teamTile--giMxy org_self_serve--teamTileLarge--0FsN1 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},287210:(e,t,a)=>{a.r(t),a.d(t,{UniversalUpgradeSequence:()=>F});var l=a(411855),s=a(188507),r=a(42821),n=a(218017),o=a(304913),i=a(402791),c=a(983245),m=a(639061),d=a(705715),u=a(352604),_=a(165077),p=a(543841),g=a(625475),v=a(950187),E=a(854918),h=a(577552),f=a(467453),T=a(897138),x=a(465),S=a(656927),N=a(25530),y=a(838320),b=a(548891),C=a(248228),P=a(222564),I=a(276253),L=a(979282),B=a(22310),M=a(21122),k=a(978263),q=a(618822),w=a(388505);let z=(0,C.nF)((e,{teamName:t,selectedView:a,currency:l,onSuccess:s,onError:r,onBillingCompleteRedirectInfo:n})=>{let o;S.Ay.post("/api/teams/create",{team_name:t}).then(({data:t})=>(o="team"in t.meta?t.meta.team:t.meta,e.dispatch(I.bE({team:o})),(0,B._J)("Team Created",o.id,e.getState()),q.G.getTeam({teamId:o.id}))).then(({data:t})=>{for(let a of t.meta)e.dispatch(P.bE({role:a}));s(),e.dispatch(u.WX({teamId:o.id,selectedView:a,newTeam:!0,currency:l,...n?{onBillingCompleteRedirectInfo:n}:{}}))}).catch(()=>{r()})});function A(e){let t=(0,s.wA)(),a=(0,M.TA)(),r=(0,s.d4)(k.P),n=(0,s.d4)(e=>e.roles.byTeamId),[c,m]=l.useState(!1),[u,_]=l.useState(!1),[g,v]=l.useState(""),E=(0,p.LN)(),h=(0,x.I7)("starter_team_loophole_experiment_m0"),f=(0,x.I7)("starter_team_loophole_experiment_m1"),S=()=>{t(d.Ce())},C=(0,T.s)(()=>{m(!0),g?t(z({teamName:g,selectedView:e.selectedView,currency:E,onSuccess:S,onError:()=>{m(!1),_(!0)},onBillingCompleteRedirectInfo:e.onBillingCompleteRedirectInfo})):(m(!1),_(!0))});return a&&!(0,L.e5)({userId:a,teams:Object.values(r),rolesByTeamId:n,getM0Config:h.getConfig,getM1Config:f.getConfig})?l.createElement("div",{"data-testid":"createTeamToUpgradeView"},l.createElement("p",{className:w.KV},l.createElement(i.Tx,{id:"universal_upgrade_sequence.subtitle"})),u&&l.createElement(l.Fragment,null,l.createElement(N.I,{message:(0,i.t)("universal_upgrade_sequence.error"),marginTop:16}),l.createElement(o.Kz,{multiple:1})),l.createElement(o.Kz,{multiple:2}),l.createElement("div",{className:w.$g},l.createElement("div",{className:w.Eh},l.createElement(y.L,{placeholder:(0,i.t)("universal_upgrade_sequence.team_name.placeholder"),value:g||"",onChange:e=>{v(e.target.value)},required:!0,maxLength:255})),l.createElement(o.vd,{className:w.DI,disabled:!g||c,onClick:C},c?l.createElement(b.kt,{className:w.u1}):l.createElement(i.Tx,{id:"universal_upgrade_sequence.next"})))):null}var K=a(203771),R=a(773891);class D extends l.Component{constructor(){super(...arguments),this.state={step:"selectTeam",currency:(0,p.LN)()},this.popModal=()=>{this.props.dispatch(d.Lo())},this.hideModal=()=>{this.props.dispatch(d.Ce())},this.selectTeam=e=>{let{dispatch:t,selectedView:a}=this.props;t("teamUpgrade"===a.view?c.$T({...a,teamFlowType:E.SC.UPGRADE_EXISTING_TEAM,teamId:e.id,paymentStep:(0,h.kR)(a.paymentStep,E.SC.UPGRADE_EXISTING_TEAM,a.billingPeriod||null,this.props.promo,a.planType||E.Sc.UNDETERMINED,this.props.promo?v.tn.CONFIRM_PAY:v.tn.CHOOSE_PLAN),billingPeriod:this.props.billingPeriod||this.props.commonPageState.payment.billingPeriod}):u.WX({teamId:e.id,selectedView:a,newTeam:!1,currency:this.state.currency,billingPeriod:this.props.billingPeriod,onBillingCompleteRedirectInfo:this.props.onBillingCompleteRedirectInfo})),this.hideModal()},this.chooseProPlan=()=>{0===(0,g.PS)(this.props.permissionState).length?(this.props.dispatch(m.Dw({openInNewTab:!r.eD})),this.setState({step:"createTeam"})):this.setState({step:"selectTeam"})}}componentDidMount(){this.props.plan===K.I.PRO&&this.chooseProPlan()}renderSelectTeamStep(){let e=(0,g.PS)(this.props.permissionState);return l.createElement(_.fu,{name:"Upgrade Select Team Modal"},l.createElement(f.Nb,{hide:this.popModal,size:436},l.createElement("h1",{className:w.GK},l.createElement(i.Tx,{id:"universal_upgrade_sequence.title"})),l.createElement(n.Jn,{className:w.b,onClick:this.popModal,innerText:(0,i.t)("universal_upgrade_sequence.close_modal")}),l.createElement(o.Kz,{multiple:2}),l.createElement(R.I,{eligibleTeams:e,selectTeam:this.selectTeam}),l.createElement(o.Kz,{multiple:2}),l.createElement(A,{selectedView:this.props.selectedView,onBillingCompleteRedirectInfo:this.props.onBillingCompleteRedirectInfo})))}render(){return"selectTeam"===this.state.step?this.renderSelectTeamStep():l.createElement(l.Fragment,null)}}D.displayName="UniversalUpgradeSequence";let F=(0,s.Ng)(e=>({commonPageState:e,permissionState:e,selectedView:e.selectedView,promo:e.payment.promo}))(D)},773891:(e,t,a)=>{a.d(t,{I:()=>u});var l=a(411855),s=a(304913),r=a(467066),n=a(402791),o=a(820657),i=a(165077),c=a(625475),m=a(521388),d=a(388505);function u({customUpgradeText:e,eligibleTeams:t,selectTeam:a,numDesignFilesPerTeam:u,showEditorCount:_=!0}){let[p,g]=(0,l.useState)(!1),[v,E]=(0,l.useState)(!1);l.useEffect(()=>{g(t.length>=5)},[t]);let h=`${d.jG}`;p&&(h+=` ${d.o8}`),v&&(h+=` ${d.kz}`);let f=t[t.length-1],T=u&&u.length===t.length;return l.createElement(r.P,{onScroll:(e,a)=>{let l=t.length>=5,s=l&&0!==e,r=l&&e+a.trackHeight!==a.scrollHeight;r!==p&&g(r),s!==v&&E(s)},className:h,scrollingDisabled:!1},l.createElement("div",{className:d.nW},t.map((t,r)=>l.createElement(i.jm,{key:t.id,className:t===f?d.wv:d.cr,onClick:()=>a(t),trackingProperties:{teamId:t.id,trackingDescriptor:o.c.UPGRADE},innerText:"Upgrade"},l.createElement("div",{className:"org_self_serve--teamInfo--NZwPd"},l.createElement(m.Ro,{className:"org_self_serve--teamIcon--pyVIW",entity:t,size:40,shape:"SQUARE"}),l.createElement("div",{className:"org_self_serve--teamText--LOruA"},l.createElement("p",{className:"org_self_serve--teamName--H89GM text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.name),l.createElement("p",{className:"org_self_serve--teamEditors--MBtOb text--fontPos11--2LvXf text--_fontBase--QdLsd"},!T&&_&&l.createElement(n.Tx,{id:"universal_upgrade.select_team.editor_count.seat_rename",editors:t.editors}),T&&u&&l.createElement(n.Tx,{id:"universal_upgrade.select_team.files_per_team_figma_files_used",numFilesUsed:u[r],numFreeFilesAllowed:c.WW})))),l.createElement(s.nR,{className:d.J1,dataTestId:"select_team.upgrade"},e??l.createElement(n.Tx,{id:"universal_upgrade.select_team.upgrade"}))))))}},701104:(e,t,a)=>{a.r(t),a.d(t,{UpgradeContactSalesModal:()=>C});var l=a(411855),s=a(188507),r=a(897138),n=a(384305),o=a(656927),i=a(218017),c=a(25530),m=a(304913),d=a(487644),u=a(402791),_=a(705715),p=a(165077),g=a(597722),v=a(566046),E=a(918680),h=a(467453),f=a(7584);let T="upgrade_contact_sales_modal--closeButton--tSoDt";var x=a(783423),S=a(339290);let N=()=>[{name:(0,u.t)("universal_upgrade.1_10"),value:"1-10"},{name:(0,u.t)("universal_upgrade.11_50"),value:"11-50"},{name:(0,u.t)("universal_upgrade.51_250"),value:"51-250"},{name:(0,u.t)("universal_upgrade.251_1_k"),value:"251-1K"},{name:(0,u.t)("universal_upgrade.1_k_5_k"),value:"1K-5K"},{name:(0,u.t)("universal_upgrade.5_k_10_k"),value:"5K-10K"},{name:(0,u.t)("universal_upgrade.10_k_50_k"),value:"10K-50K"},{name:(0,u.t)("universal_upgrade.50_k_100_k"),value:"50K-100K"},{name:(0,u.t)("universal_upgrade.100_k"),value:"100K+"}],y=()=>l.createElement(l.Fragment,null,l.createElement("option",{value:"",disabled:!0},(0,u.t)("universal_upgrade.company_size")),N().map(e=>l.createElement("option",{value:e.value,"data-testid":`select-option-${e.value}`,key:e.value},e.name))),b=(0,v.Ju)(function({hideModal:e}){return l.createElement(p.fu,{name:"Upgrade Contact Sales Success Modal"},l.createElement(h.Nb,{hide:e,size:480},l.createElement("div",{className:"upgrade_contact_sales_modal--successModalWrapper--x82rW"},l.createElement("div",{className:"upgrade_contact_sales_modal--successModalTitle--YEf9E upgrade_contact_sales_modal--modalTitle--Qvyl- text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(d.B,{className:"upgrade_contact_sales_modal--successIcon--sRlqE",svg:S.A}),l.createElement(u.Tx,{id:"universal_upgrade.contact_sales.thank_you"})),l.createElement(i.Jn,{className:T,onClick:e,innerText:"close"})),l.createElement("div",{className:"upgrade_contact_sales_modal--successModalText--71FmX text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(u.Tx,{id:"universal_upgrade.contact_sales.sales_will_reach_out"}))))},"ContactSalesSuccessModal");function C(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.user),[v,S]=(0,l.useState)({email:(null==a?void 0:a.email)??"",name:(null==a?void 0:a.handle)??"",overridePlaceholderText:e.overridePlaceholderText,freeText:"",result:void 0,companyName:void 0,companySize:"",jobTitle:"",formErrors:{}}),N=()=>{t(_.Lo())},C=()=>{t((0,_.to)({type:b,data:{hideModal:()=>t(_.Ce())}}))},P=(0,r.s)(()=>{let t={},a=(0,u.t)("universal_upgrade.this_field_is_required");v.email?(0,n.xf)(v.email)||(t.email=(0,u.t)("universal_upgrade.please_provide_a_valid_email_address")):t.email=a,v.name||(t.name=a),v.companyName||(t.companyName=a),e.source===g.Bi.VARIABLES_MODES?v.jobTitle||(t.jobTitle=a):v.companySize||(t.companySize=a),S(e=>({...e,formErrors:t,result:void 0})),0===Object.keys(t).length&&o.Ay.post("/api/form_post/org-lead-gen",{email:v.email,name:v.name,company_name:v.companyName,company_size:v.companySize,job_title:v.jobTitle,message:v.freeText,source:e.source}).then(()=>{S(e=>({...e,result:"success"})),C()}).catch(()=>S(e=>({...e,result:"error"})))}),I=e=>v.formErrors[e]?"upgrade_contact_sales_modal--error--cYtEz basic_form--labeledInputGroup--aeD6L":void 0,L=e=>{let t=v.formErrors[e];return t?l.createElement("div",{"data-testid":"form-error",className:"upgrade_contact_sales_modal--errorMessage--rMLJd text--fontPos11--2LvXf text--_fontBase--QdLsd"},t):null},B=(e,t,a=!1)=>l.createElement(l.Fragment,null,l.createElement(m.Lf,{htmlName:t,label:e,value:v[t]||"",onChange:e=>{let a={[t]:e.target.value};S(e=>({...e,...a}))},disabled:a,className:I(t)}),L(t));return l.createElement(p.fu,{name:"Upgrade Contact Sales Modal"},l.createElement(h.Nb,{className:"upgrade_contact_sales_modal--contactSalesModal--2MR1X",hide:N,size:480},l.createElement("div",{className:"upgrade_contact_sales_modal--titleWrapper--vDPOx"},l.createElement("h1",{className:"upgrade_contact_sales_modal--modalTitle--Qvyl- text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(u.Tx,{id:"universal_upgrade.contact_sales_title"})),l.createElement(i.Jn,{className:T,onClick:N,innerText:"close"})),l.createElement("div",{className:"upgrade_contact_sales_modal--modalBody--XpCf4"},"error"===v.result&&l.createElement(l.Fragment,null,l.createElement(c.I,{message:(0,u.t)("universal_upgrade.there_was_an_error_processing_your_information_please_try_again")}),l.createElement(m.Kz,{multiple:.5})),l.createElement("fieldset",null,B((0,u.t)("universal_upgrade.email_address"),"email"),B((0,u.t)("universal_upgrade.full_name"),"name"),B((0,u.t)("universal_upgrade.company_name"),"companyName"),e.source===g.Bi.VARIABLES_MODES?B((0,u.t)("universal_upgrade.job_title"),"jobTitle"):((e,t,a)=>{let s=I(t)||f.Os;return l.createElement(l.Fragment,null,l.createElement("div",{className:s},l.createElement("div",{className:"upgrade_contact_sales_modal--select--9gFoe address_form--selectRowFull--8DtEB"},l.createElement(m.VE,{name:t,placeholder:e,defaultValue:"","data-testid":`${t}-select`,onChange:e=>{let a={[t]:e.target.value};S(e=>({...e,...a}))},required:!0},a),l.createElement(d.B,{className:f.nO,svg:x.A}))),L(t))})((0,u.t)("universal_upgrade.company_size"),"companySize",y())),l.createElement(m.Kz,{multiple:1}),l.createElement("p",null,l.createElement(u.Tx,{id:"universal_upgrade.how_can_we_help_optional"})),l.createElement(m.Kz,{multiple:1}),l.createElement(E.v,{className:"upgrade_contact_sales_modal--freeTextInput--O6-W0 text--fontPos13--xW8hS text--_fontBase--QdLsd",value:v.freeText,onChange:e=>S(t=>({...t,freeText:e.target.value})),placeholder:v.overridePlaceholderText??(0,u.t)("universal_upgrade.e_g_i_m_looking_to_set_up_a_demo_of_figma"),maxLength:500})),l.createElement("div",{className:"upgrade_contact_sales_modal--modalFooter--HBxAu"},l.createElement(m.tM,{onClick:N},l.createElement(u.Tx,{id:"general.cancel"})),l.createElement(m.vd,{onClick:P},l.createElement(u.Tx,{id:"universal_upgrade.submit"})))))}}}]);

//# debugId=0df374fa-93b7-5d84-8fa6-1a3c57e854f3

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/6eb6347c71a7271e1f159b05c6d3c5ece6fc206e/billing-ff967749a50b6f55.min.js.map