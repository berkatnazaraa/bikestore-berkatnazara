
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="add11272-c1fc-580e-8b0c-419e0d13ffec")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7355],{237086:(e,t,n)=>{"use strict";n.d(t,{jW:()=>H,cI:()=>K,ex:()=>D});var l=n(411855),r=n(188507),a=n(767129),i=n(841368),o=n(169614),s=n(829826),c=n(948986),d=n(656927),p=n(480201),u=n(548891),m=n(487644),h=n(77153),g=n(402791),E=n(573760),_=n(487664),f=n(585219),y=n(131350),v=n(664080),b=n(797811),S=n(113420),T=n(947680),w=n(579038),P=n(127161),C=n(574560),k=n(625829),I=n(205786),N=n(829879),A=n(534766),R=n(757358),O=n(455399),M=n(82131),x=n(258376),L=n(951912);function K(e){return l.createElement(c.p,{name:"live_object_panel"},l.createElement(O.Zk,null,l.createElement(O.fI,{className:M.LO},l.createElement(O.xw,null,l.createElement("div",{className:"live_object_panel--title--9VTOA"},l.createElement(m.B,{svg:L.A}),l.createElement(g.Tx,{id:"fullscreen.live_object_panel.live_object"}))),l.createElement(B,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function F(e,t){for(let n=0;n<t;n++)try{let t=await d.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function D(e,t,n){try{let e=[];for(let l of t)(0,o.sx)("update_live_object",{...l}),l.srcFile?(e.push(F(`/api/file_proxy/file/${l.srcFile}/canvas?nodes_to_extract=${l.srcNode}&fv=${n}`,2).then(e=>{b.l7.user("update-live-object-remote",()=>v.glU.updateLiveObject(e,l.nodeId,l.srcNode,l.srcFile))})),await Promise.all(e)):b.l7.user("update-live-object-local",()=>v.glU.updateLiveObject(new Uint8Array,l.nodeId,l.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}y.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_success")}))}function H(e){let t=(0,r.wA)(),n=(0,T.eY)(),a=function(){let e=(0,I.Z)("outline_navigate"),t=(0,C.Yk)();return l.useCallback(n=>{N.wr(),N.Dh([n]);let l=y.Y5.getViewportInfo();e((0,A.QZ)({nodeId:n,alwaysPan:!0,viewportRect:k.r.fromOriginAndSize(l.x,l.y,l.width,l.height-l.y-t)}))},[t,e])}(),{pasteSources:i,liveUpdate:o,isLiveUpdating:c}=e,d=(0,r.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),u=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),m=!1;if(d){if(d.bubbledInstanceOverrides)m=!0;else for(let e of Object.values(d.selectionOverrides))if(e){m=!0;break}}return l.createElement(l.Fragment,null,l.createElement(p.W.Option,{onClick:()=>{if(1!==i.length)return;let e=i[0];e.srcFile?t((0,_.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):a(e.srcNode)},disabled:1!==i.length,recordingKey:s.Pt(e,"goToOriginal"),key:"goToOriginal"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.go_to_original"})),l.createElement(p.W.Option,{disabled:!m,onClick:()=>{let e=i.map(e=>e.nodeId);b.l7.user("reset-instance-overrides",()=>v.glU.resetSymbolOverridesForNodes(e,v.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),y.Y5.commit()},recordingKey:s.Pt(e,"resetAllChanges"),key:"resetAllChanges"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.reset_all_changes"})),l.createElement(p.W.Option,{onClick:()=>o(i),disabled:c,recordingKey:s.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.update_live_object"})),l.createElement(p.W.Separator,{key:"divider"}),l.createElement(p.W.Option,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of i){let l=n.get(t.nodeId);l&&(e.push(t.nodeId),l.clearPasteSource())}b.l7.user("detach-instances",()=>v.glU.detachInstances(e)),y.Y5.commit()},recordingKey:s.Pt(e,"detachFromLive"),key:"detachFromLive"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.detach_from_live"}),l.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,P.c1)(u,"detach-instance"))))}function B(e){let{pasteSources:t}=e,n=(0,r.wA)(),{showing:o,toggle:c}=(0,S.B)("live-object-dropdown"),d=(0,r.d4)(e=>e.fileVersion),[p,m]=l.useState(!1),E=l.useRef(null),_=s.Pt(e,"updateLiveObject"),y=s.Pt(e,"liveObjectMenu"),v=l.useCallback(async e=>{m(!0),await D(n,e,d),m(!1)},[d,n]);return l.createElement(l.Fragment,null,p?l.createElement(u.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:x.A}):l.createElement(a.K,{as:"button",onClick:()=>v(t),onMouseDown:f.dG,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.update_live_object"),"aria-label":(0,g.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:_},l.createElement(h.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:x.A})),l.createElement("div",{ref:E},l.createElement(O.YW,{selected:o,onClick:c,onMouseDown:f.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:y},l.createElement(i.J,null))),o&&(E.current?l.createElement(R.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(H,{pasteSources:t,liveUpdate:v,isLiveUpdating:p,recordingKey:y})):null))}},813711:(e,t,n)=>{"use strict";let l,r,a,i,o;n.r(t),n.d(t,{PropertiesPanel:()=>mt});var s=n(411855),c=n(629019),d=n.n(c),p=n(169614),u=n(499200),m=n(611464),h=n(732326),g=n(272078),E=n(963039),_=n(271078),f=n(829826),y=n(785341),v=n(143551),b=n(835293),S=n(948986),T=n(451015),w=n(577241),P=n(106309),C=n(714287),k=n(797019);function I(e){return(0,P.TR)()?s.createElement(N,{...e}):s.createElement(s.Fragment,null,e.children)}function N({name:e,trackingEnabled:t,alsoTrack:n,children:l}){let r=(0,T.F)(n),a=(0,P.U2)({name:e,trackingEnabled:t,alsoTrackRef:r,isNamespace:!1,autoTrackable:!1}),{error:i,trackablePath:o}=a,c=(0,P.MF)(()=>(0,P.ET)(o));(0,P.fK)(o,c);let d=(0,w.o3)(w.nt.trackableDebug),p=(0,P.MF)(()=>(0,P.R8)({componentName:"Trackable",name:e,error:i,alsoTrackedProperties:c()}));return l=(0,k.C)({children:l,isDebugMode:d,name:e,color:i?"red":"green",depth:o.length,getTooltipText:p}),s.createElement(C.f.Provider,{value:a},s.createElement("div",{style:{display:"contents"},"data-trackable-name":e},l))}var A=n(42910),R=n(62385),O=n(178041),M=n(467066),x=n(487644),L=n(138611),K=n(345866),F=n(183518),D=n(402791),H=n(876233),B=n(258458),V=n(965923),U=n(586271),z=n(878515),Z=n(61415),G=n(165077),Y=n(585219),W=n(45481),X=n(999231),$=n(131350),Q=n(664080),j=n(449565),q=n(245470),J=n(829879),ee=n(292229),et=n(303896),en=n(509047),el=n(19599),er=n(422710),ea=n(327092),ei=n(748673),eo=n(127161),es=n(170766),ec=n(109388),ed=n(188507),ep=n(459593);function eu(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-1.146 1.147a.5.5 0 1 1-.707-.708L12 7 8 3 4 7l1.146 1.146a.5.5 0 1 1-.707.708L3.293 7.707a1 1 0 0 1 0-1.414l4-4Zm-2.147 8.353a.5.5 0 0 0 .708.708L7.5 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0l-2.5 2.5Z",clipRule:"evenodd"}))}var em=n(221768),eh=n(204556),eg=n(480201),eE=n(77153),e_=n(983245),ef=n(705715),ey=n(579038),ev=n(718314),eb=n(40782),eS=n(757358),eT=n(369700),ew=n(20865);function eP({ref:e,onTextChange:t,text:n}){let[l,r]=(0,s.useState)(!1),a=(0,ew.w)(e);return(0,s.useLayoutEffect)(()=>void(null==t||t()),[t,n]),(0,s.useLayoutEffect)(()=>{var t;r(!!(t=e.current)&&t.clientWidth<t.scrollWidth)},[e,a,n]),l}function eC(e){let{containerClassName:t,isHTMLString:n,onExpandCallback:l,text:r}=e,a=s.useMemo(()=>n?(0,eT.A)(r):r,[n,r]),[i,o]=s.useState(!1),c=s.useRef(null),d=eP({ref:c,onTextChange:s.useCallback(()=>o(!1),[]),text:a}),p=s.useCallback(()=>{l?l(!i):o(!i)},[i,l]),u=i?"Show less":"Show more";return s.createElement("div",{className:`${t} expandable_text_container--container--fauZM`},s.createElement("div",{ref:c,className:i?"":"expandable_text_container--truncatedText--Zh19Y ellipsis--ellipsis--Tjyfa"},a),d&&s.createElement("div",{className:"expandable_text_container--toggleToExpandPrompt--y9zk9",onClick:p},u))}var ek=n(358278),eI=n(709744),eN=n(509952),eA=n(695614),eR=n(216309),eO=n(797811),eM=n(955505),ex=n(974492),eL=n(360448),eK=n(709955),eF=n(455399);let eD="rich_text_asset_description_input--quillInput--w9zzt";function eH({description:e,isViewOnly:t,placeholder:n,onBlur:l,onSubmit:r}){let a=s.useCallback(e=>{e.stopPropagation()},[]);return t&&""===e?null:s.createElement(eF.fI,{className:"rich_text_asset_description_input--textRow--JlCKa component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V",onMouseDown:a,onPointerDown:a},s.createElement("div",{className:t?"rich_text_asset_description_input--labelViewOnly--EBSZ9 rich_text_asset_description_input--label--U3bKd":"rich_text_asset_description_input--label--U3bKd"},s.createElement(D.Tx,{id:"design_systems.component_panel.description"})),s.createElement("div",{className:t?"rich_text_asset_description_input--quillInputViewOnly--Q329g":eD},t?s.createElement(eK.R,{fallback:null,errorFallback:null,quillClassName:"rich_text_asset_description_input--readOnlyEditor--wT16t",value:e}):s.createElement(eL.A,{fallback:null,errorFallback:null,bounds:`.${eD}`,debounceMs:1e3,flushOnBlur:!0,onBlur:l,mountBehavior:"focus",onInputChange:r,placeholder:n,defaultValue:e})))}function eB(e){let{description:t,isViewOnly:n,onSubmitDescription:l}=e,r=(0,ee.gl)(t),a=eV(t),i=f.qP("componentDescriptionText","submit",e=>{e!==eV(t)&&(0===(0,eT.A)(e).trim().length?l(""):l(e))}),o=s.useCallback(()=>{$.Y5.commit()},[]);return s.createElement(eH,{description:a,isViewOnly:n,placeholder:r?(0,D.t)("design_systems.component_panel.description_mixed"):(0,D.t)("design_systems.component_panel.description_placeholder"),onBlur:o,onSubmit:i})}function eV(e){return(0,ee.gl)(e)?(0,D.t)("design_systems.component_panel.description_mixed"):e}var eU=n(894689),ez=n(838320);let eZ=/^\w+:/;function eG(e){let{links:t,onSubmitLinks:n}=e,[l,r]=s.useState(null),a=s.useCallback(e=>e.keyCode===g.Uz.ENTER&&!e.shiftKey&&(e.currentTarget.blur(),!0),[]),i=s.useCallback(e=>{r(e.target.value)},[r]),{inputRef:o,inputProps:{onChange:c,onFocus:d,onMouseUp:p,onMouseLeave:u,onKeyUp:m}}=(0,eU.X)({onChange:i}),h=null==t?void 0:t.find(e=>e),E=s.useCallback(()=>{if(null!==l){if(l.length<1){n([]),$.Y5.commit();return}n([{uri:l.match(eZ)?l:`https://${l}`}]),$.Y5.commit(),r(null)}},[n,l,r]),_=f.c1(e),y=null===l?null==h?void 0:h.uri:l;return s.createElement(s.Fragment,null,s.createElement("div",{className:"documentation_link_input--label--ATBu1"},s.createElement(D.Tx,{id:"design_systems.component_panel.link"})),s.createElement(eF.fI,{className:"documentation_link_input--row--Ph7Ip component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V"},s.createElement(ez.L,{ref:o,key:"symbol-link",className:"documentation_link_input--documentationLink--3NlJC raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u ellipsis--ellipsis--Tjyfa",value:y||"",placeholder:(0,D.t)("design_systems.component_panel.link_to_documentation"),onFocus:d,onBlur:E,onChange:c,onKeyDown:a,onMouseUp:p,onMouseLeave:u,onKeyUp:m,recordingKey:_("componentSymbolLinks")})))}var eY=n(619258),eW=n(356932),eX=n(2137);let e$="component_link_display--linkWrapper--sxTXs";function eQ({links:e}){let t=null==e?void 0:e[0];if(null==t)return null;let n=s.createElement(s.Fragment,null,s.createElement("div",{className:"component_link_display--favicon--BwLu-"},s.createElement(eW.v,{url:t.uri})),s.createElement("span",{className:"component_link_display--link--l6rH8"},t.uri));return s.createElement("div",{className:"component_link_display--wrapper--CLPXG"},s.createElement("div",{className:"component_link_display--header--fts8b"},s.createElement(D.Tx,{id:"design_systems.component_panel.link"})),(0,eX.G)(t.uri??"")?s.createElement(eY.N,{className:e$,trusted:!1,href:t.uri,target:"_blank"},n):s.createElement("div",{className:e$},n))}let ej="component-controls-picker",eq="instance-controls-picker";function eJ(e){return(null==e?void 0:e.id)===ej||(null==e?void 0:e.id)===eq}var e0=n(485463),e5=n(256296),e1=n(304913),e7=n(959875);function e2(){let e=(0,ed.d4)(e=>{var t;let n=(0,ex.Lg)(e)??"";return(null==(t=e.mirror.sceneGraph.get(n))?void 0:t.simplifyInstancePanels)??!1});return s.createElement("div",{className:e7.cx.bSolid.bt1.colorBorder.pt16.pb28.pl12.pr12.$},s.createElement(e0.S,{checked:e,label:s.createElement(e5.J,null,(0,D.t)("design_systems.component_panel.simplify_instances")),onChange:()=>eO.l7.user("simplify-instance-panels",()=>Q.glU.setSimplifyInstancePanels(!e)),recordingKey:"simplifyInstancePanelsCheckbox","data-testid":"simplify-instance-panels-checkbox"},s.createElement(D.Tx,{id:"design_systems.component_panel.simplify_instances_help_text"}),s.createElement(s.Fragment,null,"\xa0",s.createElement(e1.CY,{href:"https://help.figma.com/hc/articles/5579474826519-Explore-component-properties#simplified",target:"_blank",trusted:!0},s.createElement(D.Tx,{id:"general.learn_more"})))))}function e4(e){let{descriptionElement:t,menuType:n,description:l,links:r,pickerShown:a}=e,i=(0,ed.d4)(ek.i$),o=a.id===eq,c=(0,ed.d4)(e=>"state-group"===n?[(0,ex.od)(e)].filter(e=>null!=e):(0,eM.F4)(e)),d=s.useCallback(e=>{eO.l7.user("set-description",()=>{for(let t of c)t.setDescriptionRich(e)});let{componentKeys:t,updatedNodeIds:n}=e3(c);(0,p.sx)("component description updated",{updatedNodeIds:n,componentKeys:t,isRichText:!0,length:e.length})},[c]),u=s.useCallback(e=>{for(let t of c)(0,eN.c2)(t.symbolLinks,e)||(eR.wt.reportAnyPropertyChange(["symbolLinks"]),t.symbolLinks=e);let{componentKeys:t,updatedNodeIds:n}=e3(c);(0,p.sx)("component links updated",{updatedNodeIds:n,componentKeys:t})},[c]),m=(null==a?void 0:a.id)===ej&&i!==Q.iCO.STATE;return s.createElement(s.Fragment,null,s.createElement("div",{className:o?"component_controls_menu--descriptionContainerViewOnly--VAeo9 component_controls_menu--descriptionContainer--me8J2":"component_controls_menu--descriptionContainer--me8J2"},t,s.createElement(eB,{key:n,description:l,isViewOnly:o,onSubmitDescription:d,recordingKey:f.Pt(e,"componentDescriptionText")}),a.id===ej?s.createElement(eG,{links:r,onSubmitLinks:u}):s.createElement(eQ,{links:r})),m&&s.createElement(e2,null))}function e3(e){let t=e.map(e=>e.guid),n=t.map(e=>Q.Egt.getAssetKeyForPublish(e)).filter(eA.Vq).map(e=>e.toString());return{updatedNodeIds:t,componentKeys:n}}var e6=n(868879),e8=n(474554),e9=n(120550),te=n(383987);function tt({children:e}){let t=(0,ed.wA)(),n=(0,ed.d4)(e=>e.pickerShown),l=(0,ed.d4)(e=>e.mirror.sceneGraph),r=(0,te.Tv)(),a=(0,eI.yr)(),i=null==a?void 0:a.find(e=>e),o=new A.Mi(null==n?void 0:n.initialX,null==n?void 0:n.initialY);(0,e6.h)(()=>{let e=(null==n?void 0:n.id)===eq,t=(0,e8._P)(null==i?void 0:i.uri),a=null==r?void 0:r.map(e=>(null==n?void 0:n.id)===ej?Q.Egt.getAssetKeyForPublish(e):(null==n?void 0:n.id)===eq?Q.Egt.getAssetKeyForPublish((0,e8.k4)([e],l)??""):"").filter(eA.Vq).map(e=>e.toString());(0,p.sx)("Component documentation modal opened",{hostname:t,selectedNodeIds:r,componentKeys:a,isInstance:e})});let c=(null==n?void 0:n.id)===eq?(0,D.t)("design_systems.component_panel.component_documentation"):(0,D.t)("design_systems.component_panel.component_controls");return s.createElement(e9.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:o,initialWidth:320,onClose:()=>{t(H.XE())},scrollOverflow:!1,title:c},e)}var tn=n(313888),tl=n(531800);let tr=["component_set","selected_variant"],ta={component_set:{displayName:()=>(0,D.t)("design_systems.component_panel.component_set"),icon:tn.A},selected_variant:{displayName:()=>(0,D.t)("design_systems.component_panel.selected_variant"),icon:tl.A}};function ti(e){var t;let{description:n,links:l,containingStateGroupDescription:r,containingStateGroupLinks:a,isViewOnly:i,recordingKey:o}=e,[c,d]=s.useState((t=l??[],!i||(0,ee.gl)(n)||n.length>0||t.length>0?"selected_variant":"component_set")),p=!i||(n||(null==l?void 0:l.length))&&(r||(null==a?void 0:a.length)),u=f.qP(o??"variantDocumentationMenu","changeTab",e=>d(e)),m=(0,ed.d4)(e=>e.pickerShown);return eJ(m)?s.createElement(s.Fragment,null,!!p&&s.createElement("div",{className:"variant_documentation_menu--tabContainer--TDuq4",role:"tablist"},tr.map(e=>s.createElement(to,{key:e,onSetSelectedTab:u,selectedTab:c,tabType:e}))),s.createElement("div",null,s.createElement(e4,{pickerShown:m,menuType:"selected_variant"===c?"selection":"state-group",description:"selected_variant"===c?n:r??"",links:"selected_variant"===c?l:a,recordingKey:f.Pt(e,"componentControlsMenu")}))):null}function to({selectedTab:e,onSetSelectedTab:t,tabType:n}){let{displayName:l,icon:r}=ta[n],a=s.useCallback(()=>t(n),[t,n]),i=s.useCallback(e=>{e.keyCode===g.Uz.ENTER&&t(n)},[t,n]);return s.createElement("span",{className:e===n?"variant_documentation_menu--tabActive--3IOzf variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd":"variant_documentation_menu--tab--r9UJ6 variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:a,onKeyDown:i,key:n,role:"tab",tabIndex:0},s.createElement(x.B,{className:"variant_documentation_menu--tabIcon--f91ai",svg:r}),l())}function ts(e){let{description:t,containingStateGroupDescription:n,containingStateGroupLinks:l}=e,r=(0,ed.d4)(ek.i$),a=(0,ed.d4)(e=>e.pickerShown),i=(0,eI.yr)();return eJ(a)?s.createElement(tt,null,r===Q.iCO.STATE||r===Q.iCO.STATE_INSTANCE?s.createElement(ti,{description:t,links:i,containingStateGroupDescription:n,containingStateGroupLinks:l,isViewOnly:a.id===eq,recordingKey:f.Pt(e,"variantDocumentationMenu")}):s.createElement(e4,{description:t,links:i,descriptionElement:n?s.createElement(s.Fragment,null,s.createElement(eC,{isHTMLString:!0,containerClassName:"component_controls_picker--stateGroupDescriptionContainer--ggLn7",text:n}),s.createElement("p",{className:"component_controls_picker--header--ELquL"},s.createElement(D.Tx,{id:"design_systems.component_panel.current_variant"}))):void 0,menuType:"selection",pickerShown:a,recordingKey:f.Pt(e,"componentControlsMenu")})):null}var tc=n(294608),td=n(515573),tp=n(108465),tu=n(955766),tm=n(134576),th=n(54656);let tg="instance-property-preview-picker";function tE(e){let t=(0,ed.wA)(),n=(0,ed.d4)(e=>e.pickerShown),l=(0,ed.d4)(th.Z3),r=(0,ed.d4)(eM.dK);if((null==n?void 0:n.id)!==tg)return null;let a=t=>{let n={};for(let e of t){let t=(0,e8.Yi)([e],r)||(0,e8.k4)([e],r);t&&(n[t]?n[t].push(e):n[t]=[e])}return Object.values(n).map(t=>s.createElement(tm.ME,{key:`bubbledInstancePreview.${t[0]}`,guids:t,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:tu.NA.NAME_ONLY,containerWidth:e8.O2.WIDE,shouldHideInstanceTitleButtons:!0,propDimension:e8.OE.ASSIGNMENT,viewOnlyMode:tm.BK.ALL_PROPS,hideErrors:!0,recordingKey:e.recordingKey}))};return s.createElement(e9.vx,{title:(0,D.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new A.Mi(n.initialX,n.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(H.XE())}},s.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},l.map((e,t)=>a(e))))}var t_=n(797795),tf=n(772990),ty=n(901004),tv=n(109618),tb=n(849790);function tS(){let e=(0,ed.d4)(e=>e.library.local),t=(0,ed.d4)(eM.qd),n=s.useMemo(()=>{let n=new Set;for(let l of t){let t=(0,el.n5)(l,e);t&&(t.type===tf.PW.COMPONENT||t.type===tf.PW.STATE_GROUP)&&!(0,el.zE)(t)?n.add(t.node_id):t&&t.type===tf.PW.MODULE&&n.add(t.node_id)}return n},[e,t]),l=(0,ed.wA)(),r=s.useCallback(()=>{l(ef.to({type:tb.dD,data:{initiallyCheckedItemIDs:n,entrypoint:ty.RR.PROPERTIES_PANEL}}))},[l,n]);return n.size?s.createElement(tv.z,{onClick:r},(0,D.t)("design_systems.component_panel.publish_new_changes")):null}var tT=n(338998),tw=n(57567);function tP({description:e}){let t=s.useMemo(()=>(0,ee.gl)(e)?"":(0,eT.A)(e),[e]),n=(0,tT.Rt)(tT.G1.READY);return""===t?null:n?s.createElement(tw.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:s.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):s.createElement(eF.fI,null,s.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}var tC=n(464123);function tk(e){return 1>=(0,ed.d4)(e=>(0,ek._7)(e))?null:s.createElement(S.p,{name:"create_state_group_panel"},s.createElement(eF.Zk,null,s.createElement(eF.fI,null,s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"design_systems.states_panel.components"}))),s.createElement(tI,{...e})))}function tI(e){let t=(0,ed.d4)(e=>(0,ek._7)(e)),n=e=>{(0,p.sx)("Creating Variant Component",{type:"Merge",numVariants:e}),$.Y5.triggerActionInUserEditScope("create-state-group")};return s.createElement(tv.z,{key:"merge-button",recordingKey:f.Pt(e,"mergeButton"),onClick:()=>n(t)},s.createElement(D.Tx,{id:"design_systems.states_panel.combine_as_variants"}))}var tN=n(82131),tA=n(832039);let tR="component_panel--titleButtons--R-kU7",tO="component_panel--componentControlsButton--O969g";var tM=n(968109),tx=n(999918);function tL(){return(0,tc.R)(e=>{let t=(0,ek.i$)(e),n=(0,ex.od)(e);return{dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,stateGroupSelectionMode:t,containingProductComponent:n,containingStateGroupDescription:t===Q.iCO.STATE?null==n?void 0:n.description:void 0,containingStateGroupLinks:t===Q.iCO.STATE?null==n?void 0:n.symbolLinks:void 0,componentDescription:(0,ex.cv)(e)}})}function tK(e){let t=(0,ed.wA)(),{dropdownShown:n,pickerShown:l}=tL(),r=s.useMemo(()=>(null==n?void 0:n.type)===e8.C4,[n]),a=(null==l?void 0:l.id)===ej,i=tF(e);return s.useCallback(e=>{r&&t(e_.oB()),a?t(H.XE()):i(e,ej,320)},[a,r,t,i])}function tF(e){let t=(0,ed.wA)();return s.useCallback((n,l,r=ev.qo)=>{if(!e)return;let a=ec.findDOMNode(e.current),i=(0,ev.cn)(a,r);t(H.u1({id:l,initialX:i.x,initialY:i.y})),t(V.sw()),t(H.Uv())},[t,e])}let tD=s.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:n,containingProductComponent:l,containingStateGroupDescription:r,containingStateGroupLinks:a,componentDescription:i}=tL(),o=(0,tT.Rt)(tT.G1.READY),c=!!(0,ed.d4)(th.Z3).length,d=(0,ed.wA)(),p=s.useRef(null),u=e=>e.stopPropagation(),m=(null==t?void 0:t.id)===tg,h=tF(p),g=tK(p),E=s.useCallback(e=>{m?d(H.XE()):h(e,tg,304)},[d,m,h]),_=(0,ed.d4)(tp.Dr),y=(0,ed.d4)(tp.Ct);return o&&n!==Q.iCO.STATE?null:l||n!==Q.iCO.NON_STATE_COMPONENTS?l&&l.isAlive()?s.createElement(eF.Zk,{ref:p},s.createElement(eF.fI,{className:tN.LO},s.createElement(tH,null),s.createElement("span",{className:tR},n===Q.iCO.STATE&&c&&s.createElement(t_.YW,{selected:(null==t?void 0:t.id)===tg,onClick:E,onMouseDown:u,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_properties.instance_property_preview"),svg:tM.A,recordingKey:"instancePropertyPreviewButton"}),s.createElement(t_.YW,{className:tO,selected:(null==t?void 0:t.id)===ej,onClick:g,onMouseDown:u,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_panel.component_controls"),svg:tx.A,recordingKey:"componentControls"}))),s.createElement(tP,{description:i}),s.createElement(ts,{containingStateGroupDescription:r,containingStateGroupLinks:a,description:i,recordingKey:f.Pt(e,"componentControlsPicker")}),s.createElement(tE,null),n===Q.iCO.STATE&&s.createElement(tm.e6,{containerWidth:e8.O2.REGULAR,propDimension:e8.OE.DEFINITION,guids:[l.guid],recordingKey:e.recordingKey}),_&&y&&s.createElement(tS,null)):null:s.createElement(tk,{recordingKey:"createStateGroup"})});function tH({interiorSvg:e,alwaysShowParentComponent:t,svgOverride:n,focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}){let{stateGroupSelectionMode:a,containingProductComponent:i}=tL();if(!i)return null;let o=a===Q.iCO.STATE&&!t;return s.createElement(td.E,{name:"component_title_control"},s.createElement(tC.R,{interiorSvg:e,guid:i.guid,value:o?(0,D.t)("design_systems.component_panel.current_variant"):i.name,canEdit:!o,icon:n??s.createElement(x.B,{svg:tn.A,className:tA.Kk}),editAction:"rename-component",focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}))}var tB=n(268622),tV=n(767129),tU=n(31524),tz=n(404095),tZ=n(463420),tG=n(96796),tY=n(828675),tW=n(55330),tX=((l=tX||{})[l.VERTICAL=0]="VERTICAL",l[l.MIDDLE_CHILD=1]="MIDDLE_CHILD",l[l.LAST_CHILD=2]="LAST_CHILD",l);function t$(e){let{lineConfiguration:t,hideLine:n,wideContainer:l}=e;return s.createElement("div",{className:l?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&s.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return s.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return s.createElement(s.Fragment,null,s.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),s.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return s.createElement(s.Fragment,null,s.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),s.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let tQ="bubbled_instances_list--minusIcon--dY8i-",tj="bubbled_instances_list--instanceIcon--aRlGl",tq="bubbled_instances_list--instanceName--09LuV",tJ="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",t0="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",t5="bubbled_instances_list--ui3InstanceRow--in0DL",t1="bubbled_instances_list--ui3LineContainer--OdBbV",t7="bubbled_instances_list--ui3Line--SIYpX";var t2=n(349307);function t4(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:l,scrollableContainer:r}=e,a=(0,ed.d4)(th.K4),i=(0,tT.Rt)(),o=e=>{eO.l7.user("toggle-props-bubbled",()=>Q.glU.togglePropsAreBubbled(e)),Q.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},c=e=>{Q.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},p=()=>{Q.Ez5.canvasViewState().temporarilyHoveredNodes.set([])};return s.createElement("div",{className:d()({"bubbled_instances_list--scrollableContainer--ob0LQ":r})},null==a?void 0:a.map((r,a)=>{if(!t&&!r.isBubbled)return;let d=r.connectedGUIDs.slice(0).sort();return s.createElement(tY.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:a,onMouseEnter:()=>c(r.connectedGUIDs),onMouseLeave:p,recordingKey:f.Pt(e,d[0])},i?t?s.createElement(t9,{data:r,showNumHidden:n,onUnbubbleInstance:o,recordingKey:f.Pt(e,"checkbox",d[0]),wideContainer:l}):s.createElement(t6,{data:r,onUnbubbleInstance:o,recordingKey:f.Pt(e,"unbubble",d[0]),wideContainer:l}):s.createElement(s.Fragment,null,s.createElement(t$,{lineConfiguration:tX.VERTICAL,hideLine:0===r.bubbledNestedInstances.length,wideContainer:l},t?s.createElement(t3,{data:r,onUnbubbleInstance:o,showNumHidden:n,wideContainer:l,recordingKey:f.Pt(e,"checkbox",d[0])}):s.createElement(s.Fragment,null,s.createElement(x.B,{className:tj,svg:tM.A}),s.createElement("p",{className:l?tJ:tq},r.name),s.createElement(t_.K0,{className:tQ,svg:t2.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{o(r.connectedGUIDs[0])},recordingKey:f.Pt(e,"unbubble",d[0])}))),r.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(t$,{lineConfiguration:t===r.bubbledNestedInstances.length-1?tX.LAST_CHILD:tX.MIDDLE_CHILD,wideContainer:l},s.createElement("div",{className:l?tJ:tq},e.name))))))}))}function t3({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:l,recordingKey:r}){return s.createElement("div",{className:l?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},s.createElement(tW.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:r}),n&&!!e.numHidden&&s.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},s.createElement(D.Tx,{id:"design_systems.component_properties.num_hidden",num:e.numHidden})))}function t6({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:l}){let{bubbledNestedInstances:r}=e,a=s.createElement(tw.DE,{appendedClassName:t5,label:null,input:s.createElement("div",{className:t0},s.createElement("div",{className:tj},s.createElement(tU.y,null)),s.createElement("p",{className:tq},e.name)),icon:s.createElement("div",{className:tQ},s.createElement(tV.K,{as:"button","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_properties.unbubble_instance"),"aria-label":(0,D.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},onMouseDown:Y.dG,recordingKey:n},s.createElement(tz.f,null)))});return 0===r.length?a:s.createElement(t8,{data:e,row:a,wideContainer:l})}function t8({data:e,row:t,wideContainer:n}){let[l,r]=(0,s.useState)(!0),a=s.createElement(tY.GG,{className:"bubbled_instances_list--ui3CollapsibleRowWrapper--exQH7",onMouseDown:()=>r(!l)},s.createElement("div",{className:"bubbled_instances_list--ui3CollapsibleRowIcon--pTsfJ"},l?s.createElement(tZ.k,null):s.createElement(tG.O,null)),t),i=null;return l||(i=e.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(tw.DE,{appendedClassName:t5,label:null,input:s.createElement("div",{className:t0},s.createElement("div",{className:t1},s.createElement("div",{className:t7})),s.createElement("div",{className:n?tJ:tq},e.name)),icon:null})))),s.createElement(s.Fragment,null,a,i)}function t9({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:l,wideContainer:r}){return s.createElement(s.Fragment,null,s.createElement(tw.Ad,{label:null,input:s.createElement(t3,{data:e,onUnbubbleInstance:t,showNumHidden:l,wideContainer:r,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(tw.Ad,{label:null,input:s.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},s.createElement("div",{className:t1},s.createElement("div",{className:t7})),s.createElement("div",{className:r?tJ:tq},e.name))}))))}function ne(){let e="bubbledPropsPicker",t=(0,ed.d4)(e=>e.pickerShown),n=(0,ed.wA)(),l=new A.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==e8.Dd?null:s.createElement(e9.vx,{title:(0,D.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:l,initialWidth:e8.wh,headerSize:"small",onClose:()=>{n(H.XE())},recordingKey:e},s.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},s.createElement(t4,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var nt=n(740840),nn=n(765872);let nl="props_panel--addButtonContainer--a58gi",nr="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",na="props_panel--dropdownRowWithIcon--03FtD",ni="props_panel--dropdownRowWithoutIcon--F8Ra-",no="props_panel--bubbledInstancesHeading--C26v2";var ns=n(633779),nc=n(100562),nd=n(501191);function np({recordingKey:e}){let t=(0,ed.wA)(),{version:n}=(0,eh.DP)(),l="ui3"===n,r=(0,ed.d4)(ek.i$),a=(0,ed.d4)(ex.od),i=!(0,ed.d4)(nn.Jp),o=(0,ed.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e8.C4),c=(0,ed.d4)(e=>!!e.modalShown&&e.modalShown.type===nt.n.type),{componentDescription:d}=tL(),p=(0,ed.d4)(e=>e.pickerShown),u=o||c||(null==p?void 0:p.id)===e8.Dd,m=!!(0,ed.d4)(th.Z3).length,h=(0,ed.d4)(th.K4),g=!!(null==h?void 0:h.length),E=s.useRef(null),_=s.useRef(null),y=s.useCallback(e=>{p&&t(H.XE()),o?t(e_.oB()):t(e_.j7({type:e8.C4}))},[t,p,o]),v=s.useCallback(e=>{(0,e8.Pp)(a,!1,e,e8.Fv.ICON),t(ef.to({type:nt.n,data:{propType:e}}))},[t,a]),b=s.useCallback(()=>{a&&(a.isLooseComponent?$.Y5.triggerActionInUserEditScope("create-state-group"):v(Q.J0O.VARIANT))},[v,a]),S=s.useCallback(()=>{let e=ec.findDOMNode(_.current),n=e?(0,ev.cn)(e,e8.wh):{};t(H.u1({id:e8.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]),T=[Q.J0O.BOOL,Q.J0O.INSTANCE_SWAP,Q.J0O.TEXT];return a?s.createElement(eF.Zk,{ref:_},s.createElement(l?nm:nu,{isPanelEmpty:i,isAddPropButtonSelected:u,hasBubbledInstances:m,stateGroupSelectionMode:r,selectAddPropOptionRef:E,toggleAddPropDropdown:y}),o&&E.current&&s.createElement(eS.Cf,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},s.createElement(eg.W.Option,{disabled:!0,className:ni},s.createElement(D.Tx,{id:"design_systems.component_properties.create_new_property"})),s.createElement(eg.W.Option,{className:na,onClick:b,recordingKey:f.Pt("openCreatePropModal",(0,e8.xb)(Q.J0O.VARIANT))},s.createElement(eb.N,null,s.createElement(eE.U,{svg:nc.A},s.createElement(ep.m,null))),s.createElement(D.Tx,{id:"design_systems.component_properties.across_variants"})),T.map(e=>s.createElement(eg.W.Option,{key:e,className:na,onClick:()=>v(e),recordingKey:f.Pt("openCreatePropModal",(0,e8.xb)(e))},s.createElement(eb.N,null,s.createElement(eE.U,{svg:(0,e8.qe)(e)},(0,e8.zn)(e,!0))),(0,e8.xb)(e))),g&&s.createElement(s.Fragment,null,s.createElement(eg.W.Separator,null),s.createElement(eg.W.Option,{disabled:!0,className:ni},s.createElement(D.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),s.createElement(eg.W.Option,{className:na,onClick:S,recordingKey:"openBubbledPropPicker"},s.createElement(eb.N,null,s.createElement(eE.U,{svg:ns.A},s.createElement(eu,null))),(0,D.t)("design_systems.component_properties.choose_instances")))),(null==p?void 0:p.id)===e8.Dd&&s.createElement(ne,null),l&&!i?s.createElement(tP,{description:d}):null,s.createElement(tm.e6,{containerWidth:l?e8.O2.RESIZABLE_SIDEBAR:e8.O2.REGULAR,propDimension:e8.OE.DEFINITION,guids:[a.guid],recordingKey:e}),m&&s.createElement(s.Fragment,null,s.createElement("p",{className:no},(0,D.t)("design_systems.component_properties.bubbled_instances")),s.createElement(t4,{recordingKey:e}))):null}function nu({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){return s.createElement(eF.fI,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},s.createElement(eF.xw,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},s.createElement(D.Tx,{id:"design_systems.component_properties.properties"})),l!==Q.iCO.STATE&&s.createElement("div",{ref:r,className:nl},s.createElement(eF.YW,{className:nr,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_panel.create_component_property"),svg:nd.A,recordingKey:"openCreatePropModalDropdown"})))}function nm({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){let{pickerShown:i,containingStateGroupDescription:o,containingStateGroupLinks:c,componentDescription:d}=tL(),p=s.useRef(null),u=tK(p),m=s.createElement(eF.YW,{selected:(null==i?void 0:i.id)===ej,onClick:u,onMouseDown:Y.dG,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_panel.component_controls"),recordingKey:"componentControls"},s.createElement(em.A,null));return s.createElement(s.Fragment,null,s.createElement(tB.Dl,{ref:p,faded:e&&!t&&!n,titleTx:s.createElement(D.Tx,{id:"design_systems.component_properties.properties"}),leftIcon:m,rightIcon:l!==Q.iCO.STATE?s.createElement("div",{ref:r,className:nl},s.createElement(eF.YW,{className:nr,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_panel.create_component_property"),svg:nd.A,recordingKey:"openCreatePropModalDropdown"})):void 0}),s.createElement(ts,{containingStateGroupDescription:o,containingStateGroupLinks:c,description:d,recordingKey:"componentControlsPicker"}))}var nh=n(10199),ng=n(15110),nE=n(870482),n_=n(462443),nf=n(510326),ny=n(641160);function nv({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:l,recordingKey:r}){let a=(0,ed.wA)(),i=(0,ed.d4)(e=>e.mirror.selectedStyleProperties),o=(0,ed.d4)(e=>e.mirror.sceneGraphSelection),c=s.useRef(Object.keys(o).length>0),[d,p]=s.useState(!c.current&&void 0),u="ui3"===(0,eh.DP)().version,{styleRef:m,createStyle:h}=(0,ng.u)({inheritStyleKeyField:l,isCreatingFromSelection:c.current,trackingOptions:{styleType:n}}),g=f.of(r,"submit",()=>{h(),a(H.XE()),a(H.Uv()),a(V.sw())}),E=(0,ed.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return i.styleType?s.createElement(n_.zK.Provider,{value:n_.zM.CREATE_STYLE},s.createElement(e9.vx,{title:(e=>{switch(e){case"FILL":return(0,D.t)("design_systems.create_style.color");case"TEXT":return(0,D.t)("design_systems.create_style.text");case"EFFECT":return(0,D.t)("design_systems.create_style.effect");case"EXPORT":return(0,D.t)("design_systems.create_style.export");case"GRID":return(0,D.t)("design_systems.create_style.grid");default:return(0,D.t)("design_systems.create_style.create_new_style_generic")}})(i.styleType),headerSize:"small",initialWidth:nf.tA,initialPosition:e,onClose:()=>a(V.sw()),recordingKey:f.Pt("createStyleModal"),dragHeaderOnly:!0},s.createElement("div",{className:ny.FY},s.createElement(nE.O,{type:i.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:i,showProperties:d,onEnterPressed:g}),!m&&s.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},s.createElement(D.Tx,{id:"design_systems.create_style.an_error_occurred_while_creating_the_style"})),s.createElement(nh.AutoLayout,{horizontalAlignItems:c.current?void 0:"end",verticalAlignItems:"center",spacing:c.current?"auto":void 0,padding:u?8:16},c.current&&s.createElement(eF.JU,{className:d?"create_style_modal--fadedShowMorePropertiesLabel--g8ydZ":"create_style_modal--showMorePropertiesLabel--mJpGe",onClick:()=>p(!d)},d?s.createElement(D.Tx,{id:"design_systems.create_style.hide_options"}):s.createElement(D.Tx,{id:"design_systems.create_style.show_more_options"})),s.createElement(e1.$$,{style:{justifySelf:"right"},onClick:g,disabled:!E||!m,tabIndex:0},s.createElement(D.Tx,{id:"design_systems.create_style.create_style"})))))):null}var nb=n(631044),nS=n(667351);function nT(e){let t=(0,ed.wA)(),n=(0,F.dI)(e.selectedStyleProperties.guid),l="",r="",[a,i]=(0,nS.Fk)((e,t)=>{let n=e.get(t);return[(null==n?void 0:n.name)||"",(null==n?void 0:n.styleDescription)||""]},n);return e.externalStyle?(l=e.externalStyle.name||"",r=e.externalStyle.description_rt?(0,eT.A)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,F.dI)(e.selectedStyleProperties.guid)&&(l=a,r=(0,eT.A)(i)),s.createElement(n_.zK.Provider,{value:n_.zM.EDIT_STYLE},s.createElement(nE.O,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(V.sw()),styleName:l,styleDescription:r,hideNameDescription:e.hideNameDescription,...e}))}var nw=n(945137),nP=n(762076);function nC({recordingKey:e}){let t=(0,ed.wA)(),{version:n}=(0,eh.DP)(),l=(0,ed.d4)(ex._k),r=!(0,ed.d4)(nn.Jp),a=(0,ed.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e8.C4),i=(0,ed.d4)(e=>!!e.modalShown&&e.modalShown.type===nt.n.type),o=(0,ed.d4)(e=>e.pickerShown),c=a||i||(null==o?void 0:o.id)===e8.Dd,d=!!(0,ed.d4)(th.Z3).length,p=(0,ed.d4)(th.K4),u=!!(null==p?void 0:p.length),m=s.useRef(null),h=s.useRef(null),g=s.useCallback(()=>{o&&t(H.XE()),a?t(e_.oB()):t(e_.j7({type:e8.C4}))},[t,o,a]),E=s.useCallback(()=>{let e=ec.findDOMNode(h.current),n=e?(0,ev.cn)(e,e8.wh):{};t(H.u1({id:e8.Dd,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]);return l&&u?s.createElement(eF.Zk,{ref:h},s.createElement("ui3"===n?nm:nu,{isPanelEmpty:r,isAddPropButtonSelected:c,hasBubbledInstances:d,selectAddPropOptionRef:m,toggleAddPropDropdown:g,stateGroupSelectionMode:void 0}),a&&m.current&&s.createElement(eS.Cf,{targetRect:m.current.getBoundingClientRect(),propagateCloseClick:!0},s.createElement(eg.W.Option,{disabled:!0,className:ni},s.createElement(D.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),s.createElement(eg.W.Option,{className:na,onClick:E,recordingKey:"openBubbledPropPicker"},s.createElement(eb.N,null,s.createElement(eE.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:ns.A})),(0,D.t)("design_systems.component_properties.choose_instances"))),(null==o?void 0:o.id)===e8.Dd&&s.createElement(ne,null),d&&s.createElement(s.Fragment,null,s.createElement("p",{className:no},(0,D.t)("design_systems.component_properties.bubbled_instances")),s.createElement(t4,{recordingKey:e}))):null}var nk=n(239338),nI=n(36317),nN=n(939732),nA=n(728068);function nR(){return null}var nO=n(76008),nM=n(540368),nx=n(339494),nL=n(794307),nK=n(897138),nF=n(216817),nD=n(483469),nH=n(951784),nB=n(948993),nV=n(24422),nU=n(947680),nz=n(669234),nZ=n(597721),nG=n(46160),nY=n(428748),nW=n(9789),nX=n(507776),n$=n(237962),nQ=n(410134),nj=n(386455),nq=n(860168);let nJ="styles--contextMenu--C-hVT",n0="styles--showOnRowHover--OUqRT",n5="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT";function n1({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:l,hideStylePreview:r,index:a,inspectStyleSelected:i,isDragging:o,isEditable:c,isRenaming:d,level:p,name:u,nameRef:m,onChildLeftClick:h,onContextMenu:E,onCreateFolder:_,onDoubleClick:y,onHoverChange:v,onMouseDown:b,onMouseMove:S,recordingKey:T,rowRef:w,secondaryName:P,selected:C,selectedSecondary:k,stopRenamingItem:I,tooltipData:N}){let A=s.useRef(null),[R,O]=s.useState(u),[M,x]=s.useState(!1),L=(0,nj.GS)(),K=s.useCallback(e=>{if(e){let t=ec.findDOMNode(e);t&&t.select()}},[]);s.useEffect(()=>{O(u)},[u]);let F=s.useCallback(e=>{""===e.trim()?(I(a,u),O(u)):I(a,e)},[a,u,I]),D=(0,f.AF)((0,f.Pt)(T,"text-input"),"change",s.useCallback(e=>{O(e.currentTarget.value)},[O])),H=(0,f.v_)((0,f.Pt)(T,"text-input"),"keydown",e=>{e.keyCode===g.Uz.ESCAPE?(I(a,u),O(u)):e.keyCode===g.Uz.ENTER&&F(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),B=(0,f.v_)(T,"keydown",e=>{c&&!d&&(e.keyCode===g.Uz.BACKSPACE||e.keyCode===g.Uz.DELETE)?n():c&&!d&&e.keyCode===g.Uz.G&&(0,g.Fo)(e)?(_(),e.preventDefault()):!d&&e.nativeEvent&&$.Y5.forwardKeyboardEvent(e.nativeEvent)}),V=s.useCallback(()=>{F(R)},[F,R]),U=(0,f.rf)(T,"contextmenu",e=>{E(e)}),z=(0,f.rf)(T,"mousemove",e=>{S(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),Z=(0,f.rf)(T,"mousedown",e=>{b(e),r()}),G=(0,f.rf)(T,"mouseenter",s.useCallback(()=>{x(!0),null==v||v(!0)},[x,v])),W=s.useCallback(()=>{x(!1),null==v||v(!1)},[x,v]),X=(0,f.rf)(T,"dblclick",s.useCallback(e=>{y(e)},[y])),Q=Math.min((p-1)*3,18),j=nq.jNX-4-Q,q=l||M&&!o,J=s.createElement("div",{className:d?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:u,style:{gridColumnEnd:`span ${M&&!d||i?j-(L?7:5):j}`}},d?s.createElement(eF.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:V,onChange:D,onKeyDown:H,ref:K,spellCheck:!1,value:R}):s.createElement(s.Fragment,null,s.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:m,...N},u),P&&s.createElement("div",{className:"styles--textStyle--DiUv4"},P)));return s.createElement(nW.e,{className:k?"styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip styles--rowWithBorder--bphZ- styles--row--qsY-0":C?"styles--rowSelectedPrimary--Qpsa1 styles--rowWithBorder--bphZ- styles--row--qsY-0":q?"styles--rowWithHoveredBorder--0vgNj styles--rowWithBorder--bphZ- styles--row--qsY-0":"styles--rowWithBorder--bphZ- styles--row--qsY-0",dragging:o,hideGrabber:!0,onContextMenu:U,onKeyDown:B,onMouseDown:Z,onMouseEnter:G,onMouseLeave:W,onMouseMove:z,onDoubleClick:X,ref:(0,nQ.A)(A,w),selected:C,selectedSecondary:!1,tabIndex:0},Q>0&&s.createElement("span",{style:{gridColumnEnd:`span ${Q}`}}),s.createElement("div",{className:"styles--childLeftContainer--Hu61K",onMouseDown:h&&Y.dG,onClick:h},e,L&&J),!L&&J,t)}var n7=n(949207),n2=n(432023),n4=n(660164);function n3({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:l,index:r,isCollapsed:a,isDragging:i,isEditable:o,isRenaming:c,isTemporarilyExpanded:d,level:p,onContextMenu:u,onCreateFolder:m,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:_,selected:y,selectedSecondary:v,stopRenamingItem:b,temporarilyExpandFolder:S,toggleFolder:T}){let w=(0,ed.wA)(),[P,C]=s.useState(!1),k=s.useRef(null),I=P&&!c&&o;s.useEffect(()=>{if(P&&i&&a){let e=setTimeout(()=>{S(t.name)},1e3);return()=>clearTimeout(e)}},[P,i,a,S,t]);let N=s.useCallback(()=>{var e;let n=(0,n$.Zk)(t.styleTypeSection),l=null==(e=k.current)?void 0:e.getBoundingClientRect();n&&l&&w(V.Zs({rowLeft:l.left,rowTop:l.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:n}))},[k,t.name,t.styleTypeSection,w]);return s.createElement(n1,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:l,index:r,isDragging:i,isEditable:o,isRenaming:c,level:p,name:(0,nZ.kH)(t.name),onChildLeftClick:function(){T(!a)},onContextMenu:u,onCreateFolder:m,onDoubleClick:function(){t.styleTypeSection&&E(t.name,!1,t.styleTypeSection)},onHoverChange:C,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:_,selected:y,selectedSecondary:v,stopRenamingItem:b,rowRef:e=>{e&&(k.current=ec.findDOMNode(e))},childLeft:s.createElement(x.B,{svg:a&&!d?n2.A:n7.A,className:"styles--caret--DZmzh"}),childRight:I&&s.createElement(eF.$4,null,s.createElement(eF.K0,{className:y?n5:n0,recordingKey:f.Pt(_,"addButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.styles.tooltips.create"),svg:nd.A,fallbackSvg:n4.A,onClick:N}))})}var n6=n(613420),n8=n(336930),n9=n(162502);function le({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:l,isEditable:r,isRenaming:a,level:i,onContextMenu:o,onCreateFolder:c,onInspectStyle:d,onMouseDown:p,onMouseMove:m,onRenameItem:h,recordingKey:g,selected:E,selectedSecondary:_,stopRenamingItem:y,dsStyle:v,stylePreviewShown:b,updateContextMenuStyleRef:S,updateSelection:T,updateFocusRowRef:w}){var P;let[C,k]=s.useState(!1),I=(0,ed.wA)(),N=s.useRef(null),A=s.useRef(null),R=s.useCallback(()=>{r&&h(v.node_id,!0,v.style_type)},[h,v.node_id,v.style_type,r]),O=b.isShown&&!b.isCreating&&b.style.node_id===v.node_id&&(0,W.EF)(b.style,v),M=C&&!a||O,x=s.useCallback(function(){let e=A.current;if(e){let t=e.getBoundingClientRect();O?I(V.sw()):(I(V.rk({style:v,rowTop:t.top,rowLeft:t.left})),d(v),T({type:v.style_type,folderNames:new Set,styleIds:new Set(v.node_id)}))}I(H.XE())},[I,d,T,v,O]),L=s.useCallback(e=>{(2===e.button||e.ctrlKey)&&S(A.current),p(e),O&&x()},[x,p,O,S]),K=N.current,F=!!K&&K.offsetWidth<K.scrollWidth,B=s.useMemo(()=>!l&&v.description&&F?{"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ey.MW.STYLE_INFO,"data-tooltip-style-name":(0,nZ.kH)(v.name),"data-tooltip-style-description":v.description,"data-tooltip-max-width":nq.jNX*(0,u.hG)(nq.dGl)}:null,[F,l,v.name,v.description]),U="TEXT"===v.style_type&&(null==(P=v.meta)?void 0:P.style_thumbnail)?v.meta.style_thumbnail:null;return s.createElement(n1,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:O,isDragging:l,isEditable:r,isRenaming:a,level:i,name:(0,nZ.kH)(v.name),nameRef:N,onContextMenu:o,onCreateFolder:c,onDoubleClick:R,onHoverChange:k,onMouseDown:L,onMouseMove:m,onRenameItem:h,recordingKey:g,rowRef:e=>{if(e){let t=ec.findDOMNode(e);w&&w(t),A.current=t}},secondaryName:U&&(0,n6.P$)(U,!0),selected:E,selectedSecondary:_,stopRenamingItem:y,tooltipData:B,childLeft:s.createElement(s.Fragment,null,s.createElement(n8.zi,{dsStyle:v,disableTooltip:!0}),E&&"FILL"===v.style_type&&s.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:M&&s.createElement(eF.$4,null,s.createElement("div",{style:{gridColumnEnd:"span 1"}}),s.createElement(t_.YW,{className:E?n5:n0,recordingKey:f.Pt(g,"customButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":r?(0,D.t)("design_systems.styles.edit_style"):(0,D.t)("design_systems.styles.view_style"),svg:n9.A,selected:O,onMouseDown:Y.dG,onClick:x}))})}function lt({styleType:e,children:t}){let n=!(0,nU.p8)("isReadOnly");return s.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?s.createElement(ln,{styleType:e,recordingKey:`style-section-header-${e}`}):s.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,el.QT)(e)),t)}function ln({styleType:e,recordingKey:t}){let[n,l]=s.useState(!1),r=(0,ed.wA)(),a=s.useRef(null),i=s.useCallback(()=>{var t;let n=(0,n$.Zk)(e),l=null==(t=a.current)?void 0:t.getBoundingClientRect();n&&l&&r(V.Zs({rowLeft:l.left,rowTop:l.top,styleType:e,inheritStyleKeyField:n}))},[a,e,r]);return s.createElement(tY.D8,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),recordingKey:t,forwardedRef:a},s.createElement(eF.JU,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,el.QT)(e)),n&&s.createElement(t_.K0,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:f.Pt(t,"addButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,el.XV)(e).toLowerCase()}),svg:nd.A,fallbackSvg:n4.A,onClick:i}))}lt.displayName="StyleTypeSection";var ll=n(113420),lr=n(59082);let la=eg.W.Dropdown,li=eg.W.Option,lo=eg.W.Separator,ls="styles-by-type-context-menu",lc=.75*(0,u.hG)(nq.uj0);function ld({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i,styleType:o}){let c=(0,ll.U)(),d=(0,ed.d4)(e=>e.library.localStyleSelection),p=s.useMemo(()=>d&&d.type===o&&(null==c?void 0:c.type)===ls?(0,lr.QA)(d,c.data.uiList):[],[d,c,o]),u=s.useMemo(()=>(0,lr.Ug)(p).map(e=>e.node_id),[p]),m=u.length;return c&&u.length?s.createElement(lp,{styleRowRef:e,selectedItems:p,numStyles:m,dropdownShown:c,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i}):s.createElement("div",null)}function lp({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:l,onEditStyle:r,onRenameItem:a,onCreateFolder:i,onDeleteItems:o,onCutItems:c,onPasteItems:d}){var p;let u=(0,ed.wA)();s.useEffect(()=>(Q.glU.computePastableStyleCount(),()=>{Q.glU.clearPastableStyleCount()}),[]);let m=(0,ed.d4)(e=>e.mirror.appModel.pastableStyleCount),h=!!(null==(p=(0,nz.q5)())?void 0:p.canEdit),g=s.useCallback(()=>{if(!t.length||t[0].type!==tf.PW.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();u(V.rk({style:n,rowTop:t.top,rowLeft:t.left})),u(H.XE())}r(n)},[u,t,r,e]),E=s.useCallback(()=>{if(!t.length||t[0].type===tf.PW.STYLE)return;let e=t[0];a(e.name,!1,e.styleTypeSection)},[a,t]);if(-1===m)return s.createElement("div",null);if(!h)return n>1?s.createElement("div",null):s.createElement(la,{style:l.data.position,className:nJ},s.createElement(li,{recordingKey:"edit-style-option",onClick:g},s.createElement(D.Tx,{id:"design_systems.styles.view_style"})));let _=1===n&&(t[0].type===tf.PW.STYLE?s.createElement(li,{recordingKey:"edit-style-option",onClick:g},s.createElement(D.Tx,{id:"design_systems.styles.edit_style"})):s.createElement(li,{recordingKey:"rename-folder-option",onClick:E},s.createElement(D.Tx,{id:"design_systems.styles.rename_folder"})));return s.createElement(la,{style:l.data.position,className:nJ},s.createElement(li,{recordingKey:"create-folder-option",onClick:i},s.createElement(D.Tx,{id:"design_systems.styles.add_new_folder"})),_,s.createElement(li,{recordingKey:"delete-style-option",onClick:o},s.createElement(D.Tx,{id:"design_systems.styles.delete_styles",numStyles:n})),s.createElement(lo,null),s.createElement(li,{recordingKey:"cut-style-option",onClick:c},s.createElement(D.Tx,{id:"design_systems.styles.cut_styles",numStyles:n})),!!m&&s.createElement(li,{recordingKey:"paste-style-option",onClick:d},s.createElement(D.Tx,{id:"design_systems.styles.paste_styles",numStyles:m})))}var lu=n(710752);function lm(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",d:"m6 16-.354-.354a.5.5 0 0 0-.146.355L6 16Zm.004 1.996h-.5a.5.5 0 0 0 .5.5v-.5Zm1.996 0v.5a.5.5 0 0 0 .353-.147L8 17.996Zm5.5-5.496.354-.354-.354.354Zm-2-2 .354-.354-.354.354ZM13 8l-.354.354.354.353.354-.353L13 8Zm3 3-.354-.353-.353.353.354.354L16 11Zm-3.01-3.01.353-.354-.353.354Zm1.02 5.02.354-.353-.354.353ZM5.5 16.001l.004 1.996 1-.003L6.5 16h-1Zm.504 2.495H8v-1H6.004v1Zm2.35-.147 5.5-5.495-.707-.708-5.5 5.496.706.707Zm5.5-6.203-2-2-.708.708 2 2 .708-.708Zm-2.708-2-5.5 5.5.708.708 5.5-5.5-.708-.708Zm-.51.197.51.51.707-.707-.51-.51-.707.708Zm3.728 2.314-.51-.51-.708.707.51.51.708-.707Zm1.98.707.02-.02-.708-.707-.02.02.708.707Zm-5.688-5.728-.02.02.707.708.02-.02-.707-.708Zm2.697.01-.01-.01-.707.707.01.01.707-.707Zm0 .708 2-2-.707-.708-2 2 .708.708Zm3.01 2.303-.01-.01-.707.707.01.01.708-.707Zm1.284-2.01-2 2 .707.707 2-2-.707-.708Zm0-2.293a1.62 1.62 0 0 1 0 2.292l.707.708a2.621 2.621 0 0 0 0-3.708l-.707.708Zm-6.283 1.99a.9.9 0 0 1 1.272 0l.707-.708a1.9 1.9 0 0 0-2.687 0l.707.707Zm5 5a1.9 1.9 0 0 0 0-2.687l-.708.707a.9.9 0 0 1 0 1.272l.708.708Zm-2.708.02a1.9 1.9 0 0 0 2.688 0l-.708-.707a.9.9 0 0 1-1.272 0l-.708.707Zm1.697-7.01a1.621 1.621 0 0 1 2.293 0l.708-.708a2.621 2.621 0 0 0-3.708 0l.707.708Zm-4.01 3.282a.9.9 0 0 1 0-1.272l-.707-.708a1.9 1.9 0 0 0 0 2.688l.707-.708Z"}))}var lh=n(884909),lg=n(304173),lE=n(608974),l_=n(257812),lf=n(319431),ly=n(914110);let lv="local-style-creation-dropdown";function lb(){var e;let t=(0,ed.wA)(),n=(0,s.useContext)(n_.lk),l=!(0,nU.p8)("isReadOnly"),r=s.useRef(null),a=s.useRef(null),i=r.current,o=(0,ll.U)(),c=(null==o?void 0:o.type)===lv,d=null==(e=null==o?void 0:o.data)?void 0:e.targetRect,u="localStyleHeader",m=0===(0,nf.Bs)().length,h=(0,ed.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),g=s.useMemo(()=>d||(c&&i?i.getBoundingClientRect():null),[d,i,c]),E=()=>{t(e_.oB())},_=()=>{t(e_.j7({type:lv}))},y=e=>{e.stopPropagation(),t(V.YG());let n=r.current;c?E():n&&((0,p.sx)("editor-local-styles-dropdown-show"),_())},v=e=>{var t;E();let l=(0,n$.Zk)(e),r=null==(t=a.current)?void 0:t.getBoundingClientRect();l&&r&&n({styleType:e,inheritStyleKeyField:l,rowLeft:r.left,rowTop:r.top})},b=m&&!c&&!h;return s.createElement(eF.fI,{className:b?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:a},s.createElement(eF.xw,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>b&&y(e),onClick:e=>e.stopPropagation()},s.createElement(D.Tx,{id:"design_systems.styles.local_styles"})),l&&s.createElement(s.Fragment,null,s.createElement(eF.K0,{svg:nd.A,fallbackSvg:n4.A,ref:r,onMouseDown:y,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.create_style.create_style"),recordingKey:f.Pt(u,"addButton")}),c&&g&&s.createElement(eS.Cf,{targetRect:g,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},el.og.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:s.createElement(eE.U,{svg:ly.A},s.createElement(lu.e,null)),label:(0,D.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:s.createElement(eE.U,{svg:l_.A},s.createElement(lm,null)),label:(0,D.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:s.createElement(eE.U,{svg:lf.A},s.createElement(lh.E,null)),label:(0,D.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:s.createElement(eE.U,{svg:lE.A},s.createElement(lg.n,null)),label:(0,D.t)("design_systems.styles.dropdown.effect")};default:throw(0,nL.j)(e),Error(`Invalid style type: ${e}`)}}(e),l=t=>{t.stopPropagation(),v(e)};return s.createElement(eg.W.Option,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:l,onPointerUp:l,recordingKey:f.Pt(u,`dropdown-option-${e}`)},s.createElement(eb.N,null,t),n)}))))}let lS="collapsed-style-folders";function lT({scrollContainer:e,recordingKey:t}){let n=(0,nf.Bs)(),l=(0,nU.p8)("isReadOnly");return 0===n.length&&l?null:s.createElement(S.p,{name:"local_styles_panel"},s.createElement(eF.Zk,null,s.createElement(lw,{scrollContainer:e,recordingKey:t})))}function lw({scrollContainer:e,recordingKey:t}){let n=(0,ed.wA)(),l=(0,ed.d4)(e=>e.stylePreviewShown),r=(0,ed.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),a=(0,ed.d4)(e=>e.mirror.appModel.currentTool),i=s.useRef(null),o=(0,nf.Bs)(),c=(0,ed.d4)(e=>e.library.localStyleSelection),[d,u]=s.useState(null),[m,h]=s.useState(null),g=s.useRef(null),[E,_]=s.useState(!1),y=r===Q.m1T.GRADIENT||r===Q.m1T.RASTER||a===Q.NLJ.DROPPER_COLOR;s.useEffect(()=>{let e=()=>{!y&&(n(nB.Bn(null)),l.isShown&&(n(V.sw()),Q.glU.selectStyle(R.n3.INVALID,R.IA.INVALID)))},t=(0,Y.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,l.isShown,y]);let{stylesByType:v,foldersAndStylesByType:b}=s.useMemo(()=>{let e=(0,el.Kw)(o),t=new Map;return el.og.map(n=>{let l=e.get(n);if(l){(0,el.LX)(l);let e=(0,lr.lM)(l,n),r=(0,lr.l0)(e);t.set(n,r)}}),{stylesByType:e,foldersAndStylesByType:t}},[o]),S=s.useCallback(e=>{(0,nL.KF)(null!=e.content_hash,"style does not have a hash"),Q.glU.selectStyleByGuid(e.node_id),n(nB.ay({isRenaming:!1})),(0,p.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),T=s.useCallback((e,t,n)=>{u(t?e:null),h(t?null:{name:e,styleTypeSection:n})},[]),w=s.useCallback(e=>{if(!e){n(nB.Bn(null));return}let t=new Set;e.styleIds.forEach(n=>{let l=o.find(e=>e.type===tf.PW.STYLE&&e.node_id===n);if(!l)return;let r=(0,nZ.In)(l.name);e.folderNames.has(r)||t.add(n)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};n(nB.Bn(l))},[n,o]),P=s.useCallback((e,t,n)=>{if(!c)return;let l=e[t],r=(e,t)=>{let l=(0,nZ.ke)(e.name),r=null!=t?t:l.length-1;l[r]=n;let a=(0,lr.Pc)(l.join("/"));eO.l7.user("rename-style",()=>Q.glU.renameNode(e.node_id,a))};if(l.name!==n){if(l.type===tf.PW.STYLE)r(l);else{(0,lr.mx)(t,e).forEach(t=>{let n=e[t];n.type===tf.PW.STYLE&&r(n,l.level-1)});let a=new Set(c.folderNames);a.delete(l.name);let i=(0,nZ.In)(l.name)+"/"+n;a.add(i),w({type:c.type,folderNames:a,styleIds:c.styleIds})}}$.Y5.triggerAction("commit"),u(null),h(null)},[c,w]),C=s.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(e_.j7({type:ls,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-lc)}}}))},[n]),k=s.useCallback(e=>{g.current=e},[]),I=s.useCallback(()=>{_(!0)},[]),N=s.useCallback(()=>{_(!1)},[]);return s.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:i},s.createElement(lb,null),el.og.map(n=>{let l=v.get(n);if(!l)return;let r=b.get(n);if(r)return s.createElement(lP,{key:n,recordingKey:f.Pt(t,`style-section-${n}`),styleType:n,storedStyleList:l,styleList:r,updateSelection:w,isDragging:E,onDragStart:I,onDragEnd:N,onInspectStyle:S,onContextMenu:C,updateContextMenuStyleRef:k,renamingStyleID:d,renamingFolder:m,onRenameItem:T,stopRenamingItem:P,styleRowRef:g.current,onEditStyle:S,scrollContainer:e})}))}function lP({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:l,renamingFolder:r,onRenameItem:a,stopRenamingItem:i,onDragStart:o,onDragEnd:c,onInspectStyle:d,onContextMenu:p,updateContextMenuStyleRef:u,updateSelection:m,styleRowRef:h,scrollContainer:g,recordingKey:_}){let y=(0,nz.q5)(),v=!(0,nU.p8)("isReadOnly"),b=(0,ed.wA)(),S=(0,ed.d4)(e=>e.stylePreviewShown),T=(0,ed.d4)(t=>(0,nG.i4)(t,e)),w=(0,ed.d4)(t=>(0,nG.A7)(t,e,n)),[P,C]=s.useState(()=>{if(nX.x4&&y){let t=JSON.parse(nX.x4.getItem(lS)||"{}");if(y.key in t){let n=t[y.key];if(e in n)return new Set(n[e])}else t[y.key]={},nX.x4.setItem(lS,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[k,I]=s.useState([]),[N,A]=s.useState(null),[O,M]=s.useState(null),x=s.useMemo(()=>(0,nK.s)(()=>{b(nV.GT({styleType:e}))},200),[b,e]);s.useEffect(()=>{x()},[x,n]);let L=(0,nF.Z)(P);s.useEffect(()=>{if(!L||!nX.x4||!y||(0,nH._f)(L,P))return;let t=JSON.parse(nX.x4.getItem(lS)||"{}"),n=t[y.key];n&&(n[e]=[...P],nX.x4.setItem(lS,JSON.stringify(t)))},[P,y,L,e]);let K=s.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),F=s.useCallback((e,t)=>{let l=new Set(e),r=[];n.forEach((e,t)=>{if(l.has(e)&&(r.push(t),"STYLE_FOLDER"===e.type)){let e=(0,lr.mx)(t,n);r.push(...e)}});let a=new Set(r),i=t?n.indexOf(t):n.length,o=[...(0,E.y1)(i).filter(e=>!a.has(e)),...r,...(0,E.y1)(i,n.length).filter(e=>!a.has(e))],s=new Map;return o.forEach((e,t)=>{e!==t&&s.set(e,t)}),s},[n]),B=s.useCallback(()=>{S.isShown&&(b(V.sw()),b(H.XE()),Q.glU.selectStyle(R.n3.INVALID,R.IA.INVALID))},[b,S.isShown]),U=s.useMemo(()=>{if(!N)return null;if("in"===N.type){let e=n[N.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==N.index||null==O||!T)return null;let e=(0,lr.QA)(T,n),t=e[0],l=null,r=null;if(0===N.index?r=n[N.index]:N.index===n.length?l=n[N.index-1]:(l=n[N.index-1],r=n[N.index]),(null==l?void 0:l.type)==="STYLE_FOLDER"&&P.has(l.name)&&-1===k.indexOf(l.name))return{folderNameToNestUnder:l.name,dividerStyles:{display:"none"}};if((null==l?void 0:l.type)===tf.PW.STYLE){let e=(0,nZ.In)(l.name).split("/");for(let n=0;n<e.length;n++){let l=e.slice(0,n+1).join("/");if(P.has(l)&&-1===k.indexOf(l)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:l,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,nZ.In)(l),dividerStyles:{marginLeft:24*Math.min((0,nZ.ke)(l).length,8)-8}}}}}let a=0,i=null,o=l?(0,lr.rM)(l):0,s=r?(0,lr.rM)(r):0;if(o<=s)a=s,i=l?l.type===tf.PW.STYLE?(0,nZ.In)(l.name):l.name:"";else if((0,nL.KF)(null!=l,"Dragging after an item that doesn't exist"),t.type===tf.PW.STYLE||O>=.5)a=o,i=(0,nZ.In)(l.name);else{let e=Math.floor(O/.5*(0,lr.rM)(l));e=Math.max(s-1,e),i=(0,nZ.ke)((0,nZ.In)(l.name)).slice(0,e).join("/"),a=e+1}let c={marginLeft:24*Math.min(a,8)-8};return l&&e.includes(l)||!(0,lr.Md)(l,t,r)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:i,dividerStyles:c}},[P,O,T,N,n,k]),z=s.useCallback((l,r,a,i)=>{if(!t||!r&&!a||!U)return;let o=U.folderNameToNestUnder;if(null===o)return;let s=[],c=[];l.forEach(e=>{(0,lr.Md)(r,e,a,o)&&("STYLE_FOLDER"===e.type?c.push(e):s.push(e))});let d=s.concat(c);if(!d.length)return;let p=eO.l7.user("reorder-styles",()=>(0,lr.VB)(d,r,a,o,n,t,i||!1)),u=new Set,h=new Set;d.forEach(e=>{let t=(0,lr.t_)(e),n=null==p?void 0:p.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):h.add(t))}),m({type:e,folderNames:u,styleIds:h});let g=new Set;return P.forEach(e=>{if(o.startsWith(e))return;let t=null==p?void 0:p.get(e);t?g.add(t):g.add(e)}),C(g),B(),i||$.Y5.triggerAction("commit"),F(d,a)},[m,P,U,F,B,t,n,e]),Z=s.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let l=n.indexOf(t),r=(0,lr.dm)(t).filter(e=>(0,nZ.In)(e.name)===t.name);if(!r.length)return z(e,t,n[l+1]);{let t=r[r.length-1],l=n.indexOf(t);return z(e,t,n[l+1])}},[z,n]),G=(0,nD.xx)((e,t)=>{let l=new Map,r=t.map(e=>e.type===tf.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let a=r.indexOf(e);-1!==a&&(0,lr.mx)(a,n).forEach(e=>{let n=t[e],r="STYLE_FOLDER"===n.type?n.name:n.node_id,a=l.get(r);a||(a=0),l.set(r,a+1)})}),l}),Y=s.useCallback(()=>{if(!T)return;let t=(0,lr.QA)(T,n);if(0===t.length)return;let l=t[0],r=n.indexOf(l),i=r,o=r+1;if(l.type===tf.PW.STYLE&&n[o]&&n[o].type===tf.PW.STYLE){let e=(0,lr.rM)(l);for(let t=r+1;t<n.length;t++){let l=n[t];if("STYLE_FOLDER"===l.type&&l.level===e||(0,lr.rM)(l)<e){i=t-1,o=t;break}t===n.length-1&&(i=t,o=t+1)}}z(t,n[i],n[o],!0);let s=(0,nZ.In)(l.name),c=(0,D.t)("design_systems.create_style.untitled_folder");s&&(c=`${s}/${c}`);let d=(e,t)=>{if(e.type===tf.PW.STYLE){let n=c+"/"+t+(0,nZ.kH)(e.name);eO.l7.user("rename-style",()=>{Q.glU.renameNode(e.node_id,n)})}else{let n=t+(0,nZ.kH)(e.name)+"/";e.styles.forEach(e=>{d(e,n)}),e.subfolders.forEach(e=>{d(e,n)})}};t.forEach(e=>{d(e,"")}),m({type:e,folderNames:new Set([c]),styleIds:new Set}),a(c,!1,e)},[m,z,T,a,n,e]),W=s.useCallback((e,t)=>{let l=n[e];"STYLE_FOLDER"===l.type&&C(e=>{let n=new Set(e);return t?n.add(l.name):n.delete(l.name),n})},[n]),X=s.useCallback((e,t)=>{C(l=>{let r=new Set(l),a=n[e];if("STYLE_FOLDER"===a.type){let e=(0,nZ.In)(a.name),n=""===e?t:e+"/"+t;P.has(a.name)&&(P.delete(a.name),P.add(n)),(0,lr.KU)(a).forEach(e=>{if(P.has(e.name)){let t=e.name.replace(a.name,"");P.add(n+t),P.delete(e.name)}})}return r}),i(n,e,t)},[i,P,n]),j=s.useCallback(e=>{p(n,e)},[p,n]),q=s.useCallback((e,t,n)=>{A({index:e,type:n?"in":"before"}),M(t>.5?1:Math.round(1e3*t)/1e3)},[]),J=s.useCallback(()=>{C(e=>eO.l7.user("delete-styles",()=>{let t=new Set(e);return(T?(0,lr.QA)(T,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,lr.a2)(e,(null==y?void 0:y.key)||null),P.delete(e.name),(0,lr.KU)(e).forEach(e=>P.delete(e.name))):(0,lr.Nr)(e,(null==y?void 0:y.key)||null)}),t})),$.Y5.triggerAction("commit"),S.isShown&&(b(V.sw()),b(H.XE()),Q.glU.selectStyle(R.n3.INVALID,R.IA.INVALID)),m(null)},[S.isShown,m,T,n,null==y?void 0:y.key,P,b]),ee=s.useMemo(()=>{let e=T?(0,lr.QA)(T,n):[];return(0,lr.Ug)(e).map(e=>e.node_id)},[T,n]),et=s.useCallback(()=>{Q.glU.cutStyles(ee)},[ee]),en=s.useCallback((e,t)=>{t===nY.zy.PASTE?Q.glU.pasteStyles():e.shouldPropagate=!0},[]);s.useEffect(()=>{if(!T)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||et()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[et,T]);let el=s.useCallback(()=>{Q.glU.pasteStyles()},[]),er=s.useCallback(e=>{I(t=>[...t,e])},[]),ea=s.useCallback(()=>{o()},[o]),ei=f.rf(_,"ondragend",s.useCallback(()=>{A(null),M(null),I([]),c()},[c])),eo=(0,nF.Z)(T);s.useEffect(()=>{eo!==T&&T&&C(e=>{let n=new Set(e);for(let e of T.styleIds.values()){let l=t.find(t=>t.node_id===e);if(!l)continue;let r=(0,nZ.ke)(l.name);for(let e=0;e<r.length;e++){let t=r.slice(0,e).join("/");n.delete(t)}}return n})},[T,eo,t]);let es=s.useRef(null),ec=s.useCallback(e=>{es.current=e},[es]),ep=s.useCallback((e,t,i,o,c,p)=>{let h="STYLE_FOLDER"===e.type?e.name:e.node_id,g=!1,E=!1;for(let t of k)if("STYLE_FOLDER"===e.type){if(e.name===t){E=!0;break}e.name.startsWith(t)&&(g=!0)}else if((0,nZ.In)(e.name)===t){g=!0;break}if(!E&&!g&&G(P,n).has(h))return null;if(e.type===tf.PW.STYLE){let n=(0,lr.rM)(e),r=null!=l&&l===e.node_id;return s.createElement(le,{hideStylePreview:B,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:o,dsStyle:e,selected:i,selectedSecondary:(null==w?void 0:w.styleIds.has(e.node_id))||!1,level:n,stylePreviewShown:S,onContextMenu:j,updateContextMenuStyleRef:u,updateFocusRowRef:i?ec:null,onMouseDown:c,onMouseMove:p,onInspectStyle:d,updateSelection:m,isEditable:v,deleteSelectedItems:J,isRenaming:r,onRenameItem:a,stopRenamingItem:X,onCreateFolder:Y})}{let n=null!=r&&r.name===e.name&&r.styleTypeSection===e.styleTypeSection,l=(null==U?void 0:U.folderNameToNestUnder)||null;return s.createElement(n3,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:o,folder:e,selected:i,selectedSecondary:(null==w?void 0:w.folderNames.has(e.name))||!1,isCollapsed:P.has(e.name),temporarilyExpandFolder:er,isTemporarilyExpanded:E,isRenaming:n,folderNameToNestUnder:l,onRenameItem:a,stopRenamingItem:X,level:e.level,toggleFolder:e=>W(t,e),onContextMenu:j,onCreateFolder:Y,onMouseDown:c,onMouseMove:p,isEditable:v,deleteSelectedItems:J,hideStylePreview:B})}},[m,P,J,null==U?void 0:U.folderNameToNestUnder,G,B,j,Y,d,a,r,l,null==w?void 0:w.folderNames,null==w?void 0:w.styleIds,X,n,S,er,k,W,u,v,ec]),eu=s.useCallback(t=>{let l=new Set,r=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?l.add(t.name):r.add(t.node_id)}),m({type:e,folderNames:l,styleIds:r})},[m,n,e]),em=s.useMemo(()=>T?(0,lr.h$)(T,n):[],[T,n]),eh=s.useRef(),eg=s.useRef();return s.useEffect(()=>{eh.current&&em.length?(eh.current(),es.current&&!es.current.contains(document.activeElement)&&es.current.focus()):eg.current&&!em.length&&(eg.current(),es.current=null)},[eh,em,es]),s.createElement(nx.vL,{name:"StyleDraggableList",handleClipboard:en,focusFunctionRef:eh,blurFunctionRef:eg},s.createElement(lt,{styleType:e},s.createElement(lC,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:Z,canInsertItemsIn:K,onInsertItemsBetweenValues:z,onDrag:q,onDragStart:ea,onDragEnd:ei,insertDividerStyle:null==U?void 0:U.dividerStyles,selectedIndices:em,updateSelection:eu,renderListItem:ep,scrollContainer:g,isDragDisabled:!v}),s.createElement(ld,{styleRowRef:h,onDeleteItems:J,onCutItems:et,onPasteItems:el,onRenameItem:a,onEditStyle:d,onCreateFolder:Y,styleType:e})))}class lC extends nW.q{}var lk=n(448204),lI=n(793701),lN=n(725396),lA=n(395880);function lR(e){var t,n,l;return(null==(t=e.modalShown)?void 0:t.type)===lA.y.type||(null==(l=null==(n=e.modalShown)?void 0:n.prevModal)?void 0:l.type)===lA.y.type}function lO(){let e=(0,lA.m)(),t=(0,s.useCallback)(()=>{e()},[e]),n=(0,ed.d4)(lR),l=0===(0,lN.Rb)().length&&!n;return s.createElement(S.p,{name:"local_variables_panel"},s.createElement(eF.Zk,null,s.createElement(eF.fI,{className:l?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},s.createElement(eF.xw,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},s.createElement(D.Tx,{id:"variables.local_variables_panel.local_variables_title"})),s.createElement(td.E,{name:"variables_modal_button"},s.createElement(t_.YW,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,f.Pt)("localVariablesPanel","variablesModalButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("variables.local_variables_panel.open_variables_button_tooltip"),svg:n9.A,onClick:t})))))}var lM=n(841368),lx=n(247686),lL=n(95992),lK=n(57522),lF=n(828369);function lD(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 17.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-8.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v8.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}))}function lH(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v9.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-9.5Zm5 2a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-5.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M17.5 11a.5.5 0 0 1 0 1H15v-1h2.5ZM13 11h-3v1h3v-1Zm-7.5 0H8v1H5.5a.5.5 0 0 1 0-1Z",clipRule:"evenodd"}))}function lB(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-8.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 18a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))}function lV(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}))}function lU(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-9.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h9.5Zm-2 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h5.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M13 17.5a.5.5 0 0 1-1 0V15h1v2.5Zm0-4.5v-3h-1v3h1Zm-1-7.5V8h1V5.5a.5.5 0 0 0-1 0Z",clipRule:"evenodd"}))}function lz(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}))}function lZ(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 15.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v6.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v2.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 8.5v8.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V8.5"}))}function lG(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 0-.5-.5H15V9.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75V11h-3V7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75V11H5.5a.5.5 0 0 0 0 1H8v3.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h3v1.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h2.5a.5.5 0 0 0 .5-.5Z",clipRule:"evenodd"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 14.5v2.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V14.5m0-6V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75V8.5"}))}function lY(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-6.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-2.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M17.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M17.5 14.5V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75v8.25"}))}function lW(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M8.5 5.5h10.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H8.5"}))}function lX(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 18a.5.5 0 0 0 .5-.5V15h2.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13v-3h4.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13V5.5a.5.5 0 0 0-1 0V8H7.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v3H9.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v2.5a.5.5 0 0 0 .5.5Z",clipRule:"evenodd"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 5.5h3.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H15.5m-6 0H6.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H9.5"}))}function l$(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 17.5H5.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H15.5"}))}var lQ=n(795318),lj=n(43900),lq=n(471116),lJ=n(514198),l0=n(487614),l5=n(565012),l1=n(146708),l7=n(619310),l2=n(467220),l4=n(174574),l3=n(503358),l6=n(496916),l8=n(678045),l9=n(180549),re=n(687886),rt=n(399940),rn=n(391914),rl=n(341152),rr=n(116374),ra=n(283804),ri=n(481928),ro=n(400658),rs=n(175895),rc=n(696875),rd=n(785828),rp=n(258654),ru=n(937476),rm=n(571262),rh=n(609091),rg=n(684391),rE=n(87428),r_=n(122302),rf=n(728642),ry=n(944584);let rv={"align-top":rd.A,"align-vertical-center":ru.A,"align-bottom":l0.A,"align-left":ri.A,"align-horizontal-center":rr.A,"align-right":rs.A,"distribute-horizontal-spacing":lQ.A,"distribute-vertical-spacing":lq.A,"arrange-as-list-Y":rf.A,"arrange-as-list-X":rE.A,"arrange-as-grid":rh.A,"align-top-as-group":re.A,"align-vertical-center-as-group":rn.A,"align-bottom-as-group":l1.A,"align-left-as-group":l3.A,"align-horizontal-center-as-group":l2.A,"align-right-as-group":l8.A},rb={"align-top":rp.A,"align-vertical-center":rm.A,"align-bottom":l5.A,"align-left":ro.A,"align-horizontal-center":ra.A,"align-right":rc.A,"distribute-horizontal-spacing":lj.A,"distribute-vertical-spacing":lJ.A,"arrange-as-list-Y":ry.A,"arrange-as-list-X":r_.A,"arrange-as-grid":rg.A,"align-top-as-group":rt.A,"align-vertical-center-as-group":rl.A,"align-bottom-as-group":l7.A,"align-left-as-group":l6.A,"align-horizontal-center-as-group":l4.A,"align-right-as-group":l9.A},rS={"align-top":lD,"align-vertical-center":lH,"align-bottom":lB,"align-left":lV,"align-horizontal-center":lU,"align-right":lz,"distribute-horizontal-spacing":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}),s.createElement("path",{fill:"var(--color-icon)",d:"M12.25 15a.75.75 0 0 0 .75-.75v-5.5a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5Z"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}))},"distribute-vertical-spacing":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 6a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),s.createElement("path",{fill:"var(--color-icon)",d:"M9 12.25c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5Z"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))},"arrange-as-list-Y":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.75A.75.75 0 0 1 5.75 6h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75A.75.75 0 0 1 5 7.25v-.5Zm0 5a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75v-.5ZM5.75 16a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H5.75Z",clipRule:"evenodd"}))},"arrange-as-list-X":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 18a.75.75 0 0 1-.75-.75V5.75A.75.75 0 0 1 6.75 5h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm5 0a.75.75 0 0 1-.75-.75V5.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm4.25-.75c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v11.5Z",clipRule:"evenodd"}))},"arrange-as-grid":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",d:"M5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3z"}))},"align-top-as-group":lZ,"align-vertical-center-as-group":lG,"align-bottom-as-group":lY,"align-left-as-group":lW,"align-horizontal-center-as-group":lX,"align-right-as-group":l$};var rT=n(289298);let rw=parseInt("6px"),rP=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],rC=["align-left-as-group","align-horizontal-center-as-group","align-right-as-group","align-top-as-group","align-vertical-center-as-group","align-bottom-as-group"],rk=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"],rI=s.memo(function(e){let t=(0,s.useRef)(null),[n,l]=(0,s.useState)(!1),[r,a]=rK(),i=(0,s.useCallback)(e=>{l(e.altKey||e.shiftKey)},[]);(0,s.useEffect)(()=>{function e(){l(!1)}return document.addEventListener("keydown",i),document.addEventListener("keyup",i),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",i),window.removeEventListener("blur",e)}},[i]);let o=(0,lL.vm)(rC),c=function(e){let[t,n]=(0,s.useState)(0);return(0,s.useLayoutEffect)(()=>{n(rF(e.current))},[e]),(0,ew.w)(e,(0,s.useCallback)(()=>{n(rF(e.current))},[e])),t}(t),d=Math.floor(c/(24+rw));d*(24+rw)+24<=c&&++d;let[p,u]=function({visibleActionCount:e,renderGroupAlignButtons:t}){let{version:n}=(0,eh.DP)(),l=t?rC:rP,r=[],a=[];if("ui2"===n)r=l,a=rk;else{let t=[...l,...rk];t.length>e?(r=t.slice(0,e-1),a=t.slice(e-1)):r=t}return[r,a]}({visibleActionCount:d,renderGroupAlignButtons:n&&r&&o});return s.createElement(S.p,{name:"align_panel"},s.createElement(eF.Zk,{className:(0,ea.Zd)()?void 0:"align_panel--panel--hOaKr",onMouseMove:e=>i(e.nativeEvent),...a},s.createElement(rN,{ref:t},p.map(t=>s.createElement(rx,{key:t,action:t,recordingKey:e.recordingKey})),u.length>0&&s.createElement(rA,{actions:u,recordingKey:e.recordingKey}))))}),rN=s.forwardRef(function(e,t){let{version:n}=(0,eh.DP)();return"ui3"===n?s.createElement("div",{ref:t,className:"align_panel--flexibleRow--5gjUF"},e.children):s.createElement(eF.fI,{forwardedRef:t},e.children)});function rA(e){let t=(0,ll.B)("FULLSCREEN_DISTRIBUTE_DROPDOWN"),n=(0,s.useRef)(null),{version:l}=(0,eh.DP)(),r=(0,tT.Rt)(),a=(0,lL.yU)(e.actions),i=r?(0,D.t)("fullscreen.properties_panel.tooltip_moreActions"):(0,D.t)("fullscreen.properties_panel.align_panel.more_options");return s.createElement(s.Fragment,null,s.createElement(td.E,{name:"toggle_align_options_button"},s.createElement(tV.K,{actionOnPointerDown:t.showing,ref:n,"aria-label":i,onClick:()=>{t.toggle({data:{targetRect:n.current.getBoundingClientRect()}})},disabled:"ui2"===l&&!a,recordingKey:f.Pt(e,"distributeDropdown"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":i},"ui2"===l?s.createElement("span",{className:"align_panel--dropdownIconHack--7hoNm"},s.createElement(rL,null),s.createElement(x.B,{svg:rT.A,className:"align_panel--ui3IconColorCompat--51gei"})):s.createElement(rL,null))),t.showing&&s.createElement(td.E,{name:"dropdown"},s.createElement(eS.Cf,{targetRect:t.data.targetRect,propagateCloseClick:!0},e.actions.map(t=>s.createElement(rR,{key:t,action:t,recordingKey:e.recordingKey})))))}function rR(e){let{action:t}=e,n=(0,lL.Zr)(t),l=(0,ed.d4)(e=>e.mirror.appModel.keyboardShortcuts);return s.createElement(eb.a,{text:(0,lx.A)(t),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:()=>{$.Y5.triggerActionInUserEditScope(t,"tidy-up"===t?{source:"panel"}:null)},key:t,shortcut:(0,eo.c1)(l,t),recordingKey:f.Pt(e,"distributeDropdown",t)},s.createElement(rO,{action:t}))}function rO({action:e}){if("tidy-up"===e)return s.createElement(rM,null);let t=rS[e];return s.createElement(eE.U,{svg:rv[e],fallbackSvg:rb[e]},t&&s.createElement(t,null))}function rM(){let e=(0,lK.kl)("detectableListAxis"),t=(0,lL.Zr)("arrange-as-grid")?"arrange-as-grid":`arrange-as-list-${(0,ee._W)(e,"Y")}`,n=rS[t];return s.createElement(eE.U,{svg:rv[t],fallbackSvg:rb[t]},n&&s.createElement(n,null))}function rx(e){let t=(0,lL.Zr)(e.action),n=(0,lF.X)();return s.createElement(td.E,{name:"align_button",alsoTrack:()=>({alignButtonAction:e.action})},s.createElement(tV.K,{as:"button",disabled:!t,onClick:()=>{$.Y5.triggerActionInUserEditScope(e.action)},onMouseDown:e=>{(null==n?void 0:n.id.startsWith("paint"))&&e.stopPropagation()},"data-tooltip-type":ey.Ib.LOOKUP,"data-tooltip":e.action,"data-tooltip-max-width":"200",recordingKey:f.Pt(e,"alignButton",e.action),key:e.action,"aria-label":e.action},s.createElement(rO,{action:e.action})))}function rL(){let{version:e}=(0,eh.DP)(),t=(0,lL.Zr)("tidy-up");return"ui3"===e?s.createElement(lM.J,null):s.createElement(rO,{action:t?"tidy-up":"distribute-vertical-spacing"})}function rK(){let[e,t]=(0,s.useState)(!1);return[e,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}]}function rF(e){let t=getComputedStyle(e);return parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)}var rD=n(21621),rH=n(266304),rB=n(851469),rV=n(208332),rU=n(961699),rz=n(943686);function rZ({showLibrarySets:e,recordingKey:t}){let n=(0,ed.wA)(),l=(0,ll.U)(),r=s.useRef(null),a=s.useCallback(()=>{r.current&&n(e_.j7({type:rU.R,data:{targetRect:r.current.getBoundingClientRect()}}))},[n]),i=l&&l.type===rU.R;return(0,rV.A1)(e)?s.createElement(s.Fragment,null,s.createElement("div",{ref:r},s.createElement(t_.YW,{recordingKey:f.Pt(t,"applyMode"),selected:!!i,svg:rz.A,dataTestId:"applyModeButton","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("variables.layer_panel.header.button.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),s.createElement(rU.bt,{showLibrarySets:e,recordingKey:f.Pt(t,"applyModeDropdown")})):null}var rG=n(494304),rY=n(930850),rW=n(521054),rX=n(664241),r$=n(258376);function rQ({recordingKey:e}){let t=(0,h.md)(rG.I7);return(0,rV.Tt)()&&!(0,m.kc)().ds_variables_relax_modes&&t?s.createElement(rq,{recordingKey:e}):null}let rj="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function rq({recordingKey:e}){let t=(0,ed.wA)(),n=(0,ll.U)(),l=s.useRef(null),r=n&&n.type===rj,a=s.useCallback(()=>{l.current&&t(e_.j7({type:rj,data:{targetRect:l.current.getBoundingClientRect()}}))},[t]),i=s.useCallback(()=>{t(ef.to({type:rW.T,data:{initialTab:tf.Wv.UPDATES,entrypoint:rY.r6.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return s.createElement(s.Fragment,null,s.createElement("div",{ref:l},s.createElement(t_.YW,{recordingKey:f.Pt(e,"updateIcon"),selected:!!r,svg:r$.A,className:rX.l_,dataTestId:"updatesModesButton","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),r&&(l.current?s.createElement(eS.Cf,{targetRect:l.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},s.createElement(s.Fragment,null,s.createElement(eg.W.Option,{className:rX.Ig,recordingKey:f.Pt(e,"description"),key:"description",disabled:!0},(0,D.t)("variables.layer_panel.header.update_button.dropdown.description")),s.createElement(eg.W.Separator,null),s.createElement(eg.W.Option,{onClick:i,recordingKey:f.Pt(e,"review-update"),key:"review_update"},(0,D.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}var rJ=n(204459),r0=n(998941),r5=n(473823),r1=n(554207),r7=n(921325),r2=n(771963);class r4 extends s.PureComponent{constructor(e){super(e),this.chitRowRef=s.createRef(),this.colorFormatter=rH.TI,this.onColorChange=(e,t)=>{let n=e.a;e.a=1,$.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},this.onColorChangeWithoutAlpha=(e,t)=>{$.Y5.updateSelectionProperties({backgroundColor:e,backgroundEnabled:!0},{shouldCommit:t})},this.onOpacityChange=(e,t)=>{$.Y5.updateSelectionProperties({backgroundOpacity:e,backgroundEnabled:0!==e},{shouldCommit:t})},this.onBackgroundEnabledChange=e=>$.Y5.updateSelectionProperties({backgroundEnabled:e}),this.onExportBackgroundDisabledChange=e=>{$.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},this.toggleColorPicker=()=>{if(this.props.pickerShown&&this.props.pickerShown.id===Z.k8)this.props.dispatch(H.XE());else{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-background-panel-color-picker-show");let e=this.chitRowRef.current?(0,ev.cn)(this.chitRowRef.current):{x:0,y:0};this.props.dispatch(H.u1({id:Z.k8,initialX:e.x,initialY:e.y})),this.props.dispatch(V.sw())}},this.mergeColorAndOpacity=(0,nD.xx)(e=>{let t=(0,ee.E7)(e.backgroundColor),n=(0,ee.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||ee.oV})}get opacity(){return(0,ee.hS)(this.props.backgroundOpacity)&&"number"==typeof this.props.backgroundOpacity&&isNaN(this.props.backgroundOpacity)?0:this.props.backgroundOpacity}renderInputWithChit(){return s.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},s.createElement(r0.J,{color:this.mergeColorAndOpacity(this.props),opacity:this.opacity,onMouseDown:this.toggleColorPicker,recordingKey:f.Pt(this.props,"colorChit"),className:"background_panel--chit--EQGLT paint_panels--chit--twQEy"}),s.createElement(r1.AN,{className:this.props.backgroundEnabled?"background_panel--color--sBAtd paint_panels--colorInput--nSz13":"background_panel--colorHidden--CEpXN paint_panels--colorInputHidden--ZojfD paint_panels--colorInput--nSz13",formatter:this.colorFormatter,property:this.props.backgroundColor,onChange:this.onColorChangeWithoutAlpha,recordingKey:f.Pt(this.props,"color"),noBorderOnFocus:!0}),s.createElement(rB.Pd,{className:"background_panel--opacity--nwSdu paint_panels--opacityInputContainer--oqlsk",inputClassName:this.props.backgroundEnabled?void 0:"background_panel--opacityInputHidden--2-b0t paint_panels--opacityInputHidden--I2GEk",value:this.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noBorderOnFocus:!0,recordingKey:f.Pt(this.props,"opacity")}))}renderVisibilityToggleButton(){return s.createElement("span",{className:"background_panel--visible--2-4Ns"},s.createElement(r2.B,{visible:this.props.backgroundEnabled,onChange:this.onBackgroundEnabledChange,recordingKey:f.Pt(this.props,"visibleToggle")}))}renderSimpleBackground(){return s.createElement("div",null,s.createElement(eF.fI,{className:"background_panel--panelTitleRow--uNINf"},s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"fullscreen.properties_panel.page"})),s.createElement(rQ,{recordingKey:"pageLevel"}),s.createElement(rZ,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===this.props.theme.version?this.renderUI2ColorInput():this.renderUI3ColorInput())}renderUI3ColorInput(){return s.createElement(tw.DE,{ref:this.chitRowRef,label:null,input:this.renderInputWithChit(),icon:this.renderVisibilityToggleButton()})}renderUI2ColorInput(){return s.createElement(s.Fragment,null,s.createElement(eF.fI,{forwardedRef:this.chitRowRef},this.renderInputWithChit(),this.renderVisibilityToggleButton()))}render(){var e;return s.createElement(S.p,{name:"background_panel"},s.createElement(eF.Zk,null,this.renderSimpleBackground(),this.props.hasExports&&s.createElement(eF.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},s.createElement(rJ.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:this.props.exportBackgroundDisabled===ee.oV?ee.oV:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:f.Pt(this.props,"exportDisableCheckbox")}),s.createElement(eF.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},s.createElement(D.Tx,{id:"fullscreen.properties_panel.show_in_exports"}))),(null==(e=this.props.pickerShown)?void 0:e.id)===Z.k8&&s.createElement(r5.sk,{disabledVariableIds:new Set,title:(0,D.t)("fullscreen.properties_panel.background"),initialPosition:new A.Mi(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:(0,ee.hS)(this.mergeColorAndOpacity(this.props))?(0,ee.E7)(this.mergeColorAndOpacity(this.props)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:this.onColorChange,recordingKey:f.Pt(this.props,"colorPicker")}),s.createElement(r7.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}}r4.displayName="BackgroundPanel";let r3=(0,eh.SL)(r4);var r6=n(156321);function r8(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 8.5a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-2H7v2a.5.5 0 0 1-1 0V9a.5.5 0 0 1 1 0v2h9V9a.5.5 0 0 1 .5-.5Z",clipRule:"evenodd"}))}function r9(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 6.5A.5.5 0 0 1 9 6h5a.5.5 0 0 1 0 1h-2v9h2a.5.5 0 0 1 0 1H9a.5.5 0 0 1 0-1h2V7H9a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"}))}var ae=n(159849),at=n(816665),an=n(438806),al=n(235107);function ar(e){return"HORIZONTAL"===e?al.A:an.A}class aa{constructor(e){this.isHorizontal="HORIZONTAL"===e}format(e){switch(e){case"MIN":return this.isHorizontal?(0,D.t)("fullscreen.properties_panel.constraints_panel.select.left"):(0,D.t)("fullscreen.properties_panel.constraints_panel.select.top");case"MAX":return this.isHorizontal?(0,D.t)("fullscreen.properties_panel.constraints_panel.select.right"):(0,D.t)("fullscreen.properties_panel.constraints_panel.select.bottom");case"STRETCH":return this.isHorizontal?(0,D.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right"):(0,D.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom");case"CENTER":return(0,D.t)("fullscreen.properties_panel.constraints_panel.select.center");case"SCALE":return(0,D.t)("fullscreen.properties_panel.constraints_panel.select.scale");default:return""}}}var ai=n(344525);let ao="constraint_select--chevron--vKwBF",as="constraint_select--input--daUMm",ac=new class{format(e){if("AUTO"===e)return(0,D.t)("fullscreen.auto")}};function ad(e){return"HORIZONTAL"===e?s.createElement(r8,null):s.createElement(r9,null)}function ap(e){let{version:t}=(0,eh.DP)(),n=a_();if(e.readOnly&&(0,ee.hS)(e.constraint)){let t=new aa(e.axis).format(e.constraint);return s.createElement("div",{className:d()(e.className,"constraint_select--flexContainer--a9ZPi")},s.createElement(x.B,{svg:ar(e.axis),className:ai.Vb}),s.createElement("span",{className:"constraint_select--readOnlyText--uBzWh ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}let l=new aa(e.axis);return"ui3"===t&&n?s.createElement(at.l6,{id:e.id,chevronClassName:ao,inputClassName:as,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:"AUTO",formatter:ac,ui3Icon:ad(e.axis),svg:ar(e.axis),onChange:ae.lQ,disabled:n,recordingKey:f.Pt(e,"select")},s.createElement(at.c$,{key:"AUTO",value:"AUTO",disabled:!0})):s.createElement(at.l6,{id:e.id,chevronClassName:ao,inputClassName:as,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:e.constraint,formatter:l,ui3Icon:ad(e.axis),svg:ar(e.axis),onChange:t=>{let n="HORIZONTAL"===e.axis?"horizontalConstraint":"verticalConstraint";e.updateConstraints({[n]:t},!0)},disabled:n,recordingKey:f.Pt(e,"select")},["MIN","MAX","STRETCH","CENTER","SCALE"].map(t=>{let l=e.disableStretchScaleConstraints&&["STRETCH","SCALE"].includes(t);return s.createElement(at.c$,{key:t,value:t,recordingKey:f.Pt(e,"select",t),disabled:n||l})}))}let au="constraint_selector--outerRow--vEwHH",am="constraint_selector--compactOuterRow--lVbKK constraint_selector--outerRow--vEwHH",ah="constraint_selector--hover--QinHp";function ag(e){let[t,n]=(0,s.useState)(null),[l,r]=(0,s.useState)(null),{version:a}=(0,eh.DP)(),i=a_(),o="ui3"===a&&i?void 0:e.horizontalConstraint,c="ui3"===a&&i?void 0:e.verticalConstraint,p=e=>["top","bottom"].includes(e)?"VERTICAL":"HORIZONTAL",u=e=>"HORIZONTAL"===e?o:c,m=e=>e.shiftKey||e.metaKey,h=(t,n)=>l=>{if(e.readOnly)return;let r=n;if(m(l)||e.isCompact){let l="MIN"===n?"MAX":"MIN",a=u(t),i="VERTICAL"===t?!e.disableVerticalStretchScaleConstraints:!e.disableHorizontalStretchScaleConstraints;a===n&&i?r="SCALE":a===l&&i?r="STRETCH":"STRETCH"===a&&(r=l)}"VERTICAL"===t?e.updateConstraints({verticalConstraint:r}):e.updateConstraints({horizontalConstraint:r})},g=t=>()=>{e.readOnly||n(t)},E=()=>{n(null)},_=e=>{let t=e.target.parentElement;if(!t)return console.error(`constraint selector inner target element is ${t}`),null;let{top:n,left:l,width:r,height:a}=t.getBoundingClientRect(),i=Math.abs(e.clientX-l-r/2),o=Math.abs(e.clientY-n-a/2);return i<3&&o<3?"HORIZONTAL":i<o?"VERTICAL":"HORIZONTAL"},y=t=>{if(!e.readOnly){if("CENTER"!==c||m(t)){if("CENTER"!==o||m(t)){if("VERTICAL"===_(t)){let n=m(t)&&"CENTER"===c?"SCALE":"CENTER";e.updateConstraints({verticalConstraint:n})}else{let n=m(t)&&"CENTER"===o?"SCALE":"CENTER";e.updateConstraints({horizontalConstraint:n})}}else e.updateConstraints({verticalConstraint:"CENTER"})}else e.updateConstraints({horizontalConstraint:"CENTER"})}},v=t=>{e.readOnly||("CENTER"===c?r("HORIZONTAL"):"CENTER"===o?r("VERTICAL"):r(_(t)))},b=()=>{r(null)},S=e=>d()({"constraint_selector--selected--Eb73C":e,"constraint_selector--disabled--hLCxk":i}),T=(n,l)=>{let r="HORIZONTAL"===p(n)?e.isCompact?"constraint_selector--compactOuterHorizontalHandle--LVIo0 constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":"constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactOuterVerticalHandle--bF8mY constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2":"constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2";return d()(r,S(l),{[ah]:t===n&&!i})},w=(t,n)=>{let r="HORIZONTAL"===t?e.isCompact?"constraint_selector--compactInnerHorizontalHandle--voVqQ constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerHorizontalHandle--Zfxr0 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactInnerVerticalHandle--UTZB- constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerVerticalHandle--slyp1 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2";return d()(r,S(n),{[ah]:l===t&&!i})},P=t=>{let n=p(t),l=u(n),r=["top","left"].includes(t)?"MIN":"MAX",a=[r,"STRETCH"].includes(l),i="HORIZONTAL"===n?e.isCompact?"constraint_selector--compactOuterHorizontalTarget--5-m-j constraint_selector--outerHorizontalTarget--2Tsd3":"constraint_selector--outerHorizontalTarget--2Tsd3":e.isCompact?"constraint_selector--compactOuterVerticalTarget--0Lb9I constraint_selector--outerVerticalTarget--m0eT7":"constraint_selector--outerVerticalTarget--m0eT7",o=T(t,a);return s.createElement(tY.D8,{className:i,recordingKey:f.Pt(e,"constraint",t),onMouseDown:h(n,r),onMouseEnter:g(t),onMouseLeave:E},s.createElement("div",{className:o}))},C=t=>{let n="centerX"===t?"HORIZONTAL":"VERTICAL",l=u(n);return s.createElement(tY.D8,{className:w(n,"CENTER"===l),recordingKey:f.Pt(e,"constraint",t)})};return s.createElement("div",{className:e.isCompact?"constraint_selector--compactSelectorContainer--tn5PR constraint_selector--selectorContainer--stEPY":"constraint_selector--selectorContainer--stEPY"},s.createElement("div",{className:e.isCompact?am:au},P("top")),s.createElement("div",{className:"constraint_selector--innerRow--Sq9bp"},P("left"),(()=>{let t=C("centerX"),n=C("centerY");return s.createElement("div",{className:e.isCompact?"constraint_selector--compactInnerTarget--RzKnh constraint_selector--innerTarget--8C-rg":"constraint_selector--innerTarget--8C-rg",onMouseDown:y,onMouseMove:v,onMouseLeave:b},"CENTER"===o?s.createElement(s.Fragment,null,n,t):s.createElement(s.Fragment,null,t,n))})(),P("right")),s.createElement("div",{className:e.isCompact?am:au},P("bottom")))}function aE(){return(0,tc.R)(e=>{var t;let n=e.mirror.selectionProperties;return{openFileKey:null==(t=e.openFile)?void 0:t.key,stackMode:n.stackMode,stackLayoutSizeOptions:n.stackLayoutSizeOptions,stackHorizontalSize:n.stackHorizontalSize,stackVerticalSize:n.stackVerticalSize,stackPositioning:n.stackPositioning,someConstraintItemsSelected:n.someNodesAreConstraintItems,nodesAreAllInsideStacks:n.nodesAreAllInsideStacks,horizontalConstraint:n.horizontalConstraint,verticalConstraint:n.verticalConstraint,scrollBehavior:n.scrollBehavior,allHaveScrollableFrameAsParent:n.allHaveScrollableFrameAsParent,hasHorizontallyScrollingParent:n.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:n.hasVerticallyScrollingParent,isInstanceSublayerSelected:!!n.isInstanceSublayerSelected,hasMinOrMaxWidth:null!=n.minWidth||null!=n.maxWidth,hasMinOrMaxHeight:null!=n.minHeight||null!=n.maxHeight}})}function a_(){let e=aE(),{version:t}=(0,eh.DP)();return e.isInstanceSublayerSelected||"ui3"===t&&e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning||!1}function af(e){let t=(0,ed.wA)(),{version:n}=(0,eh.DP)(),l=aE(),r=e=>{if(("HORIZONTAL"===e?l.stackHorizontalSize:l.stackVerticalSize)===en.mKm.FILL_CONTAINER||"NONE"!==l.stackMode&&("HORIZONTAL"===e?l.hasMinOrMaxWidth:l.hasMinOrMaxHeight))return!0;if(l.scrollBehavior!==ee.oV&&"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==l.scrollBehavior)return!1;let t="HORIZONTAL"===e?l.hasHorizontallyScrollingParent:l.hasVerticallyScrollingParent;return!!(0,ee.E7)(t)},a=(t,n=!1)=>{l.isInstanceSublayerSelected||((0,p.sx)("Constraint Changed",{fileKey:e.openFileKey,source:n?"dropdown":"panel",...t}),$.Y5.updateSelectionProperties(t))},i=r("HORIZONTAL"),o=r("VERTICAL"),c=s.createElement(td.E,{name:"constraint_selector"},s.createElement(ag,{horizontalConstraint:l.horizontalConstraint,verticalConstraint:l.verticalConstraint,someConstraintItemsSelected:l.someConstraintItemsSelected,updateConstraints:a,disableHorizontalStretchScaleConstraints:i,disableVerticalStretchScaleConstraints:o,dispatch:t,recordingKey:f.Pt(e,"constraintSelector"),readOnly:e.readOnly})),d=s.createElement(td.E,{name:"width_select"},s.createElement(ap,{id:"width-select",className:"constraints_panel--stackWidthDropdown--mbkWx constraints_panel--_sizeDropdown--1d1H2",axis:"HORIZONTAL",constraint:l.horizontalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:i,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:f.Pt(e,"width"),readOnly:e.readOnly})),u=s.createElement(td.E,{name:"height_select"},s.createElement(ap,{id:"height-select",className:"constraints_panel--stackHeightDropdown--Aj-c5 constraints_panel--_sizeDropdown--1d1H2",axis:"VERTICAL",constraint:l.verticalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:o,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:f.Pt(e,"height"),readOnly:e.readOnly}));return"ui3"===n?s.createElement("div",{className:"constraints_panel--ui3Container--xPomZ"},c,s.createElement("div",{className:"constraints_panel--ui3Selects--ira8c"},d,u)):s.createElement(eF.fI,{heightMultiplier:2,className:"constraints_panel--container--bilN5"},c,d,u)}function ay(e){let t=aE();return e.readOnly?s.createElement(af,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:s.createElement(eF.Zk,null,s.createElement(eF.fI,null,s.createElement(eF.xw,{extended:!0},s.createElement(D.Tx,{id:"fullscreen.properties_panel.constraints_panel.constraints"}))),s.createElement(af,{...e}))}function av(e){return s.createElement(S.p,{name:"constraints_panel"},s.createElement(ay,{...e}))}var ab=n(371875),aS=n(405622);function aT(e){let t=(0,tT.Rt)(tT.G1.READY),{productComponent:n}=e;return t||("SYMBOL"!==n.type||n.isState)&&!n.isStateGroup?null:s.createElement(S.p,{name:"containing_assets_panel"},s.createElement(eF.Zk,null,s.createElement(eF.fI,null,s.createElement(eF.xw,{className:ab.Dn},s.createElement(D.Tx,{id:"design_systems.component_panel.parent_component"}))),s.createElement(td.E,{name:"select_component_button"},s.createElement(eF.fI,{className:ab.D9,onClick:()=>{J.tJ([n.guid])},recordingKey:"containingComponentPanel.jumpTo"},s.createElement(x.B,{svg:tn.A,className:ab.Vo}),s.createElement("div",{className:ab.TQ},n.name),s.createElement("div",{className:ab.UD},s.createElement(x.B,{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.component_panel.select_component"),svg:aS.A,className:ab.dC}))))))}function aw(){let e=(0,tc.R)(ex.Lg);return(0,nS.Jk)(e)}function aP(e){let t=Object.keys(e);return(0,nS.Fk)((e,t)=>t.every(t=>{let n=e.get(t);return n&&"SYMBOL"===n.type&&n.isState}),t)}function aC(){let e=aw();return e?s.createElement(aT,{productComponent:e}):null}function ak(e){let t=aP(e.selection),n=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[Q.ibQ.COMPONENT_ITEM]||t),l=(0,s.useRef)(new ei.H4(()=>s.createElement(aC,{key:"containingAssets"})));return s.createElement(s.Fragment,null,l.current.render(n))}var aI=n(876070),aN=n(472497),aA=n(667777),aR=n(487383),aO=n(180927),aM=n(849359),ax=n(731939);function aL(e){let t=(0,nz.q5)(),n=(0,ax.usePermissionsState)(),l=(0,el.IW)(e.stylePreviewShown),r=(0,aM.$Q)(null==l?void 0:l.file_key).data;if(!l||!r)return null;let a=(0,aR.to)(r);return a=(0,aN.dR)(a,{"node-id":encodeURIComponent((0,aO.E)(l.node_id))}),s.createElement(S.p,{name:"external_style_options"},s.createElement(eF.Zk,{key:"external-style-options"},(0,aA.J)({openFile:t,permissionsState:n,user:e.user,sourceLibraryFile:r})&&s.createElement(eF.fI,null,s.createElement(e1.N_,{className:ny.lf,href:a,target:"_blank",trusted:!0},s.createElement(D.Tx,{id:"fullscreen.properties_panel.go_to_style_definition_to_edit"})))))}var aK=n(766503),aF=n(532851),aD=n(648626);let aH="frame_presets--presetHeader--TKb-G";var aB=n(969537);class aV extends f.o6{constructor(){super(...arguments),this.toggleSection=e=>{this.props.expandedFramePresetType===e&&(e=Q.EYD.NONE),(0,j.UK)().expandedFramePresetType.set(e)},this.onSelectPreset=e=>{eO.l7.user("select-frame-preset",()=>{let t=`${e.name} -`;Q.glU.createFrame(t,e.width,e.height),this.props.dispatch(H.sx({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){return s.createElement(S.p,{name:"frame_presets"},s.createElement("div",null,s.createElement(eF.fI,null,s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"proto.frame_preset_panel.frame"}))),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.phone"),expanded:this.props.expandedFramePresetType===Q.EYD.PHONE,onMouseDown:this.toggleSection.bind(this,Q.EYD.PHONE),recordingKey:f.Pt(this.props,"phoneToggle")}),this.props.expandedFramePresetType===Q.EYD.PHONE&&s.createElement(az,{framePresets:aD.sE.phonePresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"phoneRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.tablet"),expanded:this.props.expandedFramePresetType===Q.EYD.TABLET,onMouseDown:this.toggleSection.bind(this,Q.EYD.TABLET),recordingKey:f.Pt(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===Q.EYD.TABLET&&s.createElement(az,{framePresets:aD.sE.tabletPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"tabletRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.desktop"),expanded:this.props.expandedFramePresetType===Q.EYD.DESKTOP,onMouseDown:this.toggleSection.bind(this,Q.EYD.DESKTOP),recordingKey:f.Pt(this.props,"desktopToggle")}),this.props.expandedFramePresetType===Q.EYD.DESKTOP&&s.createElement(az,{framePresets:aD.sE.desktopPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"desktopRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.presentation"),expanded:this.props.expandedFramePresetType===Q.EYD.PRESENTATION,onMouseDown:this.toggleSection.bind(this,Q.EYD.PRESENTATION),recordingKey:f.Pt(this.props,"presentationToggle")}),this.props.expandedFramePresetType===Q.EYD.PRESENTATION&&s.createElement(az,{framePresets:aD.sE.presentationPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"presentationRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.watch"),expanded:this.props.expandedFramePresetType===Q.EYD.WATCH,onMouseDown:this.toggleSection.bind(this,Q.EYD.WATCH),recordingKey:f.Pt(this.props,"watchToggle")}),this.props.expandedFramePresetType===Q.EYD.WATCH&&s.createElement(az,{framePresets:aD.sE.watchPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"watchRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.paper"),expanded:this.props.expandedFramePresetType===Q.EYD.PAPER,onMouseDown:this.toggleSection.bind(this,Q.EYD.PAPER),recordingKey:f.Pt(this.props,"paperToggle")}),this.props.expandedFramePresetType===Q.EYD.PAPER&&s.createElement(az,{framePresets:aD.sE.paperPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"paperRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.social_media"),expanded:this.props.expandedFramePresetType===Q.EYD.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,Q.EYD.SOCIALMEDIA),recordingKey:f.Pt(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===Q.EYD.SOCIALMEDIA&&s.createElement(az,{framePresets:aD.sE.socialMediaPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"socialMediaRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.figma_community"),expanded:this.props.expandedFramePresetType===Q.EYD.FIGMA,onMouseDown:this.toggleSection.bind(this,Q.EYD.FIGMA),recordingKey:f.Pt(this.props,"figmaToggle")}),this.props.expandedFramePresetType===Q.EYD.FIGMA&&s.createElement(az,{framePresets:aD.sE.figmaPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"figmaRows")}),s.createElement(aU,{name:(0,D.t)("proto.frame_preset_panel.archive"),expanded:this.props.expandedFramePresetType===Q.EYD.ARCHIVE,onMouseDown:this.toggleSection.bind(this,Q.EYD.ARCHIVE),recordingKey:f.Pt(this.props,"archiveToggle")}),this.props.expandedFramePresetType===Q.EYD.ARCHIVE&&s.createElement(az,{framePresets:aD.sE.archivedPresets,onSelectPreset:this.onSelectPreset,recordingKey:f.Pt(this.props,"archiveRows")})))}}aV.displayName="FramePresetPanel";class aU extends f.o6{render(){return s.createElement(S.p,{name:"frame_preset_header_panel"},s.createElement(eF.Zk,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?"frame_presets--presetHeaderExpanded--Qjd4B frame_presets--presetHeader--TKb-G":aH},s.createElement(eF.fI,{className:aH},s.createElement("div",{className:"frame_presets--caretAndName---NO1X"},s.createElement(x.B,{className:this.props.expanded?"frame_presets--caretDown--fFNWX frame_presets--caret--UJlom":"frame_presets--caret--UJlom",svg:this.props.expanded?n7.A:n2.A}),s.createElement("div",{className:"frame_presets--name--54TF2"},this.props.name)))))}}aU.displayName="FramePresetHeader";class az extends f.o6{constructor(){super(...arguments),this.onSelectPreset=e=>this.props.onSelectPreset(e)}render(){return s.createElement(S.p,{name:"frame_presets_list_panel"},s.createElement(eF.Zk,{className:"frame_presets--presetList--ayuEn"},this.props.framePresets.map(e=>s.createElement(eF.fI,{className:"frame_presets--presetRow--xaZa5",key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:f.Pt(this.props,e.name)},s.createElement("div",{className:"frame_presets--presetName--q2eD4"},e.i18nName()),s.createElement("div",{className:"frame_presets--presetDimensions--ebk8Q"},e.width,"\u200A\xd7\u200A",e.height," ")))))}}az.displayName="FramePresetList";class aZ extends f.o6{constructor(){super(...arguments),this.state={focusedPreset:void 0},this.formatter={format:e=>e===Q.V$M.FRAME?(0,D.t)("viewer.options_menu.frame"):e===Q.V$M.GROUP?(0,D.t)("viewer.options_menu.group"):e===Q.V$M.SECTION?(0,D.t)("viewer.options_menu.section"):e,isEqual:(e,t)=>e===t},this.onChange=e=>{if("number"==typeof e)e===Q.V$M.SECTION&&this.changeSelectionToSection(),e===Q.V$M.FRAME&&this.getFrameOrGroupOrSectionOrMixed()===Q.V$M.SECTION&&this.changeSelectionSectionToFrame(),this.changeSelectionToFrameOrGroup(e);else{let t=aD.EZ[e];this.setPreset(t)}},this.changeSelectionToSection=()=>{$.Y5.triggerActionInUserEditScope("replace-selected-frame-with-section")},this.changeSelectionSectionToFrame=()=>{$.Y5.triggerActionInUserEditScope("replace-selected-section-with-frame")},this.changeSelectionToFrameOrGroup=e=>{eO.l7.user("change-selection-to-frame-or-group",()=>{Q.glU.changeSelectionToFrameOrGroup(e),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.setPreset=e=>{this.props.dispatch(H.sx({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),eO.l7.user("set-frame-preset",()=>{Q.glU.makeSelectedFramesManuallySized(),$.Y5.updateSelectionProperties({width:e.width,height:e.height}),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.getFrameOrGroupOrSectionOrMixed=()=>(0,ee.hS)(this.props.resizeToFit)?this.props.resizeToFit?Q.V$M.GROUP:this.props.isSection?Q.V$M.SECTION:Q.V$M.FRAME:ee.oV,this.onFocus=e=>{this.setState({focusedPreset:e})},this.renderPresetOption=(e,t)=>{var n,l;return s.createElement(at.c$,{value:e.name,key:t,recordingKey:f.Pt(this.props,e.name),focused:!((null==(n=this.state.focusedPreset)?void 0:n.name)!==e.name)},s.createElement(aY,{framePreset:e,focused:!((null==(l=this.state.focusedPreset)?void 0:l.name)!==e.name)}))}}render(){let e=[],t=this.getFrameOrGroupOrSectionOrMixed(),n=(0,ee.hS)(this.props.width)&&(0,ee.hS)(this.props.height)?(0,aD.fS)({width:this.props.width,height:this.props.height}):null;(0,ee.hS)(t)&&e.push(t),n&&e.push(n.name),0===e.length&&e.push(ee.oV);let l=e[0],r=this.props.isWidget,a=!this.props.isSection,i=!this.props.isOrInInstance;return s.createElement(td.E,{name:"frame_preset_select"},s.createElement(at.l6,{icon:this.props.leftIcon,className:this.props.selectClassName,inputClassName:this.props.inputClassName,chevronClassName:"frame_presets--framePresetDropdownChevron--0rJxs",id:this.props.id,property:l,multipleSelections:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"frame_presets--presetDropdown----7Sd",recordingKey:f.Pt(this.props,"select"),onOptionFocus:this.onFocus,disabled:r},s.createElement(at.c$,{value:Q.V$M.SECTION,recordingKey:f.Pt(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),s.createElement(at.c$,{value:Q.V$M.FRAME,recordingKey:f.Pt(this.props,"FRAME"),disabled:!i||!this.props.canBecomeFrame}),s.createElement(at.c$,{value:Q.V$M.GROUP,recordingKey:f.Pt(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),a&&s.createElement(at.sK,null),a&&aD.sE.phonePresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.tabletPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.desktopPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.presentationPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.watchPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.paperPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.socialMediaPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.figmaPresets.map(this.renderPresetOption),a&&s.createElement(at.sK,null),a&&aD.sE.archivedPresets.map(this.renderPresetOption)))}}function aG(e){return s.createElement("span",{className:e.className},s.createElement(t_.K0,{onClick:()=>{$.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,dataTestId:"resize-to-fit-button","data-tooltip-type":ey.Ib.LOOKUP,"data-tooltip":"resize-to-fit"},s.createElement(eE.U,{svg:aB.A},s.createElement(aK.F,null))))}function aY({focused:e,framePreset:t}){let[n,l]=s.useState(!1);return s.createElement("div",{className:e?"frame_presets--presetOptionFocused--xoc2A":"frame_presets--presetOption--FUHPW"},s.createElement(aF.ph,{text:t.i18nName(),className:"frame_presets--frameName--LztZn",onTruncationChange:e=>{n!==e&&l(e)}}),s.createElement("span",{className:n?"frame_presets--frameDimensions--EoK8C":""},t.width,"\u200A\xd7\u200A",t.height))}aZ.displayName="FramePresetDropdown";var aW=n(996582),aX=n(575446),a$=n(517868),aQ=n(208529),aj=n(985850);let aq=s.forwardRef(function({instanceDescription:e,containingStateGroupLinks:t,containingStateGroupDescription:n,isDescriptionPaneOpen:l,onOpenDescriptionPane:r},a){let i=(0,eI.yr)(),o=s.useMemo(()=>{var l,r,a;return e?(0,eT.A)(e):(null==(l=null==i?void 0:i[0])?void 0:l.uri)?null==(r=null==i?void 0:i[0])?void 0:r.uri:n?(0,eT.A)(n):(null==(a=null==t?void 0:t[0])?void 0:a.uri)??void 0},[e,i,t,n]),c=s.useRef(null),d=eP({ref:c,text:o}),p=s.useCallback(()=>r(!0),[r]),u=s.useMemo(()=>{let r=!!((null==i?void 0:i.length)||(null==t?void 0:t.length)),a=!!(e&&n);return!l&&(d||a||r)},[n,null==t?void 0:t.length,e,l,null==i?void 0:i.length,d]);return null==o?null:s.createElement("div",{className:"instance_description_preview--wrapper--YGSF3 text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:a},s.createElement("div",{className:"instance_description_preview--description--726Xi ellipsis--ellipsis--Tjyfa",ref:c},o),u&&s.createElement("div",{className:"instance_description_preview--showMore--7-DPO",onClick:p,role:"button",tabIndex:0},s.createElement(D.Tx,{id:"design_systems.instance_panel.show_more"})))});var aJ=n(687881);function a0(e){let t=(0,ed.d4)(ex.Lg),{nestedInstances:n}=(0,aj.p)(e);return t&&!n.length?void 0:tu.NA.INSTANCE_SWAP_PICKER}let a5=s.memo(function(e){let{resettableInstanceOverridesMap:t}=e,n=(0,ed.d4)(e=>e.pickerShown),l=(0,ed.d4)(ex.cv),r=(0,ed.d4)(eM.qd),a=(0,ed.d4)(eM.dT),i=(0,ed.d4)(th.Z3),o=(0,ed.wA)(),{backingSymbolGUID:c,singleBackingStateGroup:d}=(0,aQ.$)(a),{version:p}=(0,eh.DP)(),u="ui3"===p,{onlyInstances:m,onlyInstanceSublayers:h}=(0,aj.p)(a),g=s.useRef(null),E=s.useMemo(()=>(null==d?void 0:d.symbolLinks)??[],[d]),_=s.useCallback(e=>{if(e){let e=ec.findDOMNode(g.current),t=(0,ev.cn)(e,320);o(H.u1({id:eq,initialX:t.x,initialY:t.y})),o(V.sw()),o(H.Uv())}else o(H.XE())},[o]),y=a0(a),{variantPropDefs:v,typedPropDefsExcludingHidden:b}=(0,aX.a)(a,e8.OE.ASSIGNMENT);return(0!==v.length||0!==b.length||!u)&&(m||h)?s.createElement(eF.Zk,null,!u&&s.createElement(tu.iN,{resettableInstanceOverrides:null==t?void 0:t.selectionOverrides,instanceAndSublayerGUIDs:a,instanceNameDisplayOverride:y,recordingKey:e.recordingKey}),(()=>{let e=(null==n?void 0:n.id)===eq,t=(0,ee._W)(l,""),r=c&&(0,ee.hS)(c)?(null==d?void 0:d.description)??"":void 0;return s.createElement(s.Fragment,null,e?s.createElement(ts,{containingStateGroupLinks:E,containingStateGroupDescription:r,description:t}):null,s.createElement(aq,{instanceDescription:t,containingStateGroupDescription:r,containingStateGroupLinks:E,onOpenDescriptionPane:_,isDescriptionPaneOpen:e,ref:g}))})(),s.createElement(a1,{recordingKey:f.Pt(e,"restore")}),m&&s.createElement("div",{className:aJ.Og},s.createElement(tm.e6,{containerWidth:u?e8.O2.RESIZABLE_SIDEBAR:e8.O2.REGULAR,propDimension:e8.OE.ASSIGNMENT,guids:r,recordingKey:e.recordingKey,errorBoxFlushWithContainer:!0})),i.map(n=>s.createElement("div",{key:`bubbledInstance.${n[0]}`,className:aJ.Wf},s.createElement(tm.ME,{containerWidth:u?e8.O2.RESIZABLE_SIDEBAR:e8.O2.REGULAR,propDimension:e8.OE.ASSIGNMENT,guids:n,hideErrors:!0,resettableInstanceOverrides:t&&t.bubbledInstanceOverrides?t.bubbledInstanceOverrides[n[0]]:void 0,instanceAndSublayerGUIDs:n,instanceNameDisplayOverride:tu.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,recordingKey:e.recordingKey,forBubbledProps:!0,highlightNodesOnHover:!0,errorBoxFlushWithContainer:!0})))):null});function a1({recordingKey:e}){let{sceneGraphSelection:t,library:n}=(0,tc.R)(e=>({sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library})),l=(0,ed.d4)(eM.dT),{affiliatedStateGroup:r,singleBackingSymbol:a,restoreType:i,stateResetType:o}=(0,aQ.$)(l),c=(0,ed.d4)(rG.lm),d=(0,ed.d4)(nz.sS),p=(0,ed.wA)();return"STATE_GROUP"===i||"SYMBOL_AS_NON_STATE"===i?s.createElement(eF.fI,{className:aJ.Ki},s.createElement(e1.nR,{className:aJ.Kg,onClick:function(){$.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")},recordingKey:f.Pt(e,"restoreComponentButton")},s.createElement(D.Tx,{id:"design_systems.instance_panel.restore_component"}))):"DELETED_LOCAL_STATE"===o||"DELETED_SUBSCRIBED_STATE"===o?s.createElement(a$.aV,{title:"Missing variant"},s.createElement("div",{className:aJ.AQ},s.createElement(D.Tx,{id:"design_systems.instance_panel.the_selected_variant_is_missing_in_the_component"})),s.createElement("div",{className:aJ.ns},s.createElement(e1.nR,{className:aJ.cZ,onClick:function(){let e;if(d){if("DELETED_SUBSCRIBED_STATE"===o){let t=null==a?void 0:a.componentKey;if(!t)return;e=c.get(t)}else if("DELETED_LOCAL_STATE"===o){let t=null==r?void 0:r.guid;if(!t)return;e=n.local.stateGroups[t]}eO.l7.user("reset-variant",()=>{e&&(0,aW.V4)(e,p,d,t,"Reset Variant Button",!1)})}},recordingKey:f.Pt(e,"resetVariantButton")},s.createElement(D.Tx,{id:"design_systems.instance_panel.reset_to_default"})))):null}var a7=n(668e3);function a2(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 6.5h-.6c-.84 0-1.26 0-1.58.163a1.5 1.5 0 0 0-.656.656c-.164.32-.164.74-.164 1.581v.6m8-3h.6c.84 0 1.26 0 1.581.163a1.5 1.5 0 0 1 .655.656c.164.32.164.74.164 1.581v.6m-3 8h.6c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656c.164-.32.164-.74.164-1.581v-.6m-8 3h-.6c-.84 0-1.26 0-1.581-.163a1.5 1.5 0 0 1-.656-.656c-.163-.32-.163-.74-.163-1.581v-.6"}))}var a4=n(833019),a3=n(526912),a6=n(812386),a8=n(445978);function a9(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 6.5a.5.5 0 0 0-1 0v11a.5.5 0 0 0 1 0v-11ZM5 9.104a.75.75 0 0 1 1.28-.53L9 11.292a1 1 0 0 1 0 1.414l-2.72 2.72a.75.75 0 0 1-1.28-.53V9.103Zm1 .603v4.586L8.293 12 6 9.707Zm13-.603a.75.75 0 0 0-1.28-.53L15 11.292a1 1 0 0 0 0 1.414l2.72 2.72a.75.75 0 0 0 1.28-.53V9.103Zm-1 .603v4.586L15.707 12 18 9.707Z",clipRule:"evenodd"}))}function ie(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.5 12.5a.5.5 0 0 0 0-1h-11a.5.5 0 0 0 0 1h11ZM14.896 19a.75.75 0 0 0 .53-1.28L12.708 15a1 1 0 0 0-1.414 0l-2.72 2.72a.75.75 0 0 0 .53 1.28h5.793Zm-.603-1H9.707L12 15.707 14.293 18Zm.603-13a.75.75 0 0 1 .53 1.28L12.708 9a1 1 0 0 1-1.414 0l-2.72-2.72A.75.75 0 0 1 9.103 5h5.793Zm-.603 1H9.707L12 8.293 14.293 6Z",clipRule:"evenodd"}))}var it=n(993167),il=n(251763),ir=n(64813),ia=n(22583),ii=n(45734),io=n(318426),is=n(619008),ic=n(781779);let id="corner_smoothing--cornerSmoothingInput--diqdz";function ip({initialPosition:e,recordingKey:t,onClose:n}){return s.createElement(e9.vx,{title:(0,D.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),initialPosition:e,headerSize:"small",onClose:n,recordingKey:f.Pt(t,"modal")},s.createElement(eF.Id,null,s.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},s.createElement(iu,{recordingKey:t}))))}function iu(e){let{version:t}=(0,eh.DP)();return s.createElement("ui3"===t?ih:im,{...e})}function im(e){let t=(0,ia.DP)(),n=(0,io.Xc)(),l=(0,lK.kl)("cornerSmoothing"),r=(0,ia.yM)(),a=s.useCallback((e,t)=>{ig(e.x,t)},[]),i=s.useCallback(e=>{let t=(0,is.W)(e);ig((0,E.qE)((0,ee._W)(l,0)+t/100,0,1),!0)},[l]),o=s.useCallback(e=>{let t=e.getContext("2d");t.fillStyle=(null==r?void 0:r.colorBgSecondary)||ic.z8Z,t.fillRect(0,0,c+n,n)},[null==r?void 0:r.colorBgSecondary,n]),c=138,d=new A.Mi((0,ee._W)(l,0),0),p=new ir.LN;return s.createElement("div",{className:"corner_smoothing--root--tqWdN"},s.createElement(io.Kf,{hitBoxMargin:8,width:c,height:0,handlePadding:!0,value:d,mouseCallback:a,wheelCallback:ae.lQ,keyDownCallback:i,renderCanvas:o,containerClass:"corner_smoothing--sliderContainer--0-rJy",canvasWrapperStyles:"dark"===t?{border:"1px solid var(--color-conditionalborder)"}:{}},s.createElement("div",{className:"corner_smoothing--sliderAnnotationStroke--n6UqC",style:{position:"absolute",width:0,height:18,left:.6*c+.5*n,top:0,borderLeftWidth:1}},s.createElement(eF.UZ,{style:{position:"relative",left:-8,top:20},onClick:()=>{ig(.6,!0)}},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"})))),s.createElement(r1.Q7,{recordingKey:f.Pt(e,"modal"),className:id,formatter:p,property:d.x,onChange:e=>{ig(e,!0)}}))}function ih({recordingKey:e}){let t=(0,s.useMemo)(()=>new ir.LN,[]),n=(0,ee._W)((0,lK.kl)("cornerSmoothing"),0);return s.createElement("div",{className:"corner_smoothing--rootUi3--4yJI2"},s.createElement("div",{className:"corner_smoothing--sliderWrapperUi3--k4Z-O"},s.createElement(il.A,{"aria-label":(0,D.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),value:n,onChange:(e,{commit:t})=>ig(e,t),min:0,max:1,step:.01,bigStep:.1,defaultValue:0,rangeAnchor:0,hints:[.6],recordingKey:f.Pt(e,"slider")})),s.createElement(r1.Q7,{recordingKey:f.Pt(e,"modal"),className:id,formatter:t,property:n,onChange:e=>void ig(e,!0)}),s.createElement("div",{className:"corner_smoothing--labelWrapperUi3--Kt9lC"},s.createElement(eF.UZ,{className:"corner_smoothing--labelUi3--fPeZB",onClick:()=>{ig(.6,!0)}},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"}))))}function ig(e,t){e=Math.round(100*e)/100,$.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?ii.zk.YES:ii.zk.NO})}var iE=n(691039),i_=n(728314),iy=n(229351),iv=n(736002),ib=((r=ib||{})[r.TOP_LEFT=0]="TOP_LEFT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.TOP_RIGHT=2]="TOP_RIGHT",r[r.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",r);let iS={0:{svg:iy.A,variableField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS",getTooltip:()=>(0,D.t)("fullscreen.properties_panel.transform_panel.top_left_corner_radius")},2:{svg:iv.A,variableField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,D.t)("fullscreen.properties_panel.transform_panel.top_right_corner_radius")},1:{svg:iE.A,variableField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",getTooltip:()=>(0,D.t)("fullscreen.properties_panel.transform_panel.bottom_left_corner_radius")},3:{svg:i_.A,variableField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,D.t)("fullscreen.properties_panel.transform_panel.bottom_right_corner_radius")}};function iT(e){return iS[e].variableField}var iw=n(92158),iP=n(113394),iC=n(51431),ik=n(723171),iI=n(533173),iN=n(484214),iA=n(453015),iR=n(91609),iO=n(489960),iM=n(946482),ix=n(934325),iL=n(334068);class iK{constructor(e){this._controls=0|e}get framePresetsItem(){return this.getValue(Q.Sqb.FRAME_PRESETS_ITEM)}get cornerRadius(){return this.getValue(Q.Sqb.CORNER_RADIUS)}get frameOptions(){return this.getValue(Q.Sqb.FRAME_OPTIONS)}get count(){return this.getValue(Q.Sqb.COUNT)}get starInnerScale(){return this.getValue(Q.Sqb.STAR_INNER_SCALE)}get rectangleCornerRadii(){return this.getValue(Q.Sqb.RECTANGLE_CORNER_RADII)}get fixedFrameOptions(){return this.getValue(Q.Sqb.FIXED_FRAME_OPTIONS)}get arcData(){return this.getValue(Q.Sqb.ARC_DATA)}get transform(){return this.getValue(Q.Sqb.TRANSFORM)}get size(){return this.getValue(Q.Sqb.SIZE)}get angle(){return this.getValue(Q.Sqb.ANGLE)}get sectionItem(){return this.getValue(Q.Sqb.SECTION_ITEM)}getValue(e){return!!(this._controls&1<<e)}}function iF(e){var t;let n=(0,ed.wA)(),l=(0,j.sT)(),{bigNudgeAmount:r,smallNudgeAmount:a}=l,i=(0,s.useCallback)((e,t,l)=>{l.stopPropagation();let i=e===g.Uz.UP_ARROW?"+":"-",o=`${i}${t?r:a}`;n(iR.eB({target:{kind:ey.Ui.TEXT,text:o},targetRect:l.currentTarget.closest("label").getBoundingClientRect(),position:ey.Zj.BELOW,hideAfterDelay:200}))},[n,r,a]),o=(t=e.key,(0,s.useMemo)(()=>{class e extends iM.M{getValueForNode(e){return Q.Egt.getNodeTransformProperties(e.guid)[t]}setValueForNode(e,n){eO.l7.user(`transform-change-${t}`,()=>{try{Q.Egt.setNodeTransformProperties(e.guid,{[t]:n})}catch{}})}}return new e},[t])),c=function({key:e,setValue:t}){let n=(0,ed.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode);return(0,s.useCallback)((l,r)=>{iV(e),n!==Q.nzw.NONE&&Q.glU.hideOnCanvasNameEditor(),t(l,r)},[e,n,t])}(e);return{...l,dispatch:n,onValueChange:c,mixedMathHandler:o,onMixedMathNudge:i,onKeyUp:Y.dG}}function iD(){let{smallNudgeAmount:e,bigNudgeAmount:t}=(0,j.sT)();return{smallNudgeAmount:e,bigNudgeAmount:t,wheelMultiplier:e,scrubMultiplier:e}}function iH(){let e=(0,lK.kl)("stackHorizontalSize"),t=(0,lK.kl)("stackVerticalSize"),n=(0,lK.kl)("textAutoResize"),l=iB(),r=(0,ed.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,iO.vx)(t,"TEXT")}),a=a=>{let i=("VERTICAL"===a?t:e)!==Q.mKm.FIXED,o=r&&((0,ee.gl)(n)||"WIDTH_AND_HEIGHT"===n||"VERTICAL"===a&&"HEIGHT"===n);return i||"VERTICAL"===a&&l||o};return{widthIsAuto:a("HORIZONTAL"),heightIsAuto:a("VERTICAL")}}function iB(){return(0,ed.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,iO.OU)(t,["LINE","WASHI_TAPE"])})}function iV(e){(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:e}),(0,iL.a2)(e)}function iU(){let e=(0,ix.J2)(Q.Ez5.propertiesPanelState().shownTransformControls);return(0,s.useMemo)(()=>new iK(e),[e])}function iz(){let e=(0,ix.J2)(Q.Ez5.propertiesPanelState().enabledTransformControls);return(0,s.useMemo)(()=>new iK(e),[e])}let iZ="independent_corner_radius_view--inputRow--WrZ2t";function iG({topLeftValue:e,topRightValue:t,bottomLeftValue:n,bottomRightValue:l,recordingKey:r,onTopLeftChange:a,onTopRightChange:i,onBottomLeftChange:o,onBottomRightChange:c}){let d=s.useMemo(()=>[iT(ib.TOP_LEFT)],[]),p=s.useMemo(()=>[iT(ib.TOP_RIGHT)],[]),u=s.useMemo(()=>[iT(ib.BOTTOM_LEFT)],[]),m=s.useMemo(()=>[iT(ib.BOTTOM_RIGHT)],[]),h=(0,lN.SG)(d).data??[],g=(0,lN.SG)(p).data??[],E=(0,lN.SG)(u).data??[],_=(0,lN.SG)(m).data??[],y=s.useRef(null),v=s.useRef(null),b=s.useRef(null),S=s.useRef(null),[T,w]=s.useState(null),P=s.useCallback((e,t)=>{t&&w({corner:e,initialPosition:(0,ev.VZ)(t,iN.d9)})},[]),C=s.useCallback(()=>{w(null)},[]);function k(r){switch(r){case ib.TOP_LEFT:return{value:e,variableFields:d,variablesForField:h,inputRef:y,onChange:a};case ib.TOP_RIGHT:return{value:t,variableFields:p,variablesForField:g,inputRef:v,onChange:i};case ib.BOTTOM_LEFT:return{value:n,variableFields:u,variablesForField:E,inputRef:b,onChange:o};case ib.BOTTOM_RIGHT:return{value:l,variableFields:m,variablesForField:_,inputRef:S,onChange:c}}}function I({corner:e,recordingKey:t}){return s.createElement(iW,{variableFields:k(e).variableFields,isPickerOpen:(null==T?void 0:T.corner)===e,onPickerOpen:()=>P(e,k(e).inputRef.current)},s.createElement(iY,{ref:k(e).inputRef,value:k(e).value,variableFields:k(e).variableFields,svg:iS[e].svg,tooltip:iS[e].getTooltip(),disableEntryPoint:0===k(e).variablesForField.length,recordingKey:t,onChange:k(e).onChange}))}return s.createElement("div",null,s.createElement(s.Fragment,null,s.createElement("div",{className:iZ},I({corner:ib.TOP_LEFT,recordingKey:f.Pt(r,"rectangleTopLeftCornerRadiusInput")}),I({corner:ib.TOP_RIGHT,recordingKey:f.Pt(r,"rectangleTopRightCornerRadiusInput")})),s.createElement("div",{className:iZ},I({corner:ib.BOTTOM_LEFT,recordingKey:f.Pt(r,"rectangleBottomLeftCornerRadiusInput")}),I({corner:ib.BOTTOM_RIGHT,recordingKey:f.Pt(r,"rectangleBottomRightCornerRadiusInput")}))),function(){if(!T)return null;let{corner:e,initialPosition:t}=T,n=(0,ee._W)(k(e).value,0);return s.createElement(iX,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:k(e).variableFields,onClose:C})}())}let iY=s.forwardRef(({variableFields:e,value:t,svg:n,tooltip:l,recordingKey:r,disableEntryPoint:a,onChange:i},o)=>{let c=(0,ed.wA)(),{smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:u,scrubMultiplier:m}=iD(),{consumedVariable:h}=(0,rV.u3)(e),g=s.useId();return s.createElement(iP.sJ,{ref:o,currentFieldValue:(0,ee._W)(t,0),disableEntryPoint:a},s.createElement(rB.$j,{dispatch:c,value:(0,ee.gl)(t)?t:t??0,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:u,scrubMultiplier:.1*m,noBorderOnHover:!0,isTokenizable:!0,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l,"data-tooltip-proxy-element-id":h?g:void 0,recordingKey:r,onValueChange:i},s.createElement(x.B,{className:"independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO",svg:n,"data-tooltip-type":h?ey.Ib.TEXT:void 0,"data-tooltip":h?l:void 0,id:g})))});function iW({variableFields:e,isPickerOpen:t,onPickerOpen:n,children:l}){let{consumedVariable:r}=(0,rV.u3)(e),a=(0,iI.MH)(r),i=(0,lN.u)(a??void 0),o=!!i&&(0,iI.eF)(i),[c,d,p]=(0,iC.JV)(e,Q.rXF.FLOAT);return s.createElement(ik.p.Provider,{value:{boundVariableId:a,isBoundVariableDeleted:o,isShowingBindingUI:t,showBindingUI:n,onVariableSelected:p}},l)}function iX({corner:e,initialPosition:t,currentFieldValue:n,variableFields:l,onClose:r}){let a=(0,ed.wA)(),{updateVariableConsumption:i}=(0,rV.u3)(l),o=s.useCallback(e=>{a((0,iw.Yi)({item:e,callback:e=>{i((0,rV.y$)(Q.rXF.FLOAT,e))}}))},[a,i]);return s.createElement(s.Fragment,null,s.createElement(iC.jp,{fields:[iT(e)],resolvedType:Q.rXF.FLOAT,initialPosition:t,currentFieldValue:n,onVariableSelected:o,onClose:r}),s.createElement(iA.$3,{onClose:r}))}let i$="240px";function iQ(e){let t=function(){let e=(0,tc.R)(e=>{let t=e.mirror.selectionProperties;return{angle:t.angle,hasReflection:t.hasReflection,topLeft:t.rectangleTopLeftCornerRadius,topRight:t.rectangleTopRightCornerRadius,bottomRight:t.rectangleBottomRightCornerRadius,bottomLeft:t.rectangleBottomLeftCornerRadius}});return(0,s.useCallback)(t=>{let n=[{corner:0,value:e.topLeft,key:"rectangleTopLeftCornerRadius"},{corner:1,value:e.bottomLeft,key:"rectangleBottomLeftCornerRadius"},{corner:3,value:e.bottomRight,key:"rectangleBottomRightCornerRadius"},{corner:2,value:e.topRight,key:"rectangleTopRightCornerRadius"}],l=n.findIndex(({corner:e})=>e===t);e.hasReflection&&(l+=2),null!=e.angle&&(0,ee.hS)(e.angle)&&(Math.abs(e.angle)>=135?l+=2:e.angle>=45?l+=3:e.angle<=-45&&(l+=1));let r=n[l%4];return{value:r.value,setter:(e,t=ii.zk.YES)=>{$.Y5.updateSelectionProperties({[r.key]:e},{shouldCommit:t})}}},[e])}();return s.createElement(I,{name:"independent_corner_radius_modal"},s.createElement(e9.vx,{title:(0,D.t)("fullscreen.properties_panel.transform_panel.corner_radius"),initialPosition:e.initialPosition,headerSize:"small",onClose:e.onClose,recordingKey:f.Pt(e,"modal")},s.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusContent--DPDSk"},s.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},s.createElement(iG,{topLeftValue:t(ib.TOP_LEFT).value,topRightValue:t(ib.TOP_RIGHT).value,bottomLeftValue:t(ib.BOTTOM_LEFT).value,bottomRightValue:t(ib.BOTTOM_RIGHT).value,recordingKey:f.Pt(e,"independentCornerRadius"),onTopLeftChange:t(ib.TOP_LEFT).setter,onTopRightChange:t(ib.TOP_RIGHT).setter,onBottomLeftChange:t(ib.BOTTOM_LEFT).setter,onBottomRightChange:t(ib.BOTTOM_RIGHT).setter})),s.createElement(eF.Zk,{className:"independent_corner_radius_modal--cornerSmoothingPanel--fUaKb independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},s.createElement(eF.xw,{className:"independent_corner_radius_modal--cornerSmoothingTitle--WTrG6"},(0,D.t)("fullscreen.properties_panel.transform_panel.corner_smoothing")),s.createElement("div",{className:"independent_corner_radius_modal--cornerSmoothingContainer--DTnrk"},s.createElement(iu,{recordingKey:f.Pt(e,"advanced")}))))))}function ij(e){let{controls:t}=e;return s.createElement("div",{className:"segmented_button--root--BlK0T"},t.map((e,t)=>{let{children:n,...l}=e;return s.createElement(t_.K0,{...l,key:t,className:"segmented_button--button--HF0rV"},s.createElement("span",null,n))}))}var iq=n(614851),iJ=n(595869);let i0=["CORNER_RADIUS"],i5=["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"];function i1(e){var t;let n=(0,s.useId)(),l=s.useRef(null),{smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i}=iD(),o=(0,ed.wA)(),[c,d]=(0,lK.lJ)("cornerRadius"),{consumedVariable:p,clearVariableConsumption:u}=(0,rV.u3)(i0),{consumedVariable:m,clearVariableConsumption:h}=(0,rV.u3)(i5),g=(0,iI.MH)(p)??(0,iI.MH)(m),E=(0,lN.u)(g??void 0),_=!!E&&(0,iI.eF)(E),[y,v,b]=(0,iC.JV)(i0,Q.rXF.FLOAT),S=(0,eA.Vq)(c)&&(0,ee.hS)(c)?c:void 0,T=0===((null==(t=(0,lN.SG)(i0))?void 0:t.data)??[]).length,w=s.useCallback(()=>{u(),h()},[u,h]),P=s.useCallback(e=>{e?b(e):w()},[b,w]),C=s.useCallback(()=>{l.current&&v(l.current,{currentFieldValue:S})},[v,S]),k=s.useMemo(()=>({isShowingBindingUI:y,showBindingUI:C,boundVariableId:g,isBoundVariableDeleted:_,onVariableSelected:P}),[y,C,g,_,P]),I=(0,D.t)("fullscreen.properties_panel.transform_panel.corner_radius");return s.createElement(td.E,{name:"corner_radius_input"},s.createElement(ik.p.Provider,{value:k},s.createElement(iP.sJ,{ref:l,inputClassName:e.inputClassName,currentFieldValue:S,disabled:e.disabled,disableEntryPoint:T,recordingKey:f.Pt(e,"cornerRadiusInputVariableWrapper")},s.createElement(rB.$j,{noBorderOnHover:!0,isTokenizable:!0,inputClassName:iq.hF,value:c,smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i,onValueChange:e=>{iV("cornerRadius"),d(e)},dispatch:o,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":I,"data-tooltip-proxy-element-id":E?n:void 0,recordingKey:f.Pt(e,"cornerRadiusInput"),disabled:e.disabled,scrubMultiplier:.1*r,dataTestId:"transform-corner-radius"},s.createElement(x.B,{className:iq.QK,svg:iJ.A,"data-tooltip-type":E?ey.Ib.TEXT:void 0,"data-tooltip":E?I:void 0,id:n})))))}var i7=n(100433);function i2(e){let[t,n]=(0,lK.lJ)("angle"),{smallNudgeAmount:l,bigNudgeAmount:r,...a}=iF({key:"angle",setValue:n});return s.createElement(td.E,{name:"rotation_input"},s.createElement(rB.Zp,{className:iq.BP,inputClassName:iq.hF,value:t,disabled:e.disabled,...a,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.rotation"),recordingKey:f.Pt(e,"angleInput")},s.createElement(x.B,{className:iq.QK,svg:i7.A})))}var i4=n(362679),i3=n(13556),i6=n(502517);function i8(e){let{version:t}=(0,eh.DP)(),[n]=(0,lK.lJ)("rectangleCornerRadiiIndependent"),l=(0,s.useRef)(null),r=(0,lF.k)("corner-smoothing"),a=(0,lL.Zr)("flip-horizontal"),i=(0,lL.Zr)("flip-vertical"),o=(0,lL.Zr)("rotate-90-clockwise"),c=(0,s.useCallback)(()=>{r.hide(),$.Y5.deselectProperty()},[r]),d=e.cornerRadiusDisabled||e.rectangleCornersDisabled,[u,h]=s.useState(null),g=e.rectangleCornersShown&&!!u,E=s.useCallback(()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,ee._W)(n,!1)}),!g&&l.current?h((0,ev.cn)(l.current,parseInt(i$,10))):h(null)},[n,g]);return"ui2"===t?s.createElement(s.Fragment,null,s.createElement(eF.fI,{forwardedRef:l},s.createElement(i2,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),e.cornerRadiusShown&&s.createElement(i1,{recordingKey:e.recordingKey,inputClassName:e.angleShown?iq.sC:iq.BP,disabled:g||e.cornerRadiusDisabled}),e.cornerRadiusShown&&e.rectangleCornersShown&&s.createElement(it.m,{toggled:g,svg:i6.A,className:iq.gb,onMouseDown:E,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:f.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:d}),e.cornerRadiusShown&&!e.rectangleCornersShown&&s.createElement(eF.YW,{svg:i4.A,fallbackSvg:i3.A,className:iq.gb,onMouseDown:e=>i9(r,l,e),recordingKey:f.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:r.showing,disabled:e.cornerRadiusDisabled})),g&&u&&s.createElement(iQ,{initialPosition:u,onClose:E,recordingKey:e.recordingKey}),r.showing&&s.createElement(ip,{initialPosition:r.initialPosition,onClose:c,recordingKey:f.Pt(e,"advanced")})):s.createElement(tw.fn,{ref:l,leftLabel:s.createElement(D.Tx,{id:"properties.label.transform"}),leftInput:s.createElement(i2,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),rightInput:s.createElement(ij,{controls:[oe("rotate-90-clockwise",s.createElement(a8.R,null),o),oe("flip-horizontal",s.createElement(a9,null),a),oe("flip-vertical",s.createElement(ie,null),i)]}),rightLabel:null,icon:null})}function i9(e,t,n){n.stopPropagation(),(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:e.showing}),e.toggle(()=>(0,ev.cn)(t.current))}let oe=(e,t,n)=>({"aria-label":e,"data-tooltip":e,"data-tooltip-type":ey.Ib.LOOKUP,children:t,disabled:!n,onClick:()=>{$.Y5.triggerActionInUserEditScope(e)}});var ot=n(491059),on=n(527808);function ol(e){var t,n;let l=(0,ed.wA)(),r=new A.Mi(null==(t=e.pickerShown)?void 0:t.initialX,null==(n=e.pickerShown)?void 0:n.initialY),a=(0,ed.d4)(e=>e.dropdownShown);return s.createElement(e9.vx,{title:(0,D.t)("fullscreen.properties_panel.constraints_panel.constraints"),initialPosition:r,headerSize:"small",onClose:()=>{l(H.XE())}},s.createElement(eF.Id,null,s.createElement(af,{...e,dropdownShown:a})))}var or=n(505838),oa=n(537545),oi=n(64111);class oo extends or.I{}class os extends or.Y{}class oc extends s.PureComponent{constructor(){super(...arguments),this.getProperty=()=>(0,ee.hS)(this.props.width)&&(0,ee.hS)(this.props.height)?this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":ee.oV,this.onChange=e=>{this.getProperty()!==e&&eO.l7.user("toggle-frame-orientation",()=>{$.Y5.triggerAction("toggle-frame-orientation"),Q.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){let e=this.getProperty(),t=!(0,ee.hS)(this.props.resizeToFit)||this.props.resizeToFit;return s.createElement(oo,{className:"orientation_control--orientationControl--JG3io",disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},s.createElement(os,{value:"PORTRAIT",svg:oi.A,tooltip:(0,D.t)("fullscreen.properties_panel.orientation.portrait")}),s.createElement(os,{value:"LANDSCAPE",svg:oa.A,tooltip:(0,D.t)("fullscreen.properties_panel.orientation.landscape")}))}}oc.displayName="OrientationControl";var od=n(617617);function op(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m16.5 8.5-3 3 3 3m-9-6 3 3-3 3"}))}function ou(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m14.5 16.5-3-3-3 3m6-9-3 3-3-3"}))}function om(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.354 8.146a.5.5 0 0 1 0 .708L7.207 11h9.586l-2.146-2.146a.5.5 0 0 1 .707-.708l3 3a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708-.707L16.793 12H7.207l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}function oh(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.854 14.146a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.707L11 16.293V7.707L8.854 9.854a.5.5 0 0 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L12 7.707v8.586l2.146-2.147a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}var og=n(995225),oE=n(66673),o_=n(430271),of=n(742900),oy=n(682555),ov=n(611730),ob=n(552789),oS=n(723472),oT=n(105752),ow=n(445889),oP=n(190152),oC=n(507245);function ok(e){let t=(0,ed.wA)(),n=(0,ll.U)(),l=(0,ed.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions),r=(0,te.Tv)(),a=!1;e.axis===Q._0v.Y&&r&&function(e){let t=new Set([]);for(let n of e){let l=of.qo.instance.get(n);if(l&&l.parentGuid&&!t.has(l.parentGuid)&&(t.add(l.parentGuid),function(e,t){let n=e.parentNode,l=!1,r=!0;if(e&&n&&"WRAP"===n.stackWrap)for(let a of n.childrenGuids){t.find(e=>e===a)||(r=!1);let n=of.qo.instance.get(a);a!==e.guid&&n&&"AUTO"===n.stackChildAlignSelf&&(l=!0)}return l&&!r}(l,e)))return!0}return!1}(r)&&(a=!0);let i=(0,ed.d4)(e=>!!e.mirror.selectionProperties.isInstanceSublayerSelected),o=(0,ot.am)(),c=(0,s.useMemo)(()=>new oN(e.axis),[e.axis]);if(null==l)return null;let[p,u]=oI(e.axis,e.size),m=function(e,t){let n=e===Q._0v.X;switch(t){case Q.mKm.HUG_CONTENT:return n?s.createElement(op,null):s.createElement(ou,null);case Q.mKm.FILL_CONTAINER:return n?s.createElement(om,null):s.createElement(oh,null);default:return n?s.createElement(r8,null):s.createElement(r9,null)}}(e.axis,e.size);if(e.readOnly&&(0,ee.hS)(e.size)){let t=oA(e.size);return s.createElement("div",{className:d()(e.className,"stack_sizing_select_v5--flexContainer--nrpIK")},s.createElement(og.t,{svg:p,fallbackSvg:u,className:ai.Vb}),s.createElement("span",{className:"stack_sizing_select_v5--readOnlyText--Ik-gS ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}var h,g=i;for(let e of l)if(e.size===Q.mKm.HUG_CONTENT||e.size===Q.mKm.FILL_CONTAINER){g=!1;break}let E=l.map(t=>{let n=Q.mKm[t.size],l=t.size===Q.mKm.FILL_CONTAINER&&a,r=t.disabled||l,i="no-fill-component"===t.disabledReason?(0,D.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.no_fill_component"):l?(0,D.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.select_all_fill"):void 0;return s.createElement(at.c$,{key:t.size,value:t.size,recordingKey:f.Pt(e.recordingKey,"select",n),disabled:r,tooltip:i,tooltipType:ey.Ib.TEXT,dataTestId:`${n}-${Q._0v[e.axis]}`})}),_=(null==(h=(0,oE.Gq)())?void 0:h.getPrimaryLocale(!0))===o_.Xn?150:210;return s.createElement(at.l6,{id:e.id,className:e.className,inputClassName:d()("stack_sizing_select_v5--tightText--xHUXj","stack_sizing_select_v5--stackLayoutSizeInput--aB6Pd"),chevronClassName:"stack_sizing_select_v5--stackLayoutSizeChevron--xh9BG",dropdownShown:n,dispatch:t,property:e.size,formatter:c,svg:p,fallbackSvg:u,ui3Icon:m,onChange:t=>{null!=t&&(eO.l7.user("set-stack-size",()=>Q.Qa7.setStackSizeOnSelection(t,e.axis)),o("Autolayout sizing changed",{axis:e.axis,size:t,source:"dropdown"}))},disabled:g,recordingKey:f.Pt(e,"select"),dropdownWidth:_,dropdownAlignment:e.dropdownAlignment,truncation:"none",onOptionFocus:(t,n)=>e.onHover(t??null,n),onMouseEnter:()=>e.onHover((0,ee.hS)(e.size)?e.size:null,"input"),onMouseLeave:()=>e.onHover(null,"input"),tooltip:e.axis===Q._0v.X?(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.horizontal_resizing"):(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.vertical_resizing")},E)}function oI(e,t){let n=e===Q._0v.X;switch(t){case ee.oV:return n?[oP.A]:[ob.A];case Q.mKm.HUG_CONTENT:return n?[oC.A]:[oS.A];case Q.mKm.FILL_CONTAINER:return n?[oT.A]:[oy.A];default:return n?[al.A,ow.A]:[an.A,ov.A]}}class oN{constructor(e){this.axis=e}format(e){return null==e?"":oA(e)}formatExtended(e){if(null==e)return{text:""};let[t,n]=oI(this.axis,e);return{text:function(e,t){switch(t){case Q.mKm.FIXED:return e===Q._0v.X?(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_width"):(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_height");case Q.mKm.HUG_CONTENT:return(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case Q.mKm.FILL_CONTAINER:return(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e)||"",svg:t,fallbackSvg:n}}}function oA(e){switch(e){case Q.mKm.FIXED:return(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed");case Q.mKm.HUG_CONTENT:return(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case Q.mKm.FILL_CONTAINER:return(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}function oR(e){let t=(0,lK.kl)("stackHorizontalSize"),n=(0,lK.kl)("stackVerticalSize"),l=(0,od.aj)(),{version:r}=(0,eh.DP)();return null==t||null==n?null:"ui2"===r?s.createElement(eF.fI,{"data-testid":"stack-sizing-row"},s.createElement(ok,{id:"stack-sizing-width",className:iq.oH,axis:en._0v.X,size:t,recordingKey:f.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,en._0v.X)}),s.createElement(ok,{id:"stack-sizing-height",className:iq.T1,axis:en._0v.Y,size:n,recordingKey:f.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,en._0v.Y)})):s.createElement(tw.fn,{"data-testid":"stack-sizing-row",leftLabel:s.createElement(D.Tx,{id:"properties.label.resizing"}),leftInput:s.createElement(ok,{id:"stack-sizing-width",className:iq.oH,axis:en._0v.X,size:t,recordingKey:f.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,en._0v.X)}),rightInput:s.createElement(ok,{id:"stack-sizing-height",className:iq.T1,axis:en._0v.Y,size:n,recordingKey:f.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,en._0v.Y)}),rightLabel:null,icon:null})}function oO(){return s.createElement("div",{className:"constraints_preview_icon--container--n518S"},s.createElement(oM,{axis:"HORIZONTAL"}),s.createElement("div",{className:oH(90)},s.createElement(oM,{axis:"VERTICAL"})))}function oM(e){let t=aE(),n="HORIZONTAL"===e.axis?t.horizontalConstraint:t.verticalConstraint;if(t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning)return s.createElement(ox,null);switch(n){case"MIN":return s.createElement(s.Fragment,null,s.createElement(oK,{selected:!0}),s.createElement(oK,{rotation:180}));case"MAX":return s.createElement(s.Fragment,null,s.createElement(oK,null),s.createElement(oK,{rotation:180,selected:!0}));case"STRETCH":return s.createElement(s.Fragment,null,s.createElement(oK,{selected:!0}),s.createElement(oK,{rotation:180,selected:!0}));case"CENTER":return s.createElement(s.Fragment,null,s.createElement(oK,null),s.createElement(oL,{selected:!0}),s.createElement(oK,{rotation:180}));case"SCALE":return s.createElement(s.Fragment,null,s.createElement(oF,{selected:!0}),s.createElement(oF,{rotation:180,selected:!0}));default:return s.createElement(ox,null)}}function ox(){return s.createElement(s.Fragment,null,s.createElement(oF,null),s.createElement(oF,{rotation:180}))}function oL(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(oD,{d:"M 10,12  L 14,12",...e}))}function oK(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(oD,{d:"M 5.5,10 L 5.5,14 M 5.5,12  L 8,12",rotation:e.rotation,selected:e.selected}))}function oF(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(oD,{d:"M 7.5,10  L 5.5,12 L 7.5,14",...e}))}function oD(e){return s.createElement("path",{d:e.d,fill:"none",className:d()("constraints_preview_icon--line--z6ghs",oH(e.rotation||0),{"constraints_preview_icon--selected--GXU2-":e.selected})})}let oH=e=>{switch(e){case 0:return;case 90:return"constraints_preview_icon--rotate90--uayVi constraints_preview_icon--_rotate--2AAty";case 180:return"constraints_preview_icon--rotate180--lqQgR constraints_preview_icon--_rotate--2AAty"}};var oB=n(823223),oV=n(78947);function oU(e){let[t,n]=(0,lK.lJ)("frameMaskDisabled"),{version:l}=(0,eh.DP)(),r=(0,s.useId)();return"ui2"===l?s.createElement(eF.fI,null,s.createElement(rJ.t,{className:iq.kv,id:r,property:(0,ee.gl)(t)?ee.oV:!t,onChange:e=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)},recordingKey:f.Pt(e,"clipContentCheckbox")}),s.createElement(eF.JU,{className:iq.mH,htmlFor:r},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"}))):s.createElement("div",{className:oV.Ww,"data-non-interactive":!0},s.createElement(oB.d,{mixed:(0,ee.gl)(t),checked:!t,onChange:e=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)},label:s.createElement(e5.J,null,s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"})),recordingKey:f.Pt(e,"clipContent")}))}var oz=n(887130),oZ=n(560185),oG=n(30562);function oY(e){let t=(0,ed.wA)(),n=iD(),l=(0,lK.kl)("detectedList"),r=(0,lK.kl)("detectableListAxis"),a=(0,ee.E7)(l),i=(0,lL.Zr)("arrange-as-grid"),{version:o}=(0,eh.DP)(),c=(0,s.useRef)(null);if(!a&&null==c.current&&(!(0,m.kc)().ce_mixed_list_spacing||!i&&null==r))return null;let d=(null==a?void 0:a.canvasSpacingBetweenItemsX)!=null||"X"===r||i||c.current===Q._0v.X,p=(null==a?void 0:a.canvasSpacingBetweenItemsY)!=null||"Y"===r||i||c.current===Q._0v.Y,u=s.createElement(rB.gq,{dispatch:t,value:null==a?ee.oV:a.canvasSpacingBetweenItemsX,min:oW(a,"X"),onValueChange:oX(a,"X"),onScrubBegin:()=>{c.current=Q._0v.X},onScrubEnd:()=>{c.current=null},mixedMathHandler:new o$(Q._0v.X),...n,className:iq.BP,inputClassName:iq.hF,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),dataTestId:"list-spacing-x",tooltipForScreenReadersOnly:!0,recordingKey:f.Pt(e,"listSpacingX")},s.createElement(x.B,{className:iq.QK,svg:oZ.A})),h=s.createElement(rB.gq,{dispatch:t,value:null==a?ee.oV:a.canvasSpacingBetweenItemsY,min:oW(a,"Y"),onValueChange:oX(a,"Y"),onScrubBegin:()=>{c.current=Q._0v.Y},onScrubEnd:()=>{c.current=null},mixedMathHandler:new o$(Q._0v.Y),...n,className:d?iq.sC:iq.BP,inputClassName:iq.hF,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),dataTestId:"list-spacing-y",tooltipForScreenReadersOnly:!0,recordingKey:f.Pt(e,"listSpacingY")},s.createElement(x.B,{className:iq.QK,svg:oG.A}));return"ui2"===o?s.createElement(eF.fI,null,d&&u,p&&h):s.createElement(tw.fn,{leftLabel:s.createElement(D.Tx,{id:"properties.label.gap"}),leftInput:d?u:h,rightInput:p&&d?h:null,icon:null,rightLabel:null})}function oW(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let oX=(e,t)=>(n,l)=>{let r="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";$.Y5.updateSelectionProperties({detectedList:{[r]:Math.max(n,oW(e,t))}},{shouldCommit:l});let a="number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsX)&&"number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsY);l&&oz.FZ.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[r],was_mixed:!e,type:a?"grid":"list"})};class o${constructor(e){this.axis=e}getValue(){return Q.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let l=e.spacings.map(t);eO.l7.user("update-list-spacing",()=>{Q.glU.setCurrentListSpacing({...e,spacings:l},this.axis),n!==ii.zk.NO&&Q.glU.triggerAction("commit",{})})}}var oQ=n(708525);let oj=()=>!1;var oq=n(660339),oJ=n(745056);function o0(e){return(0,ee.hS)(e)&&null!=e&&e!==Q.mKm.FIXED}function o5(){let e=(0,lK.kl)("stackHorizontalSize"),t=(0,lK.kl)("stackVerticalSize");return o0(e)||o0(t)}function o1(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 5.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Zm0 13a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5ZM8.797 8v8h1.207v-3.488h3.988V16h1.211V8h-1.21v3.477h-3.99V8H8.798Z",clipRule:"evenodd"}))}function o7(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 18a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5Zm13 0a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5ZM7.604 8l1.882 8h1.03L12 10.062 13.485 16h1.029l1.882-8h-1.027l-1.384 5.88L12.515 8h-1.03l-1.47 5.88L8.63 8H7.604Z",clipRule:"evenodd"}))}var o2=n(289637);let o4=["t","u","b","d"],o3=["r","l"],o6=/([rltubdc])([rltubdc]?)\s*$/i;var o8=((a=o8||{})[a.Vertical=0]="Vertical",a[a.Horizontal=1]="Horizontal",a[a.Center=2]="Center",a);let o9=e=>o4.includes(e),se=e=>o3.includes(e),st=e=>"c"===e,sn=e=>o9(e)?0:se(e)?1:st(e)?2:null,sl=(e,t,n)=>{switch(e){case"b":case"d":switch(t){case"l":return Q.eVK.BOTTOM_LEFT;case"r":return Q.eVK.BOTTOM_RIGHT;case null:return Q.eVK.BOTTOM_CENTER}case"t":case"u":switch(t){case"l":return Q.eVK.TOP_LEFT;case"r":return Q.eVK.TOP_RIGHT;case null:return Q.eVK.TOP_CENTER}case null:switch(t){case"l":return Q.eVK.MIDDLE_LEFT;case"r":return Q.eVK.MIDDLE_RIGHT;case null:if(n)return Q.eVK.MIDDLE_CENTER}}return null};function sr(e){let t=e.match(o6);if(!t||2!==t.length&&3!==t.length)return null;let n=null,l=null,r=null;return Array.from(t).slice(1).forEach(e=>{let t=e.toLowerCase(),a=sn(t);0===a?n=t:1===a?l=t:2===a&&(r=t)}),sl(n,l,r)}let sa=e=>e.replace(o6,"");function si(e,t){return(n,l)=>{if(!(0,m.kc)().ce_relative_xywh||n.type!==o2.By.SYNTAX_UNRECOGNIZED)return;let r=sr(l);null!=r&&(l=sa(l),eO.l7.user(e,()=>{t(l,r)!==ii.zk.NO&&Q.glU.triggerAction("commit",{})}))}}var so=n(633138),ss=n(222077);function sc(e,t){return si(e,(e,n)=>Q.glU.setNodeSelectionSizeWithAnchor(e,t,n)?ii.zk.YES:ii.zk.NO)}let sd=sc("relative-h",Q._0v.Y),sp=sc("relative-w",Q._0v.X),su=(0,s.createContext)(null);function sm({children:e}){let[t,n]=(0,lK.lJ)("height"),[l,r]=(0,lK.lJ)("minHeight"),[a,i]=(0,lK.lJ)("maxHeight"),o={key:"height",axis:Q._0v.Y,dropdownAlignment:"right",limitIcon:so.A,autolayoutMinMaxIcon:s.createElement(o1,null),removeLimitIcons:od.XO.removeHeightLimit,relativeInputHandler:sd,value:t,minValue:l,maxValue:a,setValue:n,setMinValue:r,setMaxValue:i,stackSize:(0,lK.kl)("stackVerticalSize"),isAuto:iH().heightIsAuto,variableField:"HEIGHT",minMaxOptions:[od.zn,od.jw],strings:{dimAbbrev:(0,D.t)("fullscreen.properties_panel.transform_panel.h"),dim:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.height"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizing")},dimWithMinMax:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.height_min_max"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinMaxH")},dimWithMin:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.height_min"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinH")},dimWithMax:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.height_max"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMaxH")}},scrubbableInputClass:iq.sC};return s.createElement(su.Provider,{value:o},e)}function sh({children:e}){let[t,n]=(0,lK.lJ)("width"),[l,r]=(0,lK.lJ)("minWidth"),[a,i]=(0,lK.lJ)("maxWidth"),o={key:"width",axis:Q._0v.X,dropdownAlignment:"left",limitIcon:ss.A,autolayoutMinMaxIcon:s.createElement(o7,null),removeLimitIcons:od.XO.removeWidthLimit,relativeInputHandler:sp,value:t,minValue:l,maxValue:a,setValue:n,setMinValue:r,setMaxValue:i,stackSize:(0,lK.kl)("stackHorizontalSize"),isAuto:iH().widthIsAuto,variableField:"WIDTH",minMaxOptions:[od.mw,od.QG],strings:{dimAbbrev:(0,D.t)("fullscreen.properties_panel.transform_panel.w"),dim:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.width"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizing")},dimWithMinMax:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.width_min_max"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinMaxW")},dimWithMin:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.width_min"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinW")},dimWithMax:{fixed:(0,D.t)("fullscreen.properties_panel.transform_panel.width_max"),resizing:(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMaxW")}},scrubbableInputClass:iq.BP};return s.createElement(su.Provider,{value:o},e)}function sg(){let e=(0,s.useContext)(su);if(!e)throw Error("DimensionInputConfigContext not initialized!");return e}function sE(){return{next:{},numMatches:0,validWord:void 0}}function s_(){return{[(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.hug")]:Q.mKm.HUG_CONTENT,[(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents")]:Q.mKm.HUG_CONTENT,[(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")]:Q.mKm.FILL_CONTAINER,[(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")]:Q.mKm.FILL_CONTAINER}}let sf="dimension_input--dropdownIcon--IaH6E",sy="dimension_input--comboBoxInput--J0jWQ",sv={width:{[Q.mKm.FILL_CONTAINER]:om,[Q.mKm.FIXED]:r8,[Q.mKm.HUG_CONTENT]:op},height:{[Q.mKm.FILL_CONTAINER]:oh,[Q.mKm.FIXED]:r9,[Q.mKm.HUG_CONTENT]:ou}};function sb(e){switch(e){case"FILL_CONTAINER":return Q.mKm.FILL_CONTAINER;case"HUG_CONTENT":return Q.mKm.HUG_CONTENT;case"FIXED":return Q.mKm.FIXED;default:return null}}function sS({providedClassName:e,OriginalComponent:t}){return s.createElement("div",{className:"dimension_input--chevronContainer--CJdqK"},s.createElement(t,{providedClassName:e}))}function sT({checkSvg:e,selected:t,iconToReplaceCheck:n,icon:l,OriginalComponent:r}){return s.createElement(r,{ignoreCheck:!1,icon:s.createElement("div",{className:sf},l??n),iconToReplaceCheck:null,rightCheck:!1,selected:t,checkSvg:e})}function sw({OriginalComponent:e,property:t,onChange:n,...l}){let{stackSize:r,axis:a}=sg(),i=(0,od.aj)(),o=function(e){let t=(0,s.useMemo)(s_,[]),n=(0,s.useMemo)(()=>(function(e){let t=sE();for(let n of e){let e=t;for(let t=0;t<n.length;t++){let l=n[t].toUpperCase();e.next[l]=e.next[l]??sE(),e.numMatches++,e=e.next[l]}e.validWord=n}return t})(Object.keys(t)),[t]);return(0,s.useCallback)(l=>{if(!l.length)return null;let r=new Set,a=function(e,t){let n=e;for(let e=0;e<t.length;e++){let l=t[e].toUpperCase();if(!(n=n.next[l]))return null}return n}(n,l);return a?(!function e(t,n){if(t.validWord&&!n(t.validWord))return!1;for(let l of Object.values(t.next))if(!e(l,n))return!1;return!0}(a,n=>{let l=t[n];return!e.has(l)||(r.add(l),!(r.size>1))}),1===r.size?Q.mKm[Array.from(r)[0]]:null):null},[n,e,t])}(function(){let e=(0,ed.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions);return(0,s.useMemo)(()=>new Set((e??sI).map(e=>e.size)),[e])}()),c=(0,s.useMemo)(()=>null==r||(0,ee.gl)(r)||r===Q.mKm.FIXED?null:Q.mKm[r],[r]),[p,u]=(0,s.useState)(null),{measurementNode:m,bestText:h}=function({property:e,stackSize:t,input:n}){let[l,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(0),o=(0,s.useMemo)(()=>null==t?[]:function(e,t){switch(e){case Q.mKm.HUG_CONTENT:return[(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"),(0,D.t)("fullscreen.properties_panel.stack_panel.al.hug_with_value",{value:t})];case Q.mKm.FILL_CONTAINER:return[(0,D.t)("fullscreen.properties_panel.constraints_resizing_panel.fill"),(0,D.t)("fullscreen.properties_panel.stack_panel.al.fill_with_value",{value:t})]}}(t,e),[e,t]),c=(0,s.useMemo)(()=>o.map(()=>s.createRef()),[o]),d=(0,s.useMemo)(()=>s.createElement(s.Fragment,null,o.map((e,t)=>s.createElement("span",{key:t,ref:c[t],className:"dimension_input--measuredInputText--E0PKL"},e))),[o,c]);return(0,s.useLayoutEffect)(()=>{n&&i(n.getBoundingClientRect().width);let e=new ResizeObserver(e=>{i(e[0].contentRect.width)});if(n)return e.observe(n),()=>e.unobserve(n)},[n]),(0,s.useLayoutEffect)(()=>{if(!c.length){null!==l&&r(null);return}let e=c.map(e=>{var t;return a-((null==(t=e.current)?void 0:t.getBoundingClientRect().width)??0)}).reduce((e,t,n,l)=>t<l[e]&&t>=0?n:e,0);l!==o[e]&&r(o[e])},[l,r,a,o,c]),{measurementNode:d,bestText:l}}({property:t,stackSize:null!=r&&r!==Q.mKm.FIXED&&(0,ee.hS)(r)?r:null,input:p}),g=(0,s.useMemo)(()=>(function(e,t,n){var l;let r={...e};Object.setPrototypeOf(r,od.Zg.prototype);let a=r.format.bind(r);r.format=e=>n||a(e);let i=r.parse.bind(r);r.parse=e=>{let n=t(e);return null!=n?n:i(e)};let o=null==(l=r.clamp)?void 0:l.bind(r);return o&&(r.clamp=e=>e===Q.mKm[Q.mKm.FILL_CONTAINER]||e===Q.mKm[Q.mKm.HUG_CONTENT]?e:o(e)),r.isEqual=(e,t)=>"string"==typeof e||"string"==typeof t?e===t:a(e)===a(t),r})(l.formatter,o,h),[l.formatter,o,h]),{forwardedRef:E}=l;return s.createElement(s.Fragment,null,s.createElement(e,{...l,outerClassName:sy,formatter:g,property:c??t,pillsContainerClassName:"dimension_input--comboBoxPillsContainer--Uv3fj",onChange:e=>{let t="string"==typeof e?sb(e):null;if(t){i(t,a),sN(t,a);return}i(null,a),sN(Q.mKm.FIXED,a),n(e)},forwardedRef:(0,s.useCallback)(e=>{u(e),"function"==typeof E?E(e):E&&(E.current=e)},[u,E])}),s.createElement("div",{className:d()(sy,"dimension_input--hideMeasurementNode--7MP1z")},m))}function sP(){let e=(0,lK.kl)("nodesAreAllStacksOrInStacks"),{minValue:t,maxValue:n}=sg();return(!(0,eA.uy)(t)||!(0,eA.uy)(n))&&e}function sC(e){let{strings:t,value:n,setValue:l,key:r,variableField:a,relativeInputHandler:i,scrubbableInputClass:o}=sg(),c=(0,tT.Rt)(),d=(0,tT.wR)(),p=o5(),u=d&&p,h=iF({key:r,setValue:l}),g=(0,od.f3)(),E=oj();return g?s.createElement(sA,{onSizeConstraintClick:e.onSizeConstraintClick,onEvaluateExpressionError:i,disabled:E,recordingKey:f.Pt(e,`${r}Input`),showResizingTooltips:u}):s.createElement(td.E,{name:`${r}_input`},s.createElement(oQ.e,{condition:!g,wrapper:t=>s.createElement(iP.sA,{recordingKey:f.Pt(e,`${r}InputWrapper`),fields:[a],disabled:e.disabled,resolvedType:Q.rXF.FLOAT,currentFieldValue:(0,ee.hS)(n)?n:void 0,inputClassName:o},t)},s.createElement(rB.$j,{isTokenizable:!0,inputClassName:iq.hF,value:n??0,disabled:e.disabled,...h,onEvaluateExpressionError:i,noBorderOnHover:!0,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":u?t.dim.resizing:t.dim.fixed,"data-tooltip-show-on-target-only":c||void 0,tooltipForScreenReadersOnly:!c,dataTestId:`transform-${r}`,recordingKey:f.Pt(e,`${r}Input`),min:(0,m.kc)().editor_zero_width_input?1e-4:void 0},s.createElement("span",{className:`${iq.QK} svg`},t.dimAbbrev))))}function sk({OriginalComponent:e,...t}){let{stackSize:n,axis:l}=sg(),r=(0,od.aj)(),a=(0,s.useMemo)(()=>(0,ee.hS)(n)&&null!=n?n:null,[n]);return s.createElement(e,{...t,property:null!=a?Q.mKm[a]:t.property,openBelowTarget:!1,onOptionFocus:(e,n)=>{var a;null==(a=t.onOptionFocus)||a.call(t,e,n),r(sb(e),l)},inputClassName:"dimension_input--selectInput--yZiCE"})}let sI=[];function sN(e,t){eO.l7.user("change-stack-layout-size",()=>{Q.Qa7.setStackSizeOnSelection(e,t)})}function sA(e){let{minValue:t,maxValue:n,setValue:l,setMinValue:r,setMaxValue:a,key:i,axis:o,variableField:c,minMaxOptions:p,strings:u,autolayoutMinMaxIcon:m,limitIcon:g,dropdownAlignment:E,stackSize:_}=sg(),y=(0,tT.wR)(),v=sP(),b=function(e){let t=(0,tT.wR)(),n=(0,ed.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions)??sI,{minMaxOptions:l,removeLimitIcons:r,key:a}=sg(),i=(0,lK.kl)("isInstanceSublayerSelected"),o=sP();return(0,s.useMemo)(()=>{let c=[];if(t&&(n.forEach(e=>{let t=sv[a][e.size];c.push(s.createElement(at.c$,{disabled:e.disabled,additionalStylesClassName:iq.wO,key:Q.mKm[e.size],value:Q.mKm[e.size],iconToReplaceCheck:s.createElement(t,null)}))}),c.push(s.createElement(at.sK,{key:"ui3-divider"}))),l.forEach(n=>{let[l,r]=od.XO[n];c.push(s.createElement(at.c$,{additionalStylesClassName:iq.wO,iconToReplaceCheck:s.createElement(og.t,{className:t?sf:iq.vP,svg:l,fallbackSvg:r}),key:n,value:n,disabled:!!i,recordingKey:f.Pt(e,"select",n)}))}),o&&!i){let[n,l]=r;c.push(s.createElement(at.sK,{key:"first-divider"})),c.push(s.createElement(at.c$,{additionalStylesClassName:iq.wO,key:od.zg,value:od.zg,iconToReplaceCheck:s.createElement(og.t,{className:t?sf:iq.vP,svg:n,fallbackSvg:l}),recordingKey:f.Pt(e,"select",od.zg)}))}return c},[o,i,l,e,r,t,n,a])}(e),S=iF({key:i,setValue:l}),T=(0,od.jQ)(i,e.onEvaluateExpressionError),[w,P]=(0,h.fp)(od.Kl),[C,k]=(0,h.fp)(od.Md),I=w[i].min||w[i].max,N=(0,od.wf)(i),A=(0,od.Fp)(),R=(0,tT.Rt)(),O=v?s.createElement("div",{className:iq.QK},s.createElement(eE.U,{svg:g,role:"img"},m)):s.createElement("span",{className:`${iq.QK} svg`},u.dimAbbrev),M=u.dim;null!=t&&null!=n?M=u.dimWithMinMax:null!=t?M=u.dimWithMin:null!=n&&(M=u.dimWithMax);let x=e.showResizingTooltips&&R?M.resizing:M.fixed,L=(0,od.aj)();return s.createElement(oq.ow,{value:{select:y?sk:void 0,inputComponent:y?sw:void 0}},s.createElement(at.tV,{value:{chevron:y?sS:void 0,leftCheckIcon:y?sT:void 0}},s.createElement(td.E,{name:`${i}_input_min_max_combobox`},s.createElement(oJ.S,{id:`${i}Transform`,options:b,outerClassName:d()(iq.Kw,{"dimension_input--ui3ComboBoxContainer--BbSLS":y}),...function(e){let t=(0,tT.wR)(),{value:n,isAuto:l,key:r}=sg(),a=l&&(0,ee.hS)(n)&&!t,i=(0,od.jQ)(r,void 0);return{value:a?void 0:n??0,placeholder:a?i.format(n):void 0}}(),formatter:T,variableField:c,onChange:(t,n)=>{if("number"==typeof t)S.onValueChange(t,n);else if(t===p[0])e.onSizeConstraintClick("min");else if(t===p[1])e.onSizeConstraintClick("max");else if(t===od.zg)r(null,ii.zk.NO),a(null,ii.zk.NO),$.Y5.triggerAction("commit"),P({...w,[i]:{min:!1,max:!1}}),k(null);else if("string"==typeof t){let e=sb(t);null!=e&&sN(e,o)}},dropdownWidth:y||v?173:147,tooltipText:x,showTooltipOnTargetOnly:R,iconId:`${i}-label`,dropdownAlignment:E,label:O,"data-tooltip-max-width":200,disabled:e.disabled,onFocus:()=>A("minmax",{axis:o,renderLabels:!1},od.qi.YES),onBlur:()=>{A("minmax",{axis:o,renderLabels:!1},od.qi.YES_ONLY_MIN_MAX)},onMouseEnterNonPropagating:()=>{y&&L((0,ee.hS)(_)&&null!=_?_:null,o)},onMouseEnter:()=>{A("minmax",{axis:o,renderLabels:!0})},onMouseLeave:()=>{A("minmax",null),y&&L(null,o)},onScrubBegin:y?()=>{L(null,o)}:void 0,onScrubClick:v||I?N:void 0,onKeyUp:S.onKeyUp,mixedMathHandler:S.mixedMathHandler,onMixedMathNudge:S.onMixedMathNudge,source:"panel",noBorderOnFocus:!0,omitValueFromDropdown:!0,openBelowTarget:!0,shiftVariableOptionToAlign:!0,inputTestId:`transform-${i}`,onboardingKey:`transform-${i}`,recordingKey:e.recordingKey}))))}function sR(e){return s.createElement(sm,null,s.createElement(sC,{...e}))}var sO=n(790484);function sM(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("mask",{id:"fpl-icon-24-lock-open-small-a",fill:"#fff"},s.createElement("path",{fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v.5a.5.5 0 0 0 1 0V8a3 3 0 1 0-6 0v3h-.5A1.5 1.5 0 0 0 7 12.5v4A1.5 1.5 0 0 0 8.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-4a1.5 1.5 0 0 0-1.5-1.5H10V8Z",clipRule:"evenodd"})),s.createElement("path",{fill:"var(--color-icon)",d:"M9 11v1h1v-1H9Zm1 0H9v1h1v-1Zm2-6a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V5Zm3 3a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2Zm0 .5V8h-2v.5h2Zm-.5-.5a.5.5 0 0 1 .5.5h-2a1.5 1.5 0 0 0 1.5 1.5V8Zm-.5.5a.5.5 0 0 1 .5-.5v2A1.5 1.5 0 0 0 16 8.5h-2Zm0-.5v.5h2V8h-2Zm-2-2a2 2 0 0 1 2 2h2a4 4 0 0 0-4-4v2Zm-2 2a2 2 0 0 1 2-2V4a4 4 0 0 0-4 4h2Zm0 3V8H8v3h2Zm-1.5 1H9v-2h-.5v2Zm-.5.5a.5.5 0 0 1 .5-.5v-2A2.5 2.5 0 0 0 6 12.5h2Zm0 4v-4H6v4h2Zm.5.5a.5.5 0 0 1-.5-.5H6A2.5 2.5 0 0 0 8.5 19v-2Zm7 0h-7v2h7v-2Zm.5-.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm0-4v4h2v-4h-2Zm-.5-.5a.5.5 0 0 1 .5.5h2a2.5 2.5 0 0 0-2.5-2.5v2ZM10 12h5.5v-2H10v2ZM9 8v3h2V8H9Z",mask:"url(#fpl-icon-24-lock-open-small-a)"}))}var sx=n(277951),sL=n(48453),sK=n(402042),sF=n(505740);function sD(e){let[t,n]=(0,lK.lJ)("proportionsConstrained"),l=(0,tT.Rt)(),r=()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:!(0,ee._W)(t,!1)}),n(!(0,ee._W)(t,!1))},a=(0,D.t)("fullscreen.properties_panel.transform_panel.constrain_proportions");return l?s.createElement(td.E,{name:"dimensions_constrained_toggle"},s.createElement(tV.K,{disabled:e.disabled,onClick:r,actionOnPointerDown:!0,recordingKey:f.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":a,"aria-label":a},t?s.createElement(sO.c,null):s.createElement(sM,null))):s.createElement(td.E,{name:"dimensions_constrained_toggle"},s.createElement(it.m,{disabled:e.disabled,toggled:(0,ee._W)(t,!1),svg:t?sx.A:sL.A,fallbackSvg:t?sF.A:sK.A,className:iq.gb,onMouseDown:r,recordingKey:f.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":a}))}var sH=n(862782),sB=n(618945);function sV(e){let[t,n]=(0,lK.lJ)("stackPositioning"),l=(0,ot.am)();return s.createElement(it.m,{svg:sH.A,fallbackSvg:sB.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.absolute_position"),onMouseDown:()=>{eO.l7.user("set-stack-position",()=>{"ABSOLUTE"===t?(n("AUTO"),l("Remove Absolute Position")):(n("ABSOLUTE",ii.zk.NO),Q.glU.bringSelectionToFrontVisually(),Q.glU.triggerAction("commit",{}),l("Add Absolute Position"))})},recordingKey:f.Pt(e,"absolutePosition"),toggled:"ABSOLUTE"===t,disabled:e.disabled,className:iq.gb,dataTestId:"stack-positioning-toggle"})}function sU(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5a1 1 0 0 0-1 1v2.5a.5.5 0 0 0 1 0V6h2.5a.5.5 0 0 0 0-1H6Zm12 0a1 1 0 0 1 1 1v2.5a.5.5 0 0 1-1 0V6h-2.5a.5.5 0 1 1 0-1H18ZM5 18a1 1 0 0 0 1 1h2.5a.5.5 0 0 0 0-1H6v-2.5a.5.5 0 0 0-1 0V18Zm13 1a1 1 0 0 0 1-1v-2.5a.5.5 0 0 0-1 0V18h-2.5a.5.5 0 1 0 0 1H18ZM12.5 8.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3Z",clipRule:"evenodd"}))}function sz(e){let t=(0,lK.kl)("nodesAreAllInsideStacks"),n=oj(),[l,r]=(0,lK.lJ)("stackPositioning"),a=(0,ot.am)(),i=(0,lK.kl)("isInstanceSublayerSelected");return t&&!n?s.createElement(t_.YW,{disabled:!!i,selected:"ABSOLUTE"===l,"data-tooltip":(0,D.t)("properties.tooltip.ignore_auto_layout"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:f.Pt(e,"absolutePosition"),onClick:()=>{eO.l7.user("set-stack-position",()=>{"ABSOLUTE"===l?(r("AUTO"),a("Remove Absolute Position")):(r("ABSOLUTE",ii.zk.NO),Q.glU.bringSelectionToFrontVisually(),Q.glU.triggerAction("commit",{}),a("Add Absolute Position"))})}},s.createElement(sU,null)):null}function sZ(e){return s.createElement(sh,null,s.createElement(sC,{...e}))}let sG=si("relative-x",(e,t)=>Q.glU.setNodeSelectionOffsetWithAnchor(e,Q._0v.X,t)?ii.zk.YES:ii.zk.NO);function sY(e){let[t,n]=(0,lK.lJ)("x"),l=iF({key:"x",setValue:n}),{version:r}=(0,eh.DP)(),a="ui3"===r;return s.createElement(td.E,{name:"x_input"},s.createElement(rB.gq,{...l,onEvaluateExpressionError:sG,className:iq.BP,inputClassName:iq.hF,value:t,disabled:e.disabled,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":a?(0,D.t)("properties.tooltip.xposition"):(0,D.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!a,recordingKey:f.Pt(e.recordingKey,"xInput")},s.createElement("span",{className:`${iq.QK} svg`},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))))}let sW=si("relative-y",(e,t)=>Q.glU.setNodeSelectionOffsetWithAnchor(e,Q._0v.Y,t)?ii.zk.YES:ii.zk.NO);function sX(e){let[t,n]=(0,lK.lJ)("y"),l=iF({key:"y",setValue:n}),{version:r}=(0,eh.DP)(),a="ui3"===r;return s.createElement(td.E,{name:"y_input"},s.createElement(rB.gq,{...l,onEvaluateExpressionError:sW,className:iq.BP,inputClassName:iq.hF,value:t,disabled:e.disabled,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":a?(0,D.t)("properties.tooltip.yposition"):(0,D.t)("fullscreen.properties_panel.transform_panel.y"),tooltipForScreenReadersOnly:!a,recordingKey:f.Pt(e.recordingKey,"yInput")},s.createElement("span",{className:`${iq.QK} svg`},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))))}function s$(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m14.146 11.854 2 2a.5.5 0 0 0 .708-.708L15.707 12H19.5a.5.5 0 0 0 0-1h-3.793l1.147-1.146a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708Zm-3.292 0-2 2a.5.5 0 0 1-.708-.708L9.293 12H5.5a.5.5 0 0 1 0-1h3.793L8.146 9.854a.5.5 0 1 1 .708-.708l2 2a.5.5 0 0 1 0 .708ZM13 5.5a.5.5 0 0 0-1 0v12a.5.5 0 0 0 1 0v-12Z",clipRule:"evenodd"}))}function sQ(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708l2.5 2.5Z",clipRule:"evenodd"}))}function sj(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0Zm0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0ZM5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1h-12Z",clipRule:"evenodd"}))}function sq(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708l2.5-2.5Z",clipRule:"evenodd"}))}var sJ=n(646240),s0=n(571728);function s5(e){let t=(0,od.Wr)(),n=(0,h.md)(od.Kl),l=(0,h.md)(od.Md),r=(0,od.Fp)(),a=(0,s.useRef)(null),i=!e.visible||!(0,od.tH)(n),o="ui3"===(0,eh.DP)().version;if((0,od.Nu)(!i,()=>r("minmax",null,od.qi.YES),a,e.widthHeightRowRef),i)return null;let c=0,d=0,p=[];function u(e){let t=null!=l&&l.widthOrHeight===e.widthOrHeight&&l.minOrMax===e.minOrMax;return s.createElement(s7,{key:`${e.widthOrHeight}-${e.minOrMax}`,minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`})}function m(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return s.createElement(D.Tx,{id:"properties.label.min_width"});case"maxWidth":return s.createElement(D.Tx,{id:"properties.label.max_width"});case"minHeight":return s.createElement(D.Tx,{id:"properties.label.min_height"});case"maxHeight":return s.createElement(D.Tx,{id:"properties.label.max_height"})}}n.width.min&&(c++,p.push(t.width.min)),n.width.max&&(c++,p.push(t.width.max)),n.height.min&&(d++,p.push(t.height.min)),n.height.max&&(d++,p.push(t.height.max));let g=p.map(u),E=p.map(m);return c+d===1?o?s.createElement(tw.fn,{ref:a,leftLabel:E[0],leftInput:g[0],rightLabel:null,rightInput:null,icon:null}):s.createElement(eF.fI,{forwardedRef:a},g[0]):1===c&&1===d?o?s.createElement(tw.fn,{ref:a,leftLabel:E[0],leftInput:g[0],rightLabel:E[1],rightInput:g[1],icon:null}):s.createElement(eF.fI,{forwardedRef:a},g):c+d===2?o?s.createElement("div",{ref:a},s.createElement(tw.fn,{ref:a,leftLabel:E[0],leftInput:g[0],rightLabel:null,rightInput:null,icon:null}),s.createElement(tw.fn,{ref:a,leftLabel:E[1],leftInput:g[1],rightLabel:null,rightInput:null,icon:null})):s.createElement("div",{ref:a},s.createElement(eF.fI,null,g[0]),s.createElement(eF.fI,null,g[1])):o?s.createElement("div",{ref:a},s.createElement(tw.fn,{leftLabel:m(t.width.min),leftInput:u(t.width.min),rightLabel:m(t.height.min),rightInput:u(t.height.min),icon:null}),s.createElement(tw.fn,{leftLabel:m(t.width.max),leftInput:u(t.width.max),rightLabel:m(t.height.max),rightInput:u(t.height.max),icon:null})):s.createElement("div",{ref:a},s.createElement(eF.fI,null,u(t.width.min),u(t.height.min)),s.createElement(eF.fI,null,u(t.width.max),u(t.height.max)))}function s1(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function s7(e){let{minMaxApi:t,shouldFocus:n}=e,l=(0,lK.kl)("isInstanceSublayerSelected"),r=(0,lK.kl)(t.widthOrHeight),a=(0,lK.kl)(t.minOrMaxWidthOrHeight),i=(0,od.Fp)(),o=(0,s.useRef)(0),c=(0,s.useRef)(new Map),d=(0,sJ.Xr)(od.Md),[p,u]=(0,h.fp)(od.Kl),m=(0,tT.Rt)(),g=[];r!==t.value&&g.push(od.vC),g.push(od.Bn);let E=g.map(t=>{let n=(0,ee.gl)(r);return s.createElement(at.c$,{recordingKey:f.Pt(e.recordingKey,"select",t),key:t,value:t,disabled:!!l||t===od.vC&&n})}),[_,y]=(0,od.Xb)(t),v=s.useRef(null),b=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(t);var S=void 0;switch(t.widthOrHeight){case"width":S="min"===t.minOrMax?s.createElement(s$,null):s.createElement(sQ,null);break;case"height":S="min"===t.minOrMax?s.createElement(sj,null):s.createElement(sq,null)}let T="width"===t.widthOrHeight?Q._0v.X:Q._0v.Y;s.useEffect(()=>{var e,t;n&&(null==(e=v.current)||e.focus(),null==(t=v.current)||t.select())},[n]);let w=(0,od.VY)(t),{clearVariableConsumption:P}=(0,oJ.O)(b,Q.rXF.FLOAT);class C extends iM.M{getValueForNode(e){return Q.Egt.getNodeTransformProperties(e.guid)[t.minOrMaxWidthOrHeight]}setValueForNode(e,n,l){let r={[t.minOrMaxWidthOrHeight]:n};if(l&&c.current.has(e.guid)){let l=c.current.get(e.guid);r[t.widthOrHeight]=l;let a=(0,od.jz)(e,l,n,t.widthOrHeight);a!==l&&(r[t.widthOrHeight]=a),r.sizeChangeIsAutomatic=!0}Q.Egt.setNodeTransformProperties(e.guid,r)}}return s.createElement(oJ.S,{id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,options:E,inputRef:v,outerClassName:"width"===t.widthOrHeight?iq.Kw:iq.X8,value:t.value,formatter:w,mixedMathHandler:new C,variableField:b,onScrubBegin:()=>{(0,ee.gl)(a)?(0,s0.fv)().forEach(e=>{c.current.set(e.guid,e.size[T===Q._0v.X?"x":"y"])}):"number"==typeof r?o.current=r:o.current=0},onScrubEnd:()=>{c.current.clear(),o.current=0},onChange:(e,n=ii.zk.YES)=>{if(P(ii.zk.NO),e===od.vC)"number"==typeof r&&t.set(r||null,ii.zk.NO);else if(e===od.Bn){t.set(null,ii.zk.NO);let e={[t.widthOrHeight]:{...p[t.widthOrHeight],[t.minOrMax]:!1}};u({...p,...e}),d(null)}else("number"==typeof e||null==e)&&t.set(e,ii.zk.NO,o.current);n===ii.zk.YES&&$.Y5.triggerAction("commit")},dropdownWidth:162,dropdownAlignment:"width"===t.widthOrHeight?"left":"right",noBorderOnFocus:!0,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,icon:_,ui3Icon:S,fallbackIcon:y,tooltipText:s1(t),showTooltipOnTargetOnly:m,"data-tooltip-max-width":200,onFocus:()=>i("minmax",{axis:T,renderLabels:!0},od.qi.YES),onBlur:()=>{i("minmax",{axis:T,renderLabels:!0},od.qi.YES_ONLY_MIN_MAX),d(null)},onMouseEnter:()=>i("minmax",{axis:T,renderLabels:!0}),onMouseLeave:()=>i("minmax",null),inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,source:"panel",allowEmpty:!0,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,D.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(t),omitValueFromDropdown:!0,shouldFocus:n,"aria-label":s1(t),recordingKey:e.recordingKey,openBelowTarget:!0,shiftVariableOptionToAlign:!0})}function s2(e){let t=(0,lL.Zr)("align-left"),n=(0,lL.Zr)("align-horizontal-center"),l=(0,lL.Zr)("align-right"),r=(0,lL.Zr)("align-top"),a=(0,lL.Zr)("align-vertical-center"),i=(0,lL.Zr)("align-bottom"),o=s4(),[c,d]=(0,s.useState)(!1),p=(0,lL.vm)(rC),u=c&&e.isHoveringOverPanel&&p,m=(0,s.useCallback)(e=>{d(e.altKey||e.shiftKey)},[]),h=!(0,lL.yU)(rC),g=!(0,lL.yU)(rk),E=h&&g&&!t&&!n&&!l&&!r&&!a&&!i;if((0,s.useEffect)(()=>{function e(){d(!1)}return document.addEventListener("keydown",m),document.addEventListener("keyup",m),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",m),window.removeEventListener("blur",e)}},[m]),E)return s.createElement(s.Fragment,null);let _=s.createElement(ij,{controls:u?[o("align-left-as-group",s.createElement(lW,null),!0),o("align-horizontal-center-as-group",s.createElement(lX,null),!0),o("align-right-as-group",s.createElement(l$,null),!0)]:[o("align-left",s.createElement(lV,null),t),o("align-horizontal-center",s.createElement(lU,null),n),o("align-right",s.createElement(lz,null),l)]}),f=s.createElement(ij,{controls:u?[o("align-top-as-group",s.createElement(lZ,null),!0),o("align-vertical-center-as-group",s.createElement(lG,null),!0),o("align-bottom-as-group",s.createElement(lY,null),!0)]:[o("align-top",s.createElement(lD,null),r),o("align-vertical-center",s.createElement(lH,null),a),o("align-bottom",s.createElement(lB,null),i)]});return s.createElement(tw.fn,{leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_position.label_alignment"}),leftInput:_,rightLabel:null,rightInput:f,icon:s.createElement(rA,{actions:rk})})}let s4=()=>{let e=(0,lF.X)();return s.useCallback((t,n,l)=>({"aria-label":t,"data-tooltip":t,"data-tooltip-type":ey.Ib.LOOKUP,children:n,disabled:!l,onMouseDown:t=>{(null==e?void 0:e.id.startsWith("paint"))&&t.stopPropagation()},onClick:()=>{$.Y5.triggerActionInUserEditScope(t)}}),[e])};var s3=n(91990),s6=n(324799),s8=n(695150),s9=n(708273),ce=n(287126),ct=n(332536);let cn=s.memo(function(e){let t=iU(),n=iz(),l=(0,tT.Rt)(tT.G1.READY),r=(0,lK.kl)("stackMode"),a=null!=r&&"NONE"!==(0,ee.E7)(r),i=(0,lK.kl)("nodesAreAllInsideStacks"),o=(0,ix.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels),c=l&&!o[Q.ibQ.TRANSFORM_ITEM],d=t.framePresetsItem&&n.transform,p=a||i,u=(0,s.useRef)(null),m=(0,ed.d4)(eM.qd),h=(0,tT.wR)(),[g,E]=rK(),_=s.createElement(s.Fragment,null,!l&&d&&e.propertiesPanelState===nf.GR.DEFAULT_EXPANDED&&s.createElement(cr,{recordingKey:e.recordingKey}),s.createElement(ci,{transformDisabled:!n.transform,recordingKey:e.recordingKey,showFrameFitButton:!d&&!t.sectionItem,pickerShown:e.pickerShown,canEditConstraints:e.canEditConstraints,openFileKey:e.openFileKey}),!l&&s.createElement(s.Fragment,null,s.createElement(co,{recordingKey:e.recordingKey,forwardedRef:u}),s.createElement(s5,{visible:!!p,widthHeightRowRef:u})),p&&!h&&s.createElement(oR,{recordingKey:f.Pt(e.recordingKey,"autolayoutSizing")}),(t.angle||t.cornerRadius)&&s.createElement(i8,{key:m.join("-"),cornerRadiusShown:t.cornerRadius,cornerRadiusDisabled:!n.cornerRadius,rectangleCornersShown:t.rectangleCornerRadii,rectangleCornersDisabled:!n.rectangleCornerRadii,angleShown:t.angle,angleDisabled:!n.angle,recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&!l&&s.createElement(cs,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&!l&&s.createElement(cc,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),t.fixedFrameOptions&&!l&&s.createElement(oU,{recordingKey:e.recordingKey}),s.createElement(oY,{recordingKey:e.recordingKey}));return s.createElement(S.p,{name:"transform_panel"},s.createElement(eF.Zk,{"data-onboarding-key":on.W,"data-non-interactive":!0,...E},l&&s.createElement(tB.iE,{titleTx:s.createElement(D.Tx,{id:"fullscreen.appearance_panel.position"}),icon:s.createElement(sz,{recordingKey:e.recordingKey})}),l&&s.createElement(s2,{isHoveringOverPanel:g}),!c&&_))});function cl(e){let t=(0,lK.kl)("width"),n=(0,lK.kl)("height"),l=(0,lK.kl)("isInstanceSelected"),r=(0,lK.kl)("isInstanceSublayerSelected"),a=(0,lK.kl)("resizeToFit"),i=(0,lK.kl)("canBecomeFrame"),o=(0,lK.kl)("canBecomeGroup"),c=(0,lK.kl)("canBecomeSection"),d=(0,lK.kl)("isSection"),p=(0,lK.kl)("isWidgetSelected"),u=(0,lK.kl)("stackMode"),m=(0,ed.d4)(e=>e.dropdownShown),h=(0,ed.wA)();return s.createElement(aZ,{leftIcon:e.leftIcon,selectClassName:e.selectClassName,inputClassName:e.inputClassName,width:t,height:n,resizeToFit:a,stackMode:u,dispatch:h,dropdownShown:m,canBecomeFrame:!!i,canBecomeGroup:!!o,canBecomeSection:!!c,isSection:!!d,isOrInInstance:!!(l||r),isWidget:!!p,id:e.id,recordingKey:e.recordingKey})}let cr=s.memo(function(e){let t=iU(),n=(0,lK.kl)("width"),l=(0,lK.kl)("height"),r=(0,lK.kl)("resizeToFit"),a=(0,lK.kl)("stackMode"),i=(0,lK.kl)("stackCounterSizing"),o=(0,ed.d4)(e=>(0,eo.Yh)(e.mirror.appModel,"resize-to-fit")),c=null!=a&&"NONE"!==a,d=c&&(0,ee.hS)(i)&&"RESIZE_TO_FIT"===i,{version:p}=(0,eh.DP)(),u=o?iq.xP:iq.iq,m=s.createElement(cl,{id:"frame-preset-dropdown",selectClassName:u,inputClassName:iq.KG,recordingKey:f.Pt(e,"framePresetDropdown")}),h=s.createElement(aG,{className:iq.gb,recordingKey:f.Pt(e,"frameFitButton")});return"ui3"===p?s.createElement(tw.fn,{leftLabel:null,leftInput:m,rightLabel:null,rightInput:null,icon:t.sectionItem&&(!o||d)?null:h}):s.createElement(eF.fI,null,m,o&&!c&&s.createElement(oc,{width:n,height:l,resizeToFit:r,recordingKey:f.Pt(e,"frameOrientation")}),o&&!d&&s.createElement(s.Fragment,null,h))});function ca(){let e=o5(),t=(0,tT.wR)();return e&&t?s.createElement(D.Tx,{id:"properties.label.resizing"}):s.createElement(D.Tx,{id:"properties.label.dimensions"})}function ci(e){let t="xy-inputs-row",n=(0,lK.kl)("nodesAreAllInsideStacks"),l=(0,lK.kl)("stackPositioning"),r=(0,lK.kl)("isInstanceSublayerSelected"),{version:a}=(0,eh.DP)(),i=(0,ed.wA)(),o=s.useRef(null),c=!!n&&"AUTO"===l||e.transformDisabled,d=!!n,p=(0,lL.Zr)("resize-to-fit"),u=e.showFrameFitButton&&p&&!d;if("ui2"===a)return s.createElement(eF.fI,{dataTestId:"x-y-inputs-row"},s.createElement(sY,{disabled:c,recordingKey:e.recordingKey}),s.createElement(sX,{disabled:c,recordingKey:e.recordingKey}),u&&s.createElement(aG,{className:iq.gb}),d&&s.createElement(sV,{disabled:!!r,recordingKey:e.recordingKey}));let m=()=>e.pickerShown&&e.pickerShown.id===t?e.pickerShown:null,h=m();return s.createElement(s.Fragment,null,s.createElement(tw.fn,{ref:o,"data-testid":"x-y-inputs-row",leftLabel:s.createElement(D.Tx,{id:"properties.label.position"}),leftInput:s.createElement(sY,{disabled:c,recordingKey:e.recordingKey}),rightLabel:null,rightInput:s.createElement(sX,{disabled:c,recordingKey:e.recordingKey}),icon:e.canEditConstraints?s.createElement(eF.YW,{onClick:e=>{if(e.stopPropagation(),m())i(H.XE());else{let e=(0,ev.cn)(ec.findDOMNode(o.current));i(H.u1({id:t,initialX:e.x,initialY:e.y}))}},onMouseDown:e=>e.stopPropagation(),selected:!!h,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.constraints_panel.constraints")},s.createElement(oO,null)):null}),h&&s.createElement(ol,{pickerShown:h,openFileKey:e.openFileKey}))}function co(e){let t=(0,lK.kl)("stackMode"),[n,l]=(0,h.fp)(od.Kl),[r,a]=(0,h.fp)(od.Md),i=null!=t&&"NONE"!==t,o=iB(),c=(0,od.Fp)(),d=(0,ot.am)(),p=(0,od.hl)(),u=iz().size,{widthIsAuto:m,heightIsAuto:g}=iH(),{version:E}=(0,eh.DP)();(0,nU.f4)(()=>{l(od.p3),a(null),c("minmax",null,od.qi.YES)});let _=e=>{d("Expanded min max property",e);let t={...n,[e.widthOrHeight]:{...n[e.widthOrHeight],[e.minOrMax]:!0}},r="min"===e.minOrMax?"max":"min",i=p[e.widthOrHeight][e.minOrMax],o=p[e.widthOrHeight][r];!i&&o&&(t[e.widthOrHeight][r]=!0),l(t),a(e)};return"ui2"===E?s.createElement(eF.fI,{forwardedRef:e.forwardedRef,dataTestId:"width-height-row"},s.createElement(sZ,{disabled:m||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),s.createElement(sR,{disabled:g||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),!i&&!o&&s.createElement(sD,{disabled:!u,recordingKey:e.recordingKey})):s.createElement(tw.fn,{"data-testid":"x-y-inputs-row",leftLabel:s.createElement(ca,null),leftInput:s.createElement(sZ,{disabled:m||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),rightLabel:null,rightInput:s.createElement(sR,{disabled:g||!u,onSizeConstraintClick:e=>{_({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),icon:i||o?null:s.createElement(sD,{disabled:!u,recordingKey:e.recordingKey})})}function cs(e){let{version:t}=(0,eh.DP)(),[n,l]=(0,lK.lJ)("count"),[r,a]=(0,lK.lJ)("starInnerScale"),{smallNudgeAmount:i,bigNudgeAmount:o,wheelMultiplier:c,scrubMultiplier:d}=iD(),p=(0,ed.wA)(),u=e.countShown&&s.createElement(rB.Ht,{className:iq.BP,inputClassName:iq.hF,value:n,disabled:e.countDisabled,smallNudgeAmount:i,wheelMultiplier:c,onValueChange:l,dispatch:p,recordingKey:f.Pt(e,"countInput"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.count"),bigNudgeAmount:10,scrubMultiplier:.1*i,resolution:.01,min:3,max:60},e.starInnerScaleShown&&s.createElement(x.B,{className:iq.QK,svg:ce.A}),!e.starInnerScaleShown&&s.createElement(x.B,{className:iq.QK,svg:s6.A})),m=e.starInnerScaleShown&&s.createElement(rB.w2,{className:iq.sC,inputClassName:iq.hF,value:r,disabled:e.starInnerScaleDisabled,smallNudgeAmount:i,bigNudgeAmount:o,wheelMultiplier:c,scrubMultiplier:d,onValueChange:a,dispatch:p,recordingKey:f.Pt(e,"starInnerScaleInput"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,min:.001},s.createElement(x.B,{className:iq.QK,svg:ct.A}));return"ui3"===t&&m?s.createElement(tw.fn,{leftLabel:s.createElement(D.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:s.createElement(D.Tx,{id:"properties.label.angle"}),rightInput:m,icon:null}):"ui3"===t?s.createElement(tw.fn,{leftLabel:s.createElement(D.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:null,rightInput:null,icon:null}):s.createElement(eF.fI,{dataTestId:"count-scale-inputs-row"},u,m)}let cc=s.memo(function(e){let[t,n]=(0,lK.lJ)("arcStart"),[l,r]=(0,lK.lJ)("arcSweep"),[a,i]=(0,lK.lJ)("arcRadius"),{smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p}=iD(),u=(0,ed.wA)(),{version:m}=(0,eh.DP)();return"ui3"!==m?s.createElement(eF.fI,null,s.createElement("div",{className:iq.Cs},s.createElement(x.B,{className:iq.QK,svg:s3.A}),s.createElement(rB.Zp,{className:iq.fm,inputClassName:iq.PK,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:n,dispatch:u,recordingKey:f.Pt(e,"arcStart"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!0}),s.createElement(rB.w2,{className:iq.t5,inputClassName:iq.PK,value:l,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:r,dispatch:u,recordingKey:f.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!0}),s.createElement(rB.w2,{className:iq.eC,inputClassName:iq.PK,value:a,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:i,dispatch:u,recordingKey:f.Pt(e,"arcRatio"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!0}))):s.createElement(tw.DE,{label:s.createElement(D.Tx,{id:"properties.label.arc"}),icon:null,input:s.createElement("div",{className:iq.Xq},s.createElement(rB.Zp,{className:iq.fm,inputClassName:iq.hF,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:n,dispatch:u,recordingKey:f.Pt(e,"arcStart"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!1},s.createElement(x.B,{className:iq.QK,svg:s3.A})),s.createElement(rB.w2,{className:iq.t5,inputClassName:iq.PK,value:l,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:r,dispatch:u,recordingKey:f.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!1}),s.createElement(rB.w2,{className:iq.eC,inputClassName:iq.PK,value:a,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:d,scrubMultiplier:p,onValueChange:i,dispatch:u,recordingKey:f.Pt(e,"arcRatio"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!1}))})});function cd(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,j.sT)();return s.createElement(cp,{...e,bigNudgeAmount:t,smallNudgeAmount:n})}function cp(e){let{smallNudgeAmount:t,bigNudgeAmount:n}=e,l={wheelMultiplier:t,scrubMultiplier:t,smallNudgeAmount:t,bigNudgeAmount:n},r=s.createElement(rB.gq,{className:iq.BP,inputClassName:iq.hF,value:e.x,...l,onValueChange:(e,t)=>{$.Y5.updateSelectionProperties({x:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:f.Pt(e,"xInput"),mixedMathCallback:eO.nc.user("apply-mixed-method-for-vector-network",e=>{Q.Egt.applyMixedMathForSelectedVectorNetwork(Q._0v.X,e)})},s.createElement("span",{className:iq.QK},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))),a=s.createElement(rB.gq,{className:iq.sC,inputClassName:iq.hF,value:e.y,...l,onValueChange:(e,t)=>{$.Y5.updateSelectionProperties({y:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:f.Pt(e,"yInput"),mixedMathCallback:eO.nc.user("apply-mixed-method-for-vector-network",e=>{Q.Egt.applyMixedMathForSelectedVectorNetwork(Q._0v.Y,e)})},s.createElement("span",{className:iq.QK},s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))),i=s.createElement(ch,{handleMirroring:e.handleMirroring,dispatch:e.dispatch,dropdownShown:e.dropdownShown,recordingKey:f.Pt(e,"mirroring"),isUI3:e.isUI3}),o=s.createElement(rB.$j,{className:iq.BP,inputClassName:iq.hF,value:e.cornerRadius,...l,onValueChange:(e,t)=>{$.Y5.updateSelectionProperties({cornerRadius:e},{shouldCommit:t})},dispatch:e.dispatch,recordingKey:f.Pt(e,"cornerRadiusInput"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.corner_radius")},s.createElement(x.B,{className:iq.QK,svg:iJ.A}));return s.createElement(S.p,{name:"vector_transform_panel"},s.createElement(eF.Zk,null,s.createElement(eF.fI,null,s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.vector"}))),e.isUI3?s.createElement(s.Fragment,null,s.createElement(tw.fn,{leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_vector.label_position"}),leftInput:r,rightLabel:null,rightInput:a,icon:null}),s.createElement(tw.DE,{label:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_vector.label_mirroring"}),input:i,icon:null}),s.createElement(tw.fn,{leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_vector.label_radius"}),leftInput:o,rightLabel:null,rightInput:null,icon:null})):s.createElement(s.Fragment,null,s.createElement(eF.fI,null,r,a),s.createElement(eF.fI,null,i),s.createElement(eF.fI,null,o))))}class cu extends at.l6{}class cm extends at.c${}class ch extends s.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return(0,D.t)("fullscreen.properties_panel.transform_panel.no_mirroring");case"ANGLE":return(0,D.t)("fullscreen.properties_panel.transform_panel.mirror_angle");case"ANGLE_AND_LENGTH":return(0,D.t)("fullscreen.properties_panel.transform_panel.mirror_angle_and_length")}}},this.onChange=e=>$.Y5.updateSelectionProperties({handleMirroring:e})}render(){return s.createElement(cu,{id:"handle-mirroring-select",className:iq.GC,inputClassName:iq.i6,chevronClassName:iq.r,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,svg:this.props.isUI3?void 0:s8.A,fallbackSvg:this.props.isUI3?void 0:s9.A,svgClassName:iq.jC},s.createElement(cm,{value:"NONE",recordingKey:f.Pt(this.props,"NONE")}),s.createElement(cm,{value:"ANGLE",recordingKey:f.Pt(this.props,"ANGLE")}),s.createElement(cm,{value:"ANGLE_AND_LENGTH",recordingKey:f.Pt(this.props,"ANGLE_AND_LENGTH")}))}}ch.displayName="HandleMirroring";var cg=n(473199),cE=n(826785),c_=n(986175),cf=n(397863),cy=n(314809);let cv={displayText:"",disabled:!0,separator:!0};var cb=n(233392),cS=n(98140),cT=n(700888);let cw=new cy.SU;class cP extends at.c${}class cC extends at.l6{}class ck extends s.PureComponent{render(){let e=this.props.includePassThrough?cT.j4:cT.r5;return s.createElement(cC,{id:cI(this.props.id),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:cw,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",svg:this.props.isUI3?void 0:(0,cT.HC)((0,ee.E7)(this.props.property)),enablePreview:!0},e.map((e,t)=>"SELECT_DIVIDER"===e?s.createElement(at.sK,{key:t}):s.createElement(cP,{key:t,value:e,recordingKey:f.Pt(this.props,e)})))}}function cI(e){return`blend-mode-select-${e}`}ck.displayName="BlendMode";var cN=n(435091);let cA="layer-blend-mode";function cR(){return[(0,lK.kl)("blendMode"),s.useCallback((e,t=ii.zk.YES)=>{eR.wt.shouldReportForShouldCommit(t)&&oz.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),$.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[])]}function cO(e){let t=(0,ll.B)(cq).showing,n=(0,ed.wA)(),[l,r]=cR(),[a,i]=s.useState(l);s.useEffect(()=>{t||i(l)},[l,t,i]);let o=(0,tc.R)(e=>e.dropdownShown);return(null==o?void 0:o.type)!==cI(cA)&&"PASS_THROUGH"===a?null:s.createElement(tB.XD,{labelTx:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_appearance.label_blendMode"}),input:s.createElement(ck,{id:cA,className:cN.jK,inputClassName:cN.Df,chevronClassName:cN.ai,property:a,dispatch:n,dropdownShown:o,onChange:r,willShowDropdown:()=>((0,p.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:f.Pt(e,"blendMode"),isUI3:!0}),icon:s.createElement(tV.K,{"data-tooltip":(0,D.t)("general.remove"),"data-tooltip-type":ey.Ib.TEXT,"aria-label":(0,D.t)("general.remove"),onClick:()=>r("PASS_THROUGH"),actionOnPointerDown:!0},s.createElement(tz.f,null))})}function cM(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.035 8.07A.931.931 0 0 1 3.01 8a.931.931 0 0 1 .026-.07c.044-.102.12-.242.235-.412a5.635 5.635 0 0 1 1.053-1.121C5.257 5.627 6.54 5 8 5s2.743.628 3.677 1.397c.465.383.821.783 1.053 1.121.116.17.191.31.235.413L12.99 8a.957.957 0 0 1-.026.07c-.044.102-.12.242-.235.412a5.637 5.637 0 0 1-1.053 1.121C10.743 10.373 9.46 11 8 11s-2.743-.628-3.677-1.397A5.635 5.635 0 0 1 3.27 8.482a2.449 2.449 0 0 1-.235-.413ZM2 8c0-1 2.5-4 6-4s6 3 6 4-2.5 4-6 4-6-3-6-4Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}var cx=n(416580),cL=n(162122),cK=n(567135),cF=n(134784),cD=n(121102),cH=n(112255),cB=n(73550);let cV=(0,a6.Tn)();function cU(e){let t=s.useCallback(e=>{$.Y5.updateSelectionProperties({visible:e})},[]),n=s.useMemo(a6.On,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:r}=(0,tc.R)(e=>({isDefReferencedBySelection:!!n(e,a4.R.VISIBLE),visibilityIsBoundToComponentProp:cV(e,(0,eM.qd)(e),a4.R.VISIBLE)})),a=(0,lN.SG)(["VISIBLE"]).data??[],[i]=(0,lK.lJ)("visible"),{consumedVariable:o}=(0,rV.u3)(["VISIBLE"]),c=s.useRef(null),[d,p]=cX(),u=c$(),m=(0,lN.u)(u),h=!!o&&!!m,g=h||r||l,E=!h&&!r&&a.length>0,_=i?(0,D.t)("fullscreen.properties_panel.tooltip_hide"):(0,D.t)("fullscreen.properties_panel.tooltip_show"),y=s.createElement("span",{className:cN.RK},s.createElement(r2.B,{disabled:g,visible:i,onChange:t,recordingKey:f.Pt(e,"visibleToggle")})),v=(0,tT.Rt)();return s.createElement("div",{className:cN.RK},s.createElement(iP.JQ,{ref:c,currentFieldValue:!!(0,ee.gl)(i)||i,isActive:d,disabled:!E,recordingKey:f.Pt(e,"visibilityVariableControl"),onPickerOpen:()=>p(c.current),dataTestId:"visibility-variable-control"},v?s.createElement(t_.YW,{selected:!g&&!i,disabled:g,recordingKey:f.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control","data-tooltip":_,"data-tooltip-type":ey.Ib.TEXT},y):y))}var cz=n(490393),cZ=n(424148),cG=n(144919);function cY(e){let{blendMode:t,opacity:n,visible:l}=e,r="ui3"===(0,eh.DP)().version,a=s.useRef(null),i=s.useMemo(a6.On,[]),o=s.useMemo(a6.Tn,[]),{dropdownShown:c,isDefReferencedBySelection:u,selectedGUIDs:h,visibilityIsBoundToComponentProp:g}=(0,tc.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!i(e,a4.R.VISIBLE),selectedGUIDs:(0,eM.qd)(e),visibilityIsBoundToComponentProp:o(e,(0,eM.qd)(e),a4.R.VISIBLE)})),E=(0,ee.gl)(l),_=(0,ed.wA)(),y=s.useCallback((e,t=ii.zk.YES)=>{eR.wt.shouldReportForShouldCommit(t)&&oz.FZ.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),$.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),v=s.useCallback((e,t)=>{$.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!u&&$.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[u]),b=s.useRef(null),[,T]=cX(),{clearVariableConsumption:w}=(0,rV.u3)(["VISIBLE"]),{variableConsumptionMap:P}=(0,rV.R1)(),C=c$(),k=(0,lN.u)(C),I=null==k?void 0:k.name,N=cW();return s.createElement(S.p,{name:"layer_panel"},s.createElement(eF.Zk,null,s.createElement(eF.fI,{className:tN.LO},s.createElement(cD.Tu,{isPanelBodyCollapsedAtom:null},s.createElement(eF.xw,{isPanelBodyCollapsedAtom:null},s.createElement(D.Tx,{id:"fullscreen.layer_panel.layer"})),s.createElement(rQ,{recordingKey:"frameLevel"}),!N&&s.createElement(cb.yQ,{nodeField:a4.R.VISIBLE,defaultValue:l,guids:h}),s.createElement(rZ,{showLibrarySets:!1,recordingKey:"frameLevel"}))),s.createElement(cD.JH,{isPanelBodyCollapsedAtom:null},s.createElement(eF.fI,null,s.createElement(ck,{id:"layer-blend-mode",className:cN.jK,inputClassName:cN.Df,chevronClassName:cN.ai,property:t,dispatch:_,dropdownShown:c,onChange:y,willShowDropdown:()=>((0,p.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:f.Pt(e,"blendMode"),isUI3:r}),s.createElement(oQ.e,{condition:!0,wrapper:t=>s.createElement(iP.sA,{recordingKey:f.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:Q.rXF.FLOAT,currentFieldValue:(0,ee.hS)(n)?n:void 0,inputClassName:d()({[cN.ke]:!0,[cN.TQ]:!0}),hideIcon:!0,inputRef:a,hasBindingContextMenu:!0},t)},s.createElement(rB.Pd,{isTokenizable:!0,value:n,onValueChange:v,mixedMathHandler:cj,dispatch:_,recordingKey:f.Pt(e,"opacity"),forwardedRef:a,noBorderOnHover:!0})),s.createElement(cU,{recordingKey:e.recordingKey})),E&&!u&&s.createElement(eF.fI,{dataTestId:"mixed-visibility-label"},s.createElement(eF.UZ,{className:cz.Pf},s.createElement(D.Tx,{id:"fullscreen.layer_panel.replace_mixed_visibility",svg:s.createElement("div",{className:cN.dY},s.createElement(eE.U,{svg:cG.A},s.createElement(cM,null)))}))),s.createElement("div",{className:cN.I0},s.createElement(a3.L,{nodeField:a4.R.VISIBLE,currentValue:e.visible})),(0,m.kc)().prototype_expressions_nodefields?P.VISIBLE&&s.createElement(cL.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},s.createElement(cH.y3,{targetVariableData:P.VISIBLE.isMixed?void 0:P.VISIBLE,onClick:()=>{T(b.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:P.VISIBLE.isMixed}),s.createElement(tV.K,{onClick:()=>w(),"aria-label":(0,D.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,D.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(eE.U,{svg:cZ.A},s.createElement(cx.U,null)))):N&&!g&&s.createElement(cL.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},s.createElement(cF.P,{value:I||(0,D.t)("fullscreen.mixed"),isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!k&&(0,iI.eF)(k)}),s.createElement(tV.K,{onClick:()=>w(),"aria-label":(0,D.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,D.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(eE.U,{svg:cZ.A},s.createElement(cx.U,null)))),s.createElement(r7.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}function cW(){let{consumedVariable:e}=(0,rV.u3)(["VISIBLE"]),t=c$(),n=(0,lN.u)(t);return!!e&&!!n}let cX=()=>(0,iC.JV)(["VISIBLE"],Q.rXF.BOOLEAN,void 0,(0,m.kc)().prototype_bind_visiblity_to_strs?{requestedTypes:[Q.rXF.BOOLEAN,Q.rXF.FLOAT,Q.rXF.STRING],variableFilters:{[cK.t.MUST_INCLUDE_ONE_OF]:{[Q.rXF.STRING]:cB.O4}},mapVariableIdToTypedValue:iC.eT}:void 0);function c$(){let e;let{consumedVariable:t}=(0,rV.u3)(["VISIBLE"]);if(t){if((0,ee.hS)(t)&&t.type===Q.Z_n.ALIAS)e=t.value;else if((0,ee.hS)(t)&&t.type===Q.Z_n.EXPRESSION){for(let n of(0,iI.Pr)(t))if(n.type===Q.Z_n.ALIAS){e=n.value;break}}}return e}class cQ extends iM.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){eO.l7.user("set-opacity",()=>{eR.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let cj=new cQ,cq="add_appearance_property_dropodwn",cJ=new cy.SU;function c0(){var e;let t=(0,rV.A1)(!1),n=(0,ll.B)(cq),l=(0,ed.wA)(),r=(0,rV.A1)(!1),a=(0,s.useRef)(null),i=(0,rU.O9)(!1,void 0),o=(0,tc.R)(eM.qd),c=cW(),d=(0,lK.kl)("visible"),[p,u]=cR(),[m,h]=(0,s.useState)(p),[g,E]=(0,s.useState)(!1),_=(0,cb.Yc)(a4.R.VISIBLE,o),f=(0,cb.db)(a4.R.VISIBLE,a,d,!0),y=e=>{let t=of.qo.instance.getCurrentPage();if(((null==t?void 0:t.directlySelectedNodes.length)??0)>at.CH){b();return}if(!g&&p===e)return;let n=g?ii.zk.NO:ii.zk.YES_WITHOUT_TRACKING_AS_EDIT;E(!0),u(e,n)},v=e=>{h(e),E(!1),e!==p&&u(e)},b=()=>{g&&$.Y5.triggerActionInUserEditScope("undo"),E(!1)},S=t&&r?{displayText:(0,D.t)("properties.dropdown.apply_variable_mode"),icon:s.createElement(cg.D,null),children:i}:null,T=!c&&!_,w=T?{displayText:(0,D.t)("properties.dropdown.create_property"),icon:s.createElement(cE.m,null),callback:f,recordingKey:"add_boolean_prop"}:null,P=s.useMemo(a6.p1,[]),{containingComponentDefs:C}=(0,tc.R)(e=>{let t=(0,ex.Lg)(e);return{containingComponentDefs:P(e,t,a4.R.VISIBLE)}}),k=cT.j4.map(e=>"SELECT_DIVIDER"===e?cv:{displayText:cJ.format(e),isChecked:m===e,onMouseEnter:()=>y(e),callback:()=>v(e)}),I={displayText:(0,D.t)("properties.dropdown.apply_blend_mode"),icon:s.createElement(c_.N,null),children:k,onMouseLeaveSubMenu:b,onDismissSubMenu:b},N=T?C.map(e=>({icon:s.createElement("div",{className:e7.cx.w24.$}),displayText:e.name,callback:()=>{eO.l7.user("add-prop-ref",()=>Q.glU.addComponentPropRef(a4.R.VISIBLE,e.explicitDefID))}})):[],A=[S,I,w,N.length>0?cv:null,...N].filter(eA.Vq),R=!1;return 1===A.length&&A[0]===I&&(R=!0,A=k),s.createElement("div",{ref:a},s.createElement(t_.YW,{disabled:0===A.length,selected:n.showing,"aria-label":(0,D.t)("fullscreen.properties_panel.align_panel.more_options"),onClick:()=>{l(e_.j7({type:cq}))},"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.align_panel.more_options"),recordingKey:"add_appearance_property_button"},s.createElement(cf.x,null)),n.showing&&s.createElement(cS.j,{onDismissMenu:R?b:void 0,onMouseLeaveMenu:R?b:void 0,rootAndSubmenuMinWidth:0,minWidth:0,parentRect:(null==(e=a.current)?void 0:e.getBoundingClientRect())??new DOMRect(0,0,0,0),showPoint:!1,items:A,onSelectItem:e=>{var t;null==(t=e.callback)||t.call(e,"",null,l)},dispatch:l,recordingKey:"add_appearance_property_dropdown"}),s.createElement(rU.bt,{showLibrarySets:!1}))}function c5(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M14 16.5a.5.5 0 0 0-1 0h1Zm-1.5.5a.5.5 0 0 0 0 1v-1Zm-5-6a.5.5 0 0 0 0-1v1Zm-1.5.5a.5.5 0 0 0 1 0H6Zm1 5a.5.5 0 0 0-1 0h1Zm.5 1.5a.5.5 0 0 0 0-1v1ZM6 14.5a.5.5 0 0 0 1 0H6Zm1-1a.5.5 0 0 0-1 0h1ZM9.5 17a.5.5 0 0 0 0 1v-1Zm1 1a.5.5 0 0 0 0-1v1Zm-1-8a.5.5 0 0 0 0 1v-1Zm3.5 4.5a.5.5 0 0 0 1 0h-1Zm0 2v.5h1v-.5h-1Zm0 .5h-.5v1h.5v-1Zm-5.5-7H7v1h.5v-1ZM6 11v.5h1V11H6Zm0 5.5v.5h1v-.5H6ZM7 18h.5v-1H7v1Zm0-3.5v-1H6v1h1ZM9.5 18h1v-1h-1v1Zm0-7h.5v-1h-.5v1Zm3.5 3v.5h1V14h-1Zm-7 3a1 1 0 0 0 1 1v-1H6Zm1-7a1 1 0 0 0-1 1h1v-1Zm6 7v1a1 1 0 0 0 1-1h-1Z"}),s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6a.5.5 0 0 1 .5.5V7h.5a.5.5 0 0 1 0 1H17v5h.5a.5.5 0 0 1 0 1H17v.5a.5.5 0 0 1-1 0V14h-5v.5a.5.5 0 0 1-1 0V14h-.5a.5.5 0 0 1 0-1h.5V8h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 1 0V7h5v-.5a.5.5 0 0 1 .5-.5ZM11 8v2h2a1 1 0 0 1 1 1v2h2V8h-5Zm0 3v2h2v-2h-2Z",clipRule:"evenodd"}))}function c1(e){let[t,n]=(0,lK.lJ)("frameMaskDisabled"),l=!(0,ee.gl)(t)&&!t;return s.createElement(t_.YW,{"aria-label":(0,D.t)("fullscreen.properties_panel.transform_panel.clip_content"),"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.clip_content"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:f.Pt(e.recordingKey,"clipContent"),selected:!l,onClick:()=>{let e=!l;(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)}},s.createElement(c5,null))}function c7(){let{consumedVariable:e,clearVariableConsumption:t}=(0,rV.u3)(["VISIBLE"]),n=c$(),l=(0,lN.u)(n),r=null==l?void 0:l.name,a=!!e&&!!l,i=s.useMemo(a6.Tn,[]),o=(0,tc.R)(e=>i(e,(0,eM.qd)(e),a4.R.VISIBLE));return!a||o?null:s.createElement(tw.DE,{input:s.createElement(cF.P,{value:r||(0,D.t)("fullscreen.mixed"),isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!l&&(0,iI.eF)(l)}),icon:s.createElement(tV.K,{onClick:()=>t(),"aria-label":(0,D.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(cx.U,null)),label:null})}function c2(e){let t=iU(),n=iz(),l=(0,lF.k)("corner-smoothing"),[r]=(0,lK.lJ)("rectangleCornerRadiiIndependent"),a=(0,lK.kl)("visible"),i=!n.rectangleCornerRadii,o=t.cornerRadius,[c,d]=s.useState(null),[u]=(0,lK.lJ)("opacity"),h=t.rectangleCornerRadii,g=t.rectangleCornerRadii&&!!c,E=!n.cornerRadius,_=E||i,y=(0,s.useRef)(null),v=s.useRef(null),b=s.useMemo(a6.On,[]),{isDefReferencedBySelection:S}=(0,tc.R)(e=>({isDefReferencedBySelection:!!b(e,a4.R.VISIBLE)})),T=s.useCallback((e,t)=>{$.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!S&&$.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[S]),w=(0,s.useCallback)(()=>{l.hide(),$.Y5.deselectProperty()},[l]),P=(0,ed.wA)(),C=s.useCallback(()=>{(0,m.kc)().ce_properties_panel_tracking&&(0,p.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,ee._W)(r,!1)}),!g&&y.current?d((0,ev.cn)(y.current,parseInt(i$,10))):d(null)},[r,g]);return s.createElement(eF.Zk,null,s.createElement(tB.Wv,{titleTx:s.createElement(D.Tx,{id:"fullscreen.appearance_panel.appearance"})},t.fixedFrameOptions?s.createElement(c1,{recordingKey:e.recordingKey}):null,s.createElement(cU,null),s.createElement(c0,null)),s.createElement(tw.fn,{ref:y,leftInput:s.createElement(rB.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,isTokenizable:!!(0,m.kc)().ds_variables_strokes,value:u,onValueChange:T,mixedMathHandler:c4,dispatch:P,recordingKey:f.Pt(e,"opacity"),forwardedRef:v},s.createElement(a7.N,{className:"appearance_panel--inputIcon--GE30W"})),rightInput:o?s.createElement(i1,{recordingKey:e.recordingKey,disabled:g||E}):null,icon:o?h?s.createElement(td.E,{name:"independent_corner_radius_toggle"},s.createElement(eF.YW,{selected:g,onMouseDown:C,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:f.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:_},s.createElement(a2,null))):s.createElement(eF.YW,{onMouseDown:e=>i9(l,y,e),recordingKey:f.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:l.showing,disabled:E},s.createElement(lM.J,null)):null,leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_appearance.label_opacity"}),rightLabel:o?s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}):null}),(t.count||t.starInnerScale)&&s.createElement(cs,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&s.createElement(cc,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),s.createElement(cO,null),s.createElement(a3.L,{nodeField:a4.R.VISIBLE,currentValue:a}),s.createElement(r7.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),s.createElement(c7,null),g&&c&&s.createElement(iQ,{initialPosition:c,onClose:C,recordingKey:f.Pt(e,"advanced")}),l.showing&&s.createElement(ip,{initialPosition:l.initialPosition,onClose:w,recordingKey:f.Pt(e,"advanced")}))}let c4=new cQ;var c3=n(237086);let c6="mask_panel--maskTypeDropdown--3Etsx";class c8 extends at.l6{}class c9 extends at.c${}class de extends s.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=ii.zk.YES)=>{$.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,D.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,D.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,D.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,D.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,D.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,D.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=s.createElement(eF.fI,null,s.createElement(c8,{id:"mask-type-dropdown",className:c6,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:c6,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:f.Pt(this.props,"maskType"),enablePreview:!0},s.createElement(c9,{value:"ALPHA",recordingKey:f.Pt(this.props,"maskType","alpha")}),s.createElement(c9,{value:"OUTLINE",recordingKey:f.Pt(this.props,"maskType","outline")}),s.createElement(c9,{value:"LUMINANCE",recordingKey:f.Pt(this.props,"maskType","luminance")})));return s.createElement(S.p,{name:"mask_panel"},s.createElement(eF.Zk,null,s.createElement(eF.fI,null,s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"fullscreen.mask_panel.mask"}))),e))}}de.displayName="MaskPanel";var dt=n(457206),dn=n(927457),dl=n(536825),dr=n(819785),da=n(695038);function di({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:l,plusDisabled:r,recordingKey:a,removeProperty:i,showButton:o,title:c,dataTestId:d,shouldHideButton:p}){let{version:u}=(0,eh.DP)(),m=(0,s.useCallback)(()=>{!1!==n||r||e()},[e,n,r]),h=n===ee.oV,g=!h&&!n;null==o&&(o=!0===n?"-":"+");let E="+"===o?s.createElement(tV.K,{as:"button",recordingKey:f.Pt(a,"addButton"),onClick:e,onMouseDown:Y.dG,disabled:r,"aria-label":(0,D.t)("fullscreen.properties_panel.add"),"data-testid":d??""},s.createElement(eE.U,{svg:nd.A,fallbackSvg:n4.A},s.createElement(dn.e,null))):s.createElement(tV.K,{as:"button",recordingKey:f.Pt(a,"removeButton"),onClick:i,onMouseDown:Y.dG,disabled:l,"aria-label":(0,D.t)("fullscreen.properties_panel.remove"),"data-testid":d??""},s.createElement(eE.U,{svg:dr.A,fallbackSvg:da.A},s.createElement(dl.O,null)));return"ui3"===u?s.createElement(s.Fragment,null,c&&s.createElement(tB.iE,{onMouseDown:m,faded:g,titleTx:s.createElement("span",null,c),icon:p?void 0:E}),h&&s.createElement(eF.fI,null,s.createElement(eF.UZ,{className:cz.Pf},s.createElement(D.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t):s.createElement(s.Fragment,null,c&&s.createElement(eF.fI,{onMouseDown:m,className:g?cz.et:void 0,recordingKey:f.Pt(a,"panelTitle")},s.createElement(eF.xw,{faded:g,extended:!0},s.createElement("div",{className:cz.yr},c)),s.createElement(eF.$4,null,p?null:E)),h&&s.createElement(eF.fI,null,s.createElement(eF.UZ,{className:cz.Pf},s.createElement(D.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t)}class ds extends f.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return s.createElement(S.p,{name:"remove_group_fill_and_stroke_panel"},s.createElement(eF.Zk,null,s.createElement(di,{title:"Background",addProperty:this.noop,removeProperty:Q.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},s.createElement(eF.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},s.createElement(eF.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},s.createElement(D.Tx,{id:"fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"}))))))}}var dc=n(407931),dd=n(534339),dp=n(570573),du=n(453630),dm=n(918407),dh=n(306413);function dg(e){var t;let n="stroke-settings",[l,r]=(0,h.fp)(dc.GI),a=l.paints||[],i=(0,ed.wA)(),o=s.useContext(n_.zK),c=()=>null!=o,d=s.useRef(null),p=e=>{r({paints:e}),et.Tm.clearCache()},u=e=>{let{strokeWeight:t,dashPattern:n}=e,l=(0,ee.E7)(t);l&&r({strokeWeight:l});let a=(0,ee.E7)(n);a&&r({dashPattern:a})},m=e=>{let t=a.filter((t,n)=>!e.has(n));0===t.length&&(t=[a[0]]),p(t)},g=(e,{fromSearch:t}={})=>{i(iw.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:E}=(0,eh.DP)(),_=!!l.styleId||a.length>0,y=(null==(t=e.pickerShown)?void 0:t.id)===n,v=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,b=s.createElement(du.v9,{strokeWeight:l.strokeWeight||dd.qB,onChange:u,recordingKey:f.Pt(e,"weight")}),S=s.createElement(dm.qR,{className:"ui3"===E?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,dm.Hd)(l.strokeCap||"ROUND")||"ROUND",onChange:e=>{r({strokeCap:e})},recordingKey:f.Pt(e,"dashCap")}),T=s.createElement(eF.YW,{svg:i4.A,fallbackSvg:i3.A,className:"pencil_tool_panel--advancedStroke--1497y",onClick:()=>{var t;if((null==(t=e.pickerShown)?void 0:t.id)===n)i(H.XE());else{if(!d)return;let e=ec.findDOMNode(d.current),t=(0,ev.cn)(e);i(H.u1({id:n,initialX:t.x,initialY:t.y}))}},onMouseDown:e=>e.stopPropagation(),selected:y,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:f.Pt(e,"more")});return s.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},s.createElement(eF.Zk,null,s.createElement(dt.W4,{title:(0,D.t)("fullscreen.pencil_tool.stroke"),propertyList:a,onChange:p,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:Q.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{$.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>m(e),onReorder:()=>{et.Tm.clearCache()},renderProperty:(t,n,l,r,o,d,p,u,h)=>{var _;let y=c()?"preview-paint":"paint",v=et.Tm.getId(n,Q.rrT.STROKE_PRESET,y),b=a.slice(0,n).some(e=>e.visible);return s.createElement(dt.Gg,{key:`paint-${n}`,id:v,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===a.length,selectedPropertyType:Q.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?(null==(_=e.pickerShown)?void 0:_.id)===v:l,isDragging:r,hasFocus:o,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:d,onApplyStyle:g,onMouseDown:p,onMouseMove:u,onMouseUp:h,onRemovePaint:a.length>1?()=>m(new Set([n])):void 0,hideVisibilityToggle:1===a.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:Q.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:i,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:et.Em,library:e.library,openFile:e.openFile,recordingKey:f.Pt(e,n),variableScopes:new Set([Q.j0r.STROKE]),isUI3:"ui3"===E,hasVisiblePaintBelow:b})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:l.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{i(H.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:g,defaultColor:et.rC}),_&&("ui3"===E?s.createElement(tw.fn,{ref:d,leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_stroke.label_weight"}),leftInput:b,rightLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_stroke.label_end_cap"}),rightInput:S,icon:T}):s.createElement(eF.fI,{ref:d},b,S,T))),v&&s.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},s.createElement(dp.u,{title:(0,D.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:dh.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,D.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),y&&e.pickerShown&&s.createElement(dm._2,{onChange:u,strokePanelMode:Q.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:l.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:l.strokeWeight||dd.qB,dashPattern:l.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:f.Pt(e,"advanced")}))}function dE(e){let t=(0,j.Ku)(),n=(0,tc.R)(e=>{var t;return{currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}});return s.createElement(dg,{...n,...e,colorFormat:t})}var d_=n(740707),df=n(808584),dy=n(592177),dv=n(395103),db=n(773667),dS=n(77307),dT=n(139689),dw=n(151818),dP=n(461364);let dC={[Q.eVK.TOP_LEFT]:"anchor_point_selector--apTopLeft--jsueH",[Q.eVK.TOP_CENTER]:"anchor_point_selector--apTopMiddle--Wp-kD",[Q.eVK.TOP_RIGHT]:"anchor_point_selector--apTopRight--mbC5X",[Q.eVK.MIDDLE_LEFT]:"anchor_point_selector--apMiddleLeft--G-YlO",[Q.eVK.MIDDLE_CENTER]:"anchor_point_selector--apMiddleMiddle--gut-r",[Q.eVK.MIDDLE_RIGHT]:"anchor_point_selector--apMiddleRight--VZnhH",[Q.eVK.BOTTOM_LEFT]:"anchor_point_selector--apBottomLeft--30X3n",[Q.eVK.BOTTOM_CENTER]:"anchor_point_selector--apBottomMiddle--ySpzF",[Q.eVK.BOTTOM_RIGHT]:"anchor_point_selector--apBottomRight--rXs-P"},dk={[Q.eVK.TOP_LEFT]:"top_left",[Q.eVK.TOP_CENTER]:"top_center",[Q.eVK.TOP_RIGHT]:"top_right",[Q.eVK.MIDDLE_LEFT]:"middle_left",[Q.eVK.MIDDLE_CENTER]:"middle_center",[Q.eVK.MIDDLE_RIGHT]:"middle_right",[Q.eVK.BOTTOM_LEFT]:"bottom_left",[Q.eVK.BOTTOM_CENTER]:"bottom_center",[Q.eVK.BOTTOM_RIGHT]:"bottom_right"};function dI(e){let{value:t,anchorPoint:n,onAnchorPointChange:l,disabled:r,dataTestId:a}=e,i=s.useCallback(()=>{l(t)},[l,t]),o=t===n;return s.createElement("button",{className:`anchor_point_selector--anchorPointButton--JCPGp ${dC[t]}`,onClick:i,disabled:r,"data-testid":a},s.createElement("div",{className:d()("anchor_point_selector--anchorPointButtonInner--LSo9Y",{"anchor_point_selector--apButtonActive--eNX6V":o,"anchor_point_selector--disabled--YCcFc":r}),"data-testid":o?`${a}.active`:void 0}))}let dN=e=>"INPUT"===e.tagName;function dA(e){let{anchorPoint:t,onAnchorPointChange:n,disabled:l,restoreFocusElements:r}=e,[a,i]=s.useState(document.activeElement),o=e=>{n(e),a&&dN(a)&&(null==r?void 0:r.includes(a))&&a.focus()};return s.createElement("div",{className:d()("anchor_point_selector--anchorPointSelector--ZC9rv",{"anchor_point_selector--anchorPointSelectorDisabled--JScxh":l}),onMouseDown:()=>{i(document.activeElement)}},s.createElement(s.Fragment,null,s.createElement(dI,{disabled:l,value:Q.eVK.TOP_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.TOP_LEFT]}`}),s.createElement(dI,{disabled:l,value:Q.eVK.TOP_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.TOP_CENTER]}`}),s.createElement(dI,{disabled:l,value:Q.eVK.TOP_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.TOP_RIGHT]}`})),s.createElement(s.Fragment,null,s.createElement(dI,{disabled:l,value:Q.eVK.MIDDLE_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.MIDDLE_LEFT]}`}),s.createElement(dI,{disabled:l,value:Q.eVK.MIDDLE_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.MIDDLE_CENTER]}`}),s.createElement(dI,{disabled:l,value:Q.eVK.MIDDLE_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.MIDDLE_RIGHT]}`})),s.createElement(s.Fragment,null,s.createElement(dI,{disabled:l,value:Q.eVK.BOTTOM_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.BOTTOM_LEFT]}`}),s.createElement(dI,{disabled:l,value:Q.eVK.BOTTOM_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.BOTTOM_CENTER]}`}),s.createElement(dI,{disabled:l,value:Q.eVK.BOTTOM_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${dk[Q.eVK.BOTTOM_RIGHT]}`})))}let dR=Q.eVK.MIDDLE_CENTER;var dO=((i=dO||{}).TextInput="text-input",i.Selector="selector",i),dM=((o=dM||{}).Select="select",o.Input="input",o.Scrub="scrub",o.Width="width",o.Height="height",o);function dx(e,t){return(0,E.xN)(e,0)?((0,y.x1)("clampScaleValue","scale is 0",{originalValue:e,newValue:t}),1):(0,E.qE)(t/e,.01,100)}var dL=n(336417),dK=n(59466);let dF=[.25,.5,.75,1,2,3,4,5,10];class dD extends oq.a3{}class dH extends at.c${}let dB=new class{constructor(){this.MAX_SCALE=100,this.MIN_SCALE=.01}parse(e){let t=sa(e),n=(0,o2.O4)(t,1);if(null!==n.value&&isFinite(n.value)){let t=sr(e);return{value:n.value,anchorPoint:null===t?void 0:t}}throw new ir.LS("Could not parse input",n.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));return`${t}x`}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:e.value+t,anchorPoint:e.anchorPoint}}snap(e,t){return{value:(0,E.YE)(e.value,t),anchorPoint:e.anchorPoint}}clamp(e){return{value:(0,E.qE)(e.value,this.MIN_SCALE,this.MAX_SCALE),anchorPoint:e.anchorPoint}}isEqual(e,t){return e.value===t.value&&e.anchorPoint===t.anchorPoint}},dV=s.forwardRef((e,t)=>{let{disabled:n,scale:l,onScaleChange:r,recordingKey:a,onInputKeyDown:i}=e,o=(0,ed.wA)(),c=(0,ed.d4)(e=>e.dropdownShown),d=f.c1(a),p=dF.map((e,t)=>s.createElement(dH,{key:t,value:{value:e},recordingKey:d("scaleInput",e)})),u={smallNudgeAmount:1,bigNudgeAmount:10,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01,"data-tooltip":"","data-tooltip-type":ey.Ib.TEXT,dispatch:o,value:{value:l},onValueChange:(e,t)=>{r(e.value,dM.Scrub,t),t&&$.Y5.commit()},scrubbingDisabled:n,formatter:dB};return s.createElement(eF.fI,null,s.createElement(dD,{scrubbableControlProps:u,id:"scale-input-fullscreen.scale_panel.scale",forwardedRef:t,className:"scale_row--scaleCombobox--jimxi",property:{value:l},onKeyDown:i,onChange:(e,t,n)=>{r(e.value,n===oq.G7.Input?dM.Input:dM.Select,t??ii.zk.NO,e.anchorPoint),t&&$.Y5.commit()},formatter:dB,dispatch:o,dropdownShown:c,onMouseDown:e=>{e.stopPropagation()},recordingKey:d("scaleInput"),disabled:n,svg:dK.A,svgClassName:iq.QK,ui3Icon:s.createElement(dL.l,null),dropdownWidth:104,dataTestId:"scale_panel.scale"},p))}),dU="scale_width_height_row--condensedWidthHeightRow--VOTEM",dz="scale_width_height_row--condensedScrubbableInput--XxHxl",dZ={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function dG(e){let{disabled:t,scale:n,property:l,selectionRegionsBounds:r,selectionRegionsOriginalBounds:a,onScaleChange:i,recordingKey:o,forwardedRef:c,onKeyDown:d}=e,p="width"===l?dM.Width:dM.Height,u=(0,ed.wA)(),m=f.c1(o),h=function(){if(r&&r.length){let e=r[0][l];return r.every(t=>(0,E.xN)(t[l],e,.005))?e:ee.oV}return ee.oV}(),g=iD(),_=(0,ee.gl)(h)?dZ:{};return s.createElement(rB.$j,{noBorderOnHover:!0,dispatch:u,forwardedRef:c,className:dz,inputClassName:iq.hF,disabled:t,floatingPointFormat:{maxNumDigits:4},onKeyDown:d,dataTestId:`scale_panel.${l}`,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":"width"===l?(0,D.t)("fullscreen.properties_panel.transform_panel.width"):(0,D.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:m(`${l}Input.input`),min:(0,ee.gl)(h)?.01:1,value:h??0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||i((0,E.qE)(l,.01,100),p,n)}},onValueChange:(e,t)=>{!Number.isNaN(e)&&h&&h!==ee.oV&&a&&a.length&&i(dx(a[0][l],e),p,t)},...g,..._},s.createElement("span",{className:`${iq.QK} svg`},"width"===l?s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function dY(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:l,onHeightInputKeyDown:r,...a}=e;return s.createElement(eF.fI,{className:dU},s.createElement(dG,{...a,property:"width",forwardedRef:t,onKeyDown:l}),s.createElement(dG,{...a,property:"height",forwardedRef:n,onKeyDown:r}))}var dW=n(889012),dX=n.n(dW);let d$="scale_panel--scalePanelRow--Cbovd";var dQ=n(630834);let dj=()=>{$.Y5.triggerAction("set-tool-default")};function dq(e){let t=(0,ed.d4)(e=>e.mirror.sceneGraphSelection),n=(0,lK.kl)("selectionRegions"),l=(0,ee.E7)(n),r=(0,nF.Z)(l),a=s.useRef(0),[i,o]=(0,s.useState)(void 0),c=(0,nF.Z)(i),d=s.useRef(null),p=(0,lK.kl)("selectionResizable"),u=(0,ee._W)(p,!1),h=(0,nU.p8)("activeUserAction"),g=(0,nF.Z)(h),_=(0,ix.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels),y=(0,nF.Z)(_),[v,b]=(0,s.useState)(!1),S=s.useRef(null),T=s.useRef(null),w=s.useRef(null),P=(0,nU.p8)("currentTool"),C=(0,nF.Z)(P),k=P!==Q.NLJ.SCALE,I=!u||k,[N,A]=(0,s.useState)(dR),R=(0,ix.J2)(Q.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint),O=f.qP(e.recordingKey??"","anchorPointChange",A),[M,x]=(0,s.useState)(void 0),L=(0,s.useCallback)(e=>{void 0===M?x(e):M!==e&&x(null)},[M]),{trackScaleChangeEvent:K,trackScaleToolDismissed:F,trackAnchorPointChange:H}=function(){let e=(0,ot.am)(),t=(0,s.useCallback)(t=>{e("scale_tool_panel_set_value",{key:"height",...t})},[e]),n=(0,s.useMemo)(()=>dX()(t,3e3),[t]),l=(0,s.useCallback)((e,l)=>l?n(e):t(e),[n,t]),r=(0,s.useCallback)(t=>e("scale_tool_panel_set_value",{key:"width",...t}),[e]),a=(0,s.useMemo)(()=>dX()(r,3e3),[r]),i=(0,s.useCallback)((e,t)=>t?a(e):r(e),[a,r]),o=(0,s.useCallback)(t=>e("scale_tool_panel_set_value",{key:"scale",...t}),[e]),c=(0,s.useMemo)(()=>dX()(o,3e3),[o]),d=(0,s.useCallback)((e,t)=>t?c(e):o(e),[c,o]),p=(0,s.useCallback)(t=>e("scale_tool_panel_dismissed",{...t}),[e]);return{trackScaleChangeEvent:d,trackWidthChangeEvent:i,trackHeightChangeEvent:l,trackAnchorPointChange:(0,s.useCallback)(t=>e("scale_tool_set_anchor_point",{...t}),[e]),trackScaleToolDismissed:p}}();(0,s.useEffect)(()=>{h===Q.QOV.RESIZING&&N!==R&&(L(R),O(R))},[h,N,O,L,R]);let[B,V]=(0,s.useState)(1),[U,z]=(0,s.useState)(!1),[Z,G]=(0,s.useState)(!1),[Y,W]=(0,s.useState)(!0),X=(0,s.useCallback)((e,t)=>{i&&i.length&&(Q.glU.setScale(e,t,i.map(e=>({origin:{x:e.x,y:e.y},size:{x:e.width,y:e.height}})),null!==M),G(!0),L(t))},[i,M,L]);(0,s.useEffect)(()=>{z(!0)},[t]),(0,s.useEffect)(()=>{!(null==y?void 0:y[Q.ibQ.SCALE_ITEM])&&(null==_?void 0:_[Q.ibQ.SCALE_ITEM])&&z(!0)},[_,y]);let j=(0,s.useCallback)(()=>Z?(G(!1),!0):h===Q.QOV.RESIZING||h===Q.QOV.DEFAULT&&g===Q.QOV.RESIZING,[h,Z,g]);(0,s.useLayoutEffect)(()=>{if(r&&r.length&&l&&l.length&&r.length===l.length)for(let e=0;e<l.length;e++){let{x:t,y:n,width:a,height:i}=l[e].bounds,{x:o,y:s,width:c,height:d}=r[e].bounds;if(c!==a||d!==i){if(!j()&&!U){z((0,E.xN)(c,a)!==(0,E.xN)(d,i));break}}else if(o!==t||s!==n){L(null);break}}},[r,l,j,L,U]),(0,s.useLayoutEffect)(()=>{let e=!1;if((0,m.kc)().ce_scale_tool_skew&&l){let t=d.current??l.map(e=>(e.bounds.width||1)/(e.bounds.height||1)),n=Q.glU.getSelectionAngleSum();if(l.length===t.length){d.current=[];for(let r=0;r<l.length;++r){let i=(l[r].bounds.width||1)/(l[r].bounds.height||1);(e||(0,dP.o)(i,t[r],1e-4))&&(0,dP.o)(n,a.current,1e-4)||(e=!0),d.current.push(i),a.current=n}}}(e||U)&&(V(1),O(dR),Q.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint.set(dR),x(void 0),o(Q.glU.getSelectionRegionsBounds().map(({origin:e,size:t})=>({x:e.x,y:e.y,width:t.x,height:t.y}))),b(!1),z(!1))},[U,l,O,R]),(0,s.useLayoutEffect)(()=>{l&&l.length&&i&&i.length&&(l!==r||(0,m.kc)().ce_scale_tool_skew&&i!==c)&&(Y?V(dx(i[0].width,l[0].bounds.width)):W(!0))},[c,l,i,r,Y]),(0,s.useEffect)(()=>{let e=P===Q.NLJ.SCALE&&C!==Q.NLJ.SCALE;e&&Object.keys(t).length>0&&e&&[Q.QOV.DEFAULT,Q.QOV.SELECTING_TEXT].includes(h)&&S.current&&(S.current.focus(),S.current.select())},[h,P,C,t]),(0,s.useEffect)(()=>{let e=()=>{S.current&&(b(!1),S.current.focus(),S.current.select())};return dw.h.subscribeScaleToolActivated(e),()=>{dw.h.unsubscribeScaleToolActivated(e)}},[]),(0,s.useEffect)(()=>{let e=e=>{e.target!==S.current&&e.target!==T.current&&e.target!==w.current&&b(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let q=(0,s.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!v&&(n||t)&&dj()},[v]);return s.createElement(eF.Zk,{"data-testid":`scale_panel.state.${k?"hidden":I?"disabled":"enabled"}`},s.createElement(eF.fI,{className:d$},s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement(eF.$4,null,s.createElement(tV.K,{onClick:()=>{dj(),F({selectionCount:Object.keys(t).length})},"aria-label":(0,D.t)("fullscreen.scale_panel.close")},s.createElement(eE.U,{svg:dQ.default,fallbackSvg:dQ.default},s.createElement(dT.A,null)))),s.createElement(dA,{restoreFocusElements:[S.current,T.current,w.current].filter(Boolean),anchorPoint:N,onAnchorPointChange:eO.nc.user("change-anchor-point",e=>{e!==N&&(1!==B&&(X(1,N),X(B,e)),O(e)),H({anchorPoint:e})}),disabled:I})),s.createElement(dV,{scale:B,onInputKeyDown:q,onScaleChange:eO.nc.user("change-scale",(e,t,n,r)=>{V(e),W(!1),void 0!==r&&(0,m.kc)().ee_scale_tool_ap_input?(K({value:e,source:t,anchorPoint:r,anchorPointSource:dO.TextInput}),X(e,r),O(r)):(t===dM.Select?K({value:e,source:t,anchorPoint:N,anchorPointSource:dO.Selector}):K({value:e,source:t,anchorPoint:N,anchorPointSource:dO.Selector},!0),(0,ec.flushSync)(()=>{X(e,N),n&&l&&l.length>1&&Q.glU.logMultiEditActionForSelection("scale_panel_finish",null)}))}),disabled:I,recordingKey:e.recordingKey,ref:S}),s.createElement(dY,{scale:B,selectionRegionsBounds:l.map(e=>e.bounds),selectionRegionsOriginalBounds:i,onScaleChange:eO.nc.user("change-scale",(e,t,n)=>{K({value:e,source:t,anchorPoint:N,anchorPointSource:dO.Selector},!0),V(e),W(!1),X(e,N),n&&(l&&l.length>1&&Q.glU.logMultiEditActionForSelection("scale_panel_finish",null),$.Y5.commit())}),widthRef:T,heightRef:w,onHeightInputKeyDown:q,onWidthInputKeyDown:q,disabled:I,recordingKey:e.recordingKey}))}let dJ={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function d0({disabled:e,widthOrHeight:t,scale:n,property:l,onScaleChange:r,onWidthOrHeightChange:a,recordingKey:i,forwardedRef:o,onKeyDown:c}){let d="width"===l?dM.Width:dM.Height,p=(0,ed.wA)(),u=iD(),m=(0,ee.gl)(t)?dJ:{},h=f.c1(i);return s.createElement(rB.$j,{noBorderOnHover:!0,dispatch:p,forwardedRef:o,className:dz,inputClassName:iq.hF,disabled:e,floatingPointFormat:{maxNumDigits:4},onKeyDown:c,dataTestId:`scale_panel.${l}`,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":"width"===l?(0,D.t)("fullscreen.properties_panel.transform_panel.width"):(0,D.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:h(`${l}Input.input`),min:(0,ee.gl)(t)?.01:1,value:t||0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||r(l,d,n)}},onValueChange:(e,n)=>{!Number.isNaN(e)&&t&&t!==ee.oV&&a(e,n)},...u,...m},s.createElement("span",{className:`${iq.QK} svg`},"width"===l?s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):s.createElement(D.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function d5({width:e,height:t,onWidthChange:n,onHeightChange:l,onWidthInputKeyDown:r,onHeightInputKeyDown:a,widthInputRef:i,heightInputRef:o,...c}){return s.createElement(eF.fI,{className:dU},s.createElement(d0,{...c,property:"width",widthOrHeight:e,onWidthOrHeightChange:n,onKeyDown:r,forwardedRef:i}),s.createElement(d0,{...c,widthOrHeight:t,onWidthOrHeightChange:l,onKeyDown:a,property:"height",forwardedRef:o}))}let d1=n(630834);function d7(){$.Y5.triggerAction("set-tool-default")}function d2({recordingKey:e}){let t=(0,ix.J2)(Q.yFm.state().scale),n=eO.nc.user("change-scale-width",e=>{Q.yFm.setScale(e)}),l=(0,ix.J2)(Q.yFm.state().width);l="number"==typeof l?l:ee.oV;let r=eO.nc.user("change-scale-width",e=>{Q.yFm.setWidth(e)}),a=(0,ix.J2)(Q.yFm.state().height);a="number"==typeof a?a:ee.oV;let i=eO.nc.user("change-scale-height",e=>{Q.yFm.setHeight(e)}),{handleKeyDown:o,heightInputRef:c,scaleInputRef:d,widthInputRef:p}=function(){let e=(0,ed.d4)(e=>e.mirror.sceneGraphSelection),[t,n]=s.useState(!1),l=s.useRef(null),r=s.useRef(null),a=s.useRef(null),i=(0,nU.p8)("currentTool"),o=(0,nF.Z)(i),c=(0,nU.p8)("activeUserAction"),[d,p]=s.useState(!1);s.useEffect(()=>{let t=i===Q.NLJ.SCALE&&o!==Q.NLJ.SCALE;Object.keys(e).length>0&&t&&[Q.QOV.DEFAULT,Q.QOV.SELECTING_TEXT].includes(c)&&l.current&&(l.current.focus(),l.current.select())},[c,i,o,e]),s.useEffect(()=>{let e=()=>{l.current&&(n(!1),p(!1),l.current.focus(),l.current.select())};return dw.h.subscribeScaleToolActivated(e),()=>{dw.h.unsubscribeScaleToolActivated(e)}},[]),s.useEffect(()=>{let e=e=>{e.target!==l.current&&e.target!==r.current&&e.target!==a.current&&n(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let u=s.useCallback(e=>{let n="Escape"===e.key,l="Enter"===e.key;!t&&(l||n)&&p(!0)},[t]);return s.useEffect(()=>{d&&d7()}),{handleKeyDown:u,scaleInputRef:l,widthInputRef:r,heightInputRef:a}}();return s.createElement(eF.Zk,null,s.createElement(eF.fI,{className:d$},s.createElement(eF.xw,null,s.createElement(D.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement("span",null,s.createElement(tV.K,{onClick:d7,"aria-label":(0,D.t)("fullscreen.scale_panel.close")},s.createElement(eE.U,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:d1,fallbackSvg:d1})))),s.createElement(dV,{scale:t,onScaleChange:n,disabled:!1,onInputKeyDown:o,recordingKey:e,ref:d}),s.createElement(d5,{scale:t,width:l,height:a,onWidthChange:r,onHeightChange:i,onScaleChange:n,onKeyDown:o,widthInputRef:p,heightInputRef:c,disabled:!1,recordingKey:e}))}var d4=n(761238);let d3="alignment_view_v4--indicator--VmKfE",d6="alignment_view_v4--indicatorBaseline--4kxfb",d8="alignment_view_v4--counterCenter--MlF9q";function d9({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,od.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===l.stackWrap,c="HORIZONTAL"===i?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",p=r?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,ee.hS)(l.stackPrimaryAlignItems)&&(0,ee.hS)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,s.useCallback)(e=>{let[n,l]=po(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,s.useCallback)(e=>n(...po(e.target)),[n]),E=(0,s.useCallback)(e=>n(null,null),[n]);return s.createElement("div",{className:d()(l.className,"alignment_view_v4--mainContainer--zUBsm",c,p,{"alignment_view_v4--baselineAlign--xLTR2":a}),tabIndex:0,onKeyDown:l.onKeyDown},s.createElement(pi,{baseline:a}),s.createElement(pr,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&s.createElement(pe,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:o}),u&&s.createElement(pe,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:o}),a&&s.createElement(pl,{onClick:l.onRemoveBaseline}))}function pe({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){return s.createElement("div",{className:d()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?pn[t]:void 0,n?pt[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},s.createElement("div",{className:d()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":l})},"BASELINE"===n?(0,od.rO)(t)?s.createElement(s.Fragment,null,s.createElement("div",{className:d3}),s.createElement("span",{className:d6},"A"),s.createElement("div",{className:d3})):s.createElement("span",{className:d6},"A"):l?s.createElement(s.Fragment,null,s.createElement("div",{className:d3}),s.createElement("div",{className:d3}),s.createElement("div",{className:d3}),s.createElement("div",{className:d3}),s.createElement("div",{className:d3})):s.createElement(s.Fragment,null,s.createElement("div",{className:d3}),s.createElement("div",{className:d3}),s.createElement("div",{className:d3}))))}let pt={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:d8,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:d8},pn={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function pl({onClick:e}){let t=pc(),n=pd(),l=2*t/3+2,r=t-9,a=t-5.5;return s.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},s.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},s.createElement("rect",{x:"4.5",y:`${l}`,width:`${r}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),s.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),s.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function pr({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let o=ps({stackMode:t,baselineAlign:n,spaceBetween:e});return s.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i},o.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),s.createElement(pa,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function pa({x:e,y:t,tooltip:n,below:l}){return s.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!l||void 0})}function pi({baseline:e}){let t=pd(),n=pc(),l=n/3,r=`${l}`,a=`${l/2}`,i=e?l:0,o=e?l:n,c=(0,s.useId)();return s.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},s.createElement("defs",null,s.createElement("pattern",{id:c,width:r,height:r,patternUnits:"userSpaceOnUse"},s.createElement("circle",{cx:a,cy:a,r:"1"}))),s.createElement("rect",{width:"79",height:o,y:i,fill:`url(#${c})`}))}function po(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function ps({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,D.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,D.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,D.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,D.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,D.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,D.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,D.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let pc=()=>(0,u.jz)("60px"),pd=()=>{let e=pc();return`0 0 ${e} ${e}`},pp="alignment_view_v4_ui3--indicatorBaseline--NUe6M",pu="alignment_view_v4_ui3--counterCenter--QC-B7";function pm({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,od.rO)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===l.stackWrap,c="HORIZONTAL"===i?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",p=r?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,ee.hS)(l.stackPrimaryAlignItems)&&(0,ee.hS)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,s.useCallback)(e=>{let[n,l]=pT(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,s.useCallback)(e=>n(...pT(e.target)),[n]),E=(0,s.useCallback)(e=>n(null,null),[n]);return s.createElement("div",{className:d()(l.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,p,{"alignment_view_v4_ui3--baselineAlign--OxyzT":a}),tabIndex:0,onKeyDown:l.onKeyDown},s.createElement(pS,null),s.createElement(py,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&s.createElement(ph,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:o}),u&&s.createElement(ph,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:o}),a&&s.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},s.createElement(pf,{onClick:l.onRemoveBaseline})))}function ph({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){function r(){let e=(0,od.rO)(t);return"BASELINE"===n?e?s.createElement(s.Fragment,null,s.createElement("span",{className:pp},"A"),s.createElement("span",{className:pp},"A"),s.createElement("span",{className:pp},"A")):s.createElement("span",{className:pp},"A"):s.createElement(pg,{n:l?e?5:3:e?3:2})}return s.createElement("div",{className:d()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?p_[t]:void 0,n?pE[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?r():s.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},s.createElement("div",{className:d()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":l})},r())))}function pg({n:e}){return s.createElement(s.Fragment,null,Array.from({length:e},(e,t)=>s.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let pE={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:pu,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:pu},p_={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function pf({onClick:e}){return s.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},s.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function py({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let o=ps({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,tT.Rt)()});return s.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:l,onMouseOut:r,onClick:void 0,onMouseUp:a,onDoubleClick:i},"HORIZONTAL"===t&&n&&e?s.createElement(pv,{tooltips:o}):o.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),s.createElement(pb,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function pv({tooltips:e}){let t=(0,s.useId)(),n=e[0];return null==n?null:s.createElement(s.Fragment,null,s.createElement("div",{"data-tooltip-proxy-element-id":t}),s.createElement(pb,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),s.createElement("div",{"data-tooltip-proxy-element-id":t}))}function pb({id:e,x:t,y:n,tooltip:l,below:r}){return s.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-above":!r||void 0})}function pS(){return s.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>s.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},s.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function pT(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var pw=n(358106);let pP=["MIN","CENTER","MAX"];function pC({className:e,recordingKey:t}){let n=(0,lK.kl)("stackMode"),l=(0,lK.kl)("stackWrap"),[r,a]=(0,lK.lJ)("stackPrimaryAlignItems"),[i,o]=(0,lK.lJ)("stackCounterAlignItems"),[c,d]=(0,s.useState)(void 0),[p,u]=(0,s.useState)(void 0),m=(0,pw.sR)(),h=(0,pw.uV)(),_=(0,ot.am)(),y=(0,tT.Rt)(),v=(0,od.rO)(r),b="BASELINE"===i,S=(0,s.useCallback)((e,t)=>{if(null==e||null==t){d(void 0),u(void 0);return}let l=pk(e,t,n,v),r=pI(e,t,n,b);d(l),u(r)},[n,b,v,d,u]),T=f.rf(t,"click",(0,s.useCallback)(e=>{let t=c,n=p;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(v||a(t,ii.zk.NO),o(n),_("Autolayout alignment grid used"))},[c,p,v,o,_,a]),{recordMetadata:()=>({primaryAlignItems:c,counterAlignItems:p}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:w}=(0,oJ.O)("STACK_SPACING",Q.rXF.FLOAT),P=(0,s.useCallback)((e,t)=>{h(void 0===t||t,e,ii.zk.NO),w()},[h,w]),C=(0,s.useCallback)((e,t)=>{if(v){h(!1,"alignment double click",ii.zk.NO);let l=pk(e,t,n,!1),r=pI(e,t,n,b);d(l),u(r),a(l,ii.zk.NO),o(r),_("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else P("alignment double click"),o(pI(e,t,n,b))},[P,b,v,o,a,h,n,_]),k=(0,s.useCallback)(()=>{o("CENTER"),_("Disable baseline alignment",{source:"alignment grid"})},[o,_]),I=f.v_(t,"keydown",(0,s.useCallback)(e=>{function t(e){"HORIZONTAL"===n?a(e):o(e)}function l(e){"VERTICAL"===n?a(e):o(e)}function s(e,t){if((0,ee.gl)(e))return"CENTER";let n=pP.indexOf(e);if(-1===n)return null;let l=(0,E.qE)(n+t,0,pP.length-1);return pP[l]}let c="HORIZONTAL"===n?r:i,d="VERTICAL"===n?r:i;switch(e.keyCode){case g.Uz.ESCAPE:case g.Uz.ENTER:e.currentTarget.blur();break;case g.Uz.UP_ARROW:{let e=s(d,-1);e&&l(e);break}case g.Uz.DOWN_ARROW:{let e=s(d,1);e&&l(e);break}case g.Uz.LEFT_ARROW:{let e=s(c,-1);e&&t(e);break}case g.Uz.RIGHT_ARROW:{let e=s(c,1);e&&t(e);break}case g.Uz.B:"HORIZONTAL"===n&&m("BASELINE"!==i,"alignment keyboard");break;case g.Uz.X:P("alignment keyboard",!(0,od.rO)(r));break;case g.Uz.W:l("MIN");break;case g.Uz.A:t("MIN");break;case g.Uz.S:l("MAX");break;case g.Uz.D:t("MAX");break;case g.Uz.V:l("CENTER");break;case g.Uz.H:t("CENTER");break;default:(0,d4.jr)(e,d4.W0.YES,d4.VA.YES);return}e.preventDefault()},[P,i,r,m,o,a,n])),N=y?s.createElement(pm,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:T,onDoubleClick:C,onKeyDown:I,onRemoveBaseline:k,counterHover:p,primaryHover:c}):s.createElement(d9,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:T,onDoubleClick:C,onKeyDown:I,onRemoveBaseline:k,counterHover:p,primaryHover:c});return s.createElement(td.E,{name:"alignment_view"},N)}function pk(e,t,n,l){return l?(0,m.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":pP["VERTICAL"===n?t:e]}function pI(e,t,n,l){return l?"BASELINE":pP["VERTICAL"===n?e:t]}var pN=n(627180),pA=n(187570),pR=n(346532),pO=n(194646);function pM({onClick:e,onOpen:t,modalKey:n,...l}){let r=(0,ed.wA)(),a=(0,lF.X)(),i=(0,s.useRef)(null),o=(0,tT.Rt)(),c=(null==a?void 0:a.id)===n,d=(0,nF.Z)(c),p=c?new A.Mi(a.initialX,a.initialY):null,u=(0,s.useRef)(l.onClose);u.current=l.onClose,(0,s.useEffect)(()=>{var e;d&&!c&&(null==(e=u.current)||e.call(u))},[c,d]),(0,s.useEffect)(()=>()=>{var e;return null==(e=u.current)?void 0:e.call(u)},[]);let m=(0,s.useCallback)(()=>{c&&(r(H.XE()),$.Y5.deselectProperty())},[r,c]),h=(0,s.useCallback)(()=>{if(c)return;e||null==t||t();let{top:l}=ec.findDOMNode(i.current).getBoundingClientRect();r(H.u1({id:n,initialX:ev.qo,initialY:l}))},[r,c,n,e,t]);(0,s.useEffect)(()=>{null!=l.open&&(l.open?h():m())},[m,h,l.open]);let g=s.createElement(t_.YW,{ref:i,svg:l.svg,fallbackSvg:l.fallbackSvg,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":l.tooltip,onMouseMove:()=>{c&&r(iR.jD())},onMouseDown:e??(e=>{e.stopPropagation(),c?m():h()}),recordingKey:f.Pt(l,"trigger"),selected:c,className:l.buttonClassName},o?l.ui3Icon:void 0),E=l.buttonInteractableName?s.createElement(td.E,{name:l.buttonInteractableName},g):g,_=c?s.createElement(e9.vx,{title:l.title,initialPosition:p,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:m,recordingKey:f.Pt(l,"modal")},l.children):null,y=_&&l.modalTrackableName?s.createElement(S.p,{name:"stack_layout_details_modal"},_):_;return s.createElement(s.Fragment,null,E,y)}var px=n(290850),pL=n(22852),pK=n(578768),pF=n(946650);let pD="stack_layout_details_preview--stroke--tWkNh",pH="stack_layout_details_preview--strokeLight--RsPk7",pB="stack_layout_details_preview--fill--V74cf",pV="stack_layout_details_preview--fillWhite--uTjlG",pU="stack_layout_details_preview--fillTertiary--xuwqQ",pz={reverseStackingOrder:function({enabled:e}){let t=[s.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pV,x:"67",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:pB,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),s.createElement("rect",{className:pD,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),s.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pV,x:"99",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:pB,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),s.createElement("rect",{className:pD,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),s.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pV,x:"131",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:pB,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),s.createElement("rect",{className:pD,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),s.createElement("svg",{width:"240",height:"120",fill:"none"},t,s.createElement("rect",{className:pH,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),s.createElement("defs",null,s.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dx:"2"}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),s.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),s.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return s.createElement("svg",{width:240,height:120,fill:"none"},s.createElement("path",{className:d()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),s.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},s.createElement("path",{className:pB,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),s.createElement("rect",{className:pD,x:46.5,y:38.5,width:43,height:43,rx:1.5})),s.createElement("rect",{className:d()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",pD),x:98.5,y:38.5,width:43,height:43,rx:1.5}),s.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},s.createElement("path",{className:pB,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),s.createElement("rect",{className:pD,x:150.5,y:38.5,width:43,height:43,rx:1.5})),s.createElement("rect",{className:d()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",pH),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return s.createElement("svg",{width:240,height:120,fill:"none"},s.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},s.createElement("rect",{className:pU,x:"43",y:"37",width:"48",height:"48",rx:"2"}),s.createElement("rect",{className:pV,x:"49",y:"43",width:"36",height:"36",rx:"2"})),s.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},s.createElement("rect",{className:pU,x:"98",y:"37",width:"99",height:"48",rx:"2"}),s.createElement("rect",{className:pV,x:"104",y:"43",width:"87",height:"36",rx:"2"})),s.createElement("rect",{className:d()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",pH),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function pZ({setting:e,enabled:t}){let n=e?pz[e]:null;return s.createElement("div",{className:d()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?s.createElement(n,{enabled:t}):s.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.preview"})))}var pG=n(332642),pY=n(769502);let pW="seen_stack_spacing_auto_onboarding";function pX(e){let[t,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)({enabled:!1}),a=(0,tT.Rt)();return s.createElement(s.Fragment,null,s.createElement(pM,{title:(0,D.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),tooltip:a?(0,D.t)("fullscreen.properties_panel.section_autoLayout.tooltip_autoLayoutSettings"):(0,D.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:i4.A,ui3Icon:s.createElement(em.A,null),buttonClassName:pY.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{n(!0)},250)}},s.createElement(pZ,{setting:l.setting,enabled:l.enabled}),s.createElement("div",{className:pG.ne},s.createElement(pj,{updatePreview:r,recordingKey:e.recordingKey}),s.createElement(p$,{updatePreview:r,recordingKey:e.recordingKey}),s.createElement(pQ,{updatePreview:r,recordingKey:e.recordingKey}))),t&&s.createElement(p0,{onDismiss:()=>n(!1)}))}function p$({updatePreview:e,recordingKey:t}){var n;let l=(0,ed.wA)(),r=(0,ll.U)(),[a,i]=(0,lK.lJ)("stackReverseZIndex"),o=(0,ot.am)(),c=(null==(n=(0,oE.Gq)())?void 0:n.getPrimaryLocale(!0))===o_.Xn?120:180,d=!0===a;return s.createElement(td.E,{name:"stacking_order_control"},s.createElement(pK.L,{label:(0,D.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:d}),onMouseLeave:()=>e({enabled:!1})},s.createElement(at.l6,{id:"reverse-stacking-order-select",dispatch:l,className:pG.Vu,inputClassName:pG.hF,chevronClassName:pG.ai,textAlign:"right",property:a,formatter:pq,onChange:e=>{i(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex")},recordingKey:f.Pt(t,"reverseStackingOrder"),dropdownShown:r,dropdownAlignment:"right",dropdownWidth:c,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},s.createElement(at.c$,{value:!0}),s.createElement(at.c$,{value:!1}))))}function pQ({updatePreview:e,recordingKey:t}){let n=(0,lK.kl)("stackMode"),l="BASELINE"===(0,lK.kl)("stackCounterAlignItems"),r="HORIZONTAL"!==n,a=(0,pw.sR)();return s.createElement(td.E,{name:"baseline_alignment_control"},s.createElement(pF.k,{label:(0,D.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:f.Pt(t,"alignToBaseline"),property:l,disabled:r,onChange:t=>{a(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:l})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":r?(0,D.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":ey.Ib.TEXT}))}function pj({updatePreview:e,recordingKey:t}){let n=(0,ed.wA)(),l=(0,ll.U)(),[r,a]=(0,lK.lJ)("bordersTakeSpace"),i=(0,ot.am)(),o=!0===r;return s.createElement(td.E,{name:"borders_take_space_control"},s.createElement(pK.L,{label:(0,D.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:o}),onMouseLeave:()=>e({enabled:!1})},s.createElement(at.l6,{id:"borders-take-space-select",dispatch:n,className:pG.Vu,inputClassName:pG.hF,chevronClassName:pG.ai,dropdownWidth:168,textAlign:"right",property:o,formatter:pJ,onChange:e=>{a(e),i("change_borders_take_space",{enabled:e,source:"modal"})},recordingKey:f.Pt(t,"bordersTakeSpace"),dropdownShown:l,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},s.createElement(at.c$,{value:!0}),s.createElement(at.c$,{value:!1}))))}let pq={format:e=>e?(0,D.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,D.t)("fullscreen.properties_panel.stack_panel.last_on_top")},pJ={format:e=>e?(0,D.t)("fullscreen.properties_panel.stack_panel.included"):(0,D.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,D.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,D.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function p0({onDismiss:e}){let t=(0,ed.wA)();return(0,pO.f)(pW)?null:s.createElement(px.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(pR.b({[pW]:!0})),e()},background:"light",width:268,title:s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_title"}),secondaryCtaText:s.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},s.createElement(D.Tx,{id:"general.learn_more"})),onClickSecondaryCta:ae.lQ,ctaText:s.createElement(D.Tx,{id:"general.got_it"}),onClickPrimaryCta:e,arrowPosition:e9.F_.RIGHT_TITLE},s.createElement(pL.Gv,{containerClassName:pG.t7,src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),s.createElement("p",{className:pG.En},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body1",gapBetweenItems:s.createElement("strong",null,s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_items"}))})),s.createElement("p",{className:pG.En},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body2",auto:s.createElement("strong",null,s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.auto"}))})))}var p5=n(488315);function p1(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v3a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 16.5 6h-2Zm3.384 8.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function p7(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5ZM6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5v-2Zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5Zm-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5v-2ZM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function p2(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-9Zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function p4(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=us(),n=t?(0,D.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,D.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:l,actionEnabledUnstackSelection:r}=us(),a=t?r:l,i=(0,s.useCallback)(()=>{$.Y5.triggerActionInUserEditScope(t?"unstack-selection":"stack-selection")},[t]);return s.createElement(t_.YW,{"aria-label":n,"data-tooltip":n,"data-tooltip-type":ey.Ib.TEXT,selected:t,showTooltipWhenSelectedIsTrue:!0,disabled:!a,onClick:i,recordingKey:f.Pt(e.recordingKey,t?"removeButton":"addButton")},s.createElement(p3,null))}function p3(){let e=(0,lK.kl)("stackMode"),t=(0,lK.kl)("stackWrap");if((0,ee.gl)(e)||null==e||(0,ee.gl)(t))return s.createElement(p1,null);if("WRAP"===t)return s.createElement(p7,null);switch(e){case"NONE":case"HORIZONTAL":return s.createElement(p1,null);case"VERTICAL":return s.createElement(p2,null)}}var p6=n(310515),p8=n(258890),p9=n(996620),ue=n(689606),ut=n(957069),un=n(733982);function ul(e){return s.createElement(S.p,{name:"stack_panel"},s.createElement(ur,{...e}))}let ur=s.memo(e=>{let{version:t}=(0,eh.DP)();return"ui3"===t?s.createElement(ui,{...e}):s.createElement(ua,{...e})});function ua(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:l,propertiesPanelShouldShowRemoveAutoLayout:r,wrappingEnabled:a}=us();return s.createElement(eF.Zk,null,s.createElement(di,{title:s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}),addProperty:()=>{$.Y5.triggerActionInUserEditScope("stack-selection")},removeProperty:()=>{$.Y5.triggerActionInUserEditScope("unstack-selection")},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:r?"-":"+",minusDisabled:!l,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?s.createElement(ud,null):s.createElement(s.Fragment,null,s.createElement(eF.fI,{className:a?pY.TE:pY.mm},s.createElement(up,{recordingKey:e.recordingKey}),s.createElement("div",{className:pY.T$},s.createElement(pC,{recordingKey:f.Pt(e,"alignment")})),s.createElement(pX,{recordingKey:f.Pt(e,"stackLayoutDetails")}),s.createElement(uu,{recordingKey:e.recordingKey}),a&&s.createElement(um,{recordingKey:e.recordingKey})),s.createElement(uh,{recordingKey:e.recordingKey})),s.createElement(pN.E,null)))}function ui(e){let t=e.onlyStacksSelected?s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}):s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.layout"}),n=(0,ix.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels),l=(0,ed.d4)(e=>e.mirror.selectionProperties),r=(0,df.aW)(n,void 0,l,void 0);return s.createElement(eF.Zk,null,s.createElement(tB.iE,{titleTx:t,icon:r?s.createElement(p4,{recordingKey:e.recordingKey}):void 0}),s.createElement(uo,{...e}))}function uo({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){let{showMigrationUi:l,wrappingEnabled:r}=us(),a=(0,s.useRef)(null),i=(0,lK.kl)("nodesAreAllInsideStacks"),o=s.createElement(s.Fragment,null,s.createElement(co,{recordingKey:"transformPanel",forwardedRef:a}),s.createElement(s5,{visible:!!(e||i),widthHeightRowRef:a}));return!e||t?o:s.createElement(s.Fragment,null,l?s.createElement(ud,null):s.createElement(s.Fragment,null,o,s.createElement(tw.sY,{topLeftInput:s.createElement(up,{recordingKey:n}),rightInput:s.createElement(pC,{recordingKey:f.Pt(n,"alignment")}),leftLabel:r?s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction"}):s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"}),rightLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_alignment"}),bottomLeftInput:r?null:s.createElement(uu,{recordingKey:n}),topIcon:s.createElement(pX,{recordingKey:f.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),s.createElement(uh,{recordingKey:n}),r?s.createElement(tw.fn,{leftInput:s.createElement(uu,{recordingKey:n}),rightInput:s.createElement(um,{recordingKey:n}),icon:null,leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_gap"}),rightLabel:null}):null),s.createElement(pN.E,null))}function us(){return(0,tc.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:l,stackMode:r,stackWrap:a}}}=e;return{showMigrationUi:l,actionEnabledStackSelection:(0,eo.Yh)(t,"stack-selection"),actionEnabledUnstackSelection:(0,eo.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,ee.gl)(r))&&("WRAP"===a||(0,ee.gl)(a))}})}let uc=!1;function ud(){let e;let t=(0,ot.am)(),[n,l]=(0,s.useState)(!1),{isOrInInstance:r,containsComponents:a}=(0,tc.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,s.useEffect)(()=>{uc||(t("stack_v2_migration_info_shown"),uc=!0)},[t]),(0,nU.f4)(()=>{l(!1)});let i=(0,s.useCallback)(()=>{let e=Q.AlE.getActiveCanvas();eO.l7.user("update-stack-to-alv3",()=>{Q.Qa7.updateStackToAutoLayoutV3(e,Q.Ez5.bigNudgeAmount())}),$.Y5.triggerAction("commit"),l(!0),t("stack_v2_migration_updated")},[t]),o=(0,s.useCallback)(e=>{$.Y5.triggerActionInUserEditScope("undo"),l(!1)},[]);if(n)return s.createElement(eF.fI,{className:pY.A5},s.createElement("span",{className:pY.Yv},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout_updated"})),s.createElement("a",{className:pY._V,onClick:o},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.undo"})));let c=Q.AlE.getActiveCanvas(),d=Q.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(c);return e=r?d?(0,D.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,D.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):a?(0,D.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,D.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),s.createElement(eF.fI,{className:pY.A5},s.createElement("div",{className:pY.Yv},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"}),s.createElement(x.B,{className:pY.zp,svg:un.A,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ey.MW.AUTOLAYOUT_V3_MIGRATION_INFO,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),s.createElement(e1.nR,{onClick:i,className:pY.RM,type:"button",disabled:r&&!d},s.createElement(D.Tx,{id:"fullscreen.properties_panel.stack_panel.update"})))}function up(e){let t=(0,lL.Zr)("unstack-selection"),n=(0,lK.kl)("stackMode"),l=(0,lK.kl)("stackWrap"),{version:r}=(0,eh.DP)(),a="ui2"===r?pY.N:pY.O_;return s.createElement(td.E,{name:"stack_mode_control"},s.createElement("div",{className:a,"data-onboarding-key":"stack-mode-control"},s.createElement(or.I,{property:"HORIZONTAL"===n&&"WRAP"===l?"WRAP":n,onChange:e=>{(0,p.sx)("Stack Mode Changed",{stackMode:e}),eO.l7.user("set-stack-mode",()=>Q.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:f.Pt(e,"stackMode"),disabled:!t},s.createElement(or.Y,{svg:p9.A,value:"VERTICAL",tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),s.createElement(or.Y,{svg:p8.A,value:"HORIZONTAL",tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),s.createElement(or.Y,{svg:ut.A,value:"WRAP",tooltip:(0,D.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function uu(e){let t=(0,od.Wx)(),n=(0,od.Y9)(),{version:l}=(0,eh.DP)(),r="ui2"===l?pY.Kz:void 0;return s.createElement(td.E,{name:"stack_spacing_control"},s.createElement(p6.K,{outerClassName:r,onFocus:()=>t(Q.RN9.SPACING,!0),onBlur:()=>t(Q.RN9.SPACING,!1),onScrubBegin:()=>t(Q.RN9.SPACING,!0),onScrubEnd:()=>t(Q.RN9.SPACING,!1),onMouseEnter:()=>n(Q.RN9.SPACING,!0),onMouseLeave:()=>n(Q.RN9.SPACING,!1),onNudge:()=>Q.glU.temporarilyHideOverlay(Q.hJs.SELECTION),recordingKey:f.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function um(e){let t=(0,od.Wx)(),n=(0,od.Y9)(),{version:l}=(0,eh.DP)(),r="ui3"===l?void 0:pY.UN;return s.createElement(td.E,{name:"stack_counter_spacing_input"},s.createElement(pA.q,{outerClassName:r,onFocus:()=>t(Q.RN9.COUNTER_SPACING,!0),onBlur:()=>t(Q.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(Q.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(Q.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n(Q.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(Q.RN9.COUNTER_SPACING,!1),onNudge:()=>Q.glU.temporarilyHideOverlay(Q.hJs.SELECTION),recordingKey:f.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function uh({recordingKey:e}){let[t,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1),a=(0,p5.U)(),{version:i}=(0,eh.DP)();(0,nU.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:r,stackPaddingBottom:i}=e.mirror.selectionProperties,o=(0,ee.q)(t,l),s=(0,ee.q)(r,i);n((0,ee.gl)(o)||(0,ee.gl)(s)||a)});let o=(0,ot.am)(),c=s.createElement(it.m,{svg:ue.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),onMouseDown:()=>{n(!t),Q.Qa7.setFocusStackPanelInput(Q.RN9.PADDING_ALL,!1),o(t?"Disable autolayout independent padding":"Enable autolayout independent padding")},recordingKey:f.Pt(e,"showAllPaddingControls"),toggled:t,className:pY.NC,dataTestId:"stack-padding-toggle"});return s.createElement(td.E,{name:"stack_padding_controls"},s.createElement("ui3"===i?uE:ug,{showAllPaddingControls:t,showSinglePaddingControl:l,setShowSinglePaddingControl:r,recordingKey:e,handleClick:function(e){(0,g.Fo)(e)&&r(!0)},showAllPaddingControlsToggle:c}))}function ug({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return s.createElement(eF.fI,{heightMultiplier:e&&!t?2:void 0},t?s.createElement(u_,{className:pY.mR,paddingSelection:od.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}):e?s.createElement(s.Fragment,null,s.createElement(u_,{className:d()(pY.oH,pY.aO),paddingSelection:od.mx.LEFT,onClick:r,recordingKey:l,inputTestId:"padding-left"}),s.createElement(u_,{className:d()(pY.oH,pY.uH),paddingSelection:od.mx.RIGHT,onClick:r,recordingKey:l,inputTestId:"padding-right"}),s.createElement(u_,{className:d()(pY.T1,pY.aO),paddingSelection:od.mx.TOP,onClick:r,recordingKey:l,inputTestId:"padding-top"}),s.createElement(u_,{className:d()(pY.T1,pY.uH),paddingSelection:od.mx.BOTTOM,onClick:r,recordingKey:l,inputTestId:"padding-bottom"})):s.createElement(s.Fragment,null,s.createElement(u_,{className:pY.oH,paddingSelection:od.mx.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),s.createElement(u_,{className:pY.T1,paddingSelection:od.mx.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"})),a)}function uE({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return t?s.createElement(tw.fn,{leftInput:s.createElement(u_,{paddingSelection:od.mx.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}),rightInput:null,icon:a,leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}):e?s.createElement(s.Fragment,null,s.createElement(tw.fn,{leftInput:s.createElement(u_,{paddingSelection:od.mx.LEFT,onClick:r,recordingKey:l}),rightInput:s.createElement(u_,{paddingSelection:od.mx.TOP,onClick:r,recordingKey:l}),icon:a,leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}),s.createElement(tw.fn,{leftInput:s.createElement(u_,{paddingSelection:od.mx.RIGHT,onClick:r,recordingKey:l}),rightInput:s.createElement(u_,{paddingSelection:od.mx.BOTTOM,onClick:r,recordingKey:l}),icon:null,leftLabel:null,rightLabel:null})):s.createElement(tw.fn,{leftInput:s.createElement(u_,{paddingSelection:od.mx.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),rightInput:s.createElement(u_,{paddingSelection:od.mx.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"}),icon:a,leftLabel:s.createElement(D.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null})}function u_({className:e,paddingSelection:t,recordingKey:n,inputTestId:l,onClick:r,onBlur:a,focusOnMount:i}){let o=(0,od.Wx)(),c=(0,od.Y9)();return s.createElement(p5.s,{outerClassName:e,paddingSelection:t,focusOnMount:i,onFocus:()=>Q.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{Q.Qa7.setFocusStackPanelInput(t,!1),null==a||a(e)},onMouseEnter:()=>c(t,!0),onMouseLeave:()=>c(t,!1),onClick:r,onScrubBegin:()=>o(t,!0),onScrubEnd:()=>o(t,!1),onNudge:()=>Q.glU.temporarilyHideOverlay(Q.hJs.SELECTION),recordingKey:f.Pt(n,"stackPadding",od.mx[t]),inputTestId:l,source:"panel"})}let uf="template-controls-picker";function uy(){let{sceneNodesToEdit:e,description:t}=(0,tc.R)(e=>({sceneNodesToEdit:(0,eM.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",l=s.useCallback(t=>{eO.l7.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t)})},[e]),r=s.useCallback(()=>{$.Y5.commit()},[]);return s.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},s.createElement(eH,{description:n,isViewOnly:!1,placeholder:(0,D.t)("design_systems.template_panel.template_placeholder"),onBlur:r,onSubmit:l}))}function uv(){let e=(0,ed.wA)(),t=(0,ed.d4)(e=>e.pickerShown),n=new A.Mi(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==uf?null:s.createElement(e9.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(H.XE())},scrollOverflow:!1,title:(0,D.t)("design_systems.template_panel.template_controls")},s.createElement(uy,null))}var ub=n(691151);let uS=s.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,tc.R)(e=>({containingTemplate:(0,ex._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),l=(0,ed.d4)(tp.Dr),r=(0,ed.d4)(tp.cB),a=s.useRef(null),i=(0,ed.wA)(),o=s.useCallback((e,t,n=ev.qo)=>{if(!a)return;let l=ec.findDOMNode(a.current),r=(0,ev.cn)(l,n);i(H.u1({id:t,initialX:r.x,initialY:r.y})),i(V.sw()),i(H.Uv())},[i]),c=s.useCallback(e=>{(null==t?void 0:t.id)===uf?i(H.XE()):o(e,uf,320)},[t,i,o]);return e&&e.isAlive()?s.createElement(eF.Zk,{ref:a},s.createElement(eF.fI,{className:tN.LO},s.createElement(tC.R,{guid:e.guid,value:e.name,canEdit:!0,icon:s.createElement(x.B,{svg:ub.A,className:tA.Kk}),editAction:"rename-template"}),s.createElement("span",{className:tR},s.createElement(t_.YW,{className:tO,selected:(null==t?void 0:t.id)===uf,onClick:c,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("design_systems.template_panel.template_controls"),svg:tx.A,recordingKey:"templateControls"}))),s.createElement(tP,{description:n}),l&&r&&s.createElement(tS,null),s.createElement(uv,null)):null});function uT({onExpand:e}){return s.createElement(eF.Zk,{"data-testid":"toggle-simplified-panels"},s.createElement(tv.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},s.createElement(D.Tx,{id:"design_systems.component_properties.show_more_properties"})))}var uw=n(527395),uP=n(143984);function uC(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.285 5.089a.5.5 0 0 0-.57 0l-6.5 4.5a.5.5 0 0 0 .028.84l2.5 1.5a.5.5 0 1 0 .514-.858L6.422 9.97 12 6.108l5.578 3.862-1.835 1.101a.5.5 0 1 0 .514.858l2.5-1.5a.5.5 0 0 0 .028-.84l-6.5-4.5Zm3.069 9.057-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708l2.146-2.147V18.5a.5.5 0 0 0 1 0v-5.793l2.146 2.147a.5.5 0 0 0 .708-.708Z",clipRule:"evenodd"}))}var uk=n(989368),uI=n(960889),uN=n(866263),uA=n(897442),uR=n(416846),uO=n(617067),uM=n(764942),ux=n(842700),uL=n(141205),uK=n(102346),uF=n(971566),uD=n(405228);function uH(e){var t;let n=(0,ll.B)("UI3_PROPERTIES_TOOLBAR_OVEFLOW_DROPDOWN"),l=(0,s.useMemo)(()=>{let t=e.enabledToolbarItems.map(e=>e.map(e=>e.type===uO.ZU.CUSTOM_ACTION?s.createElement(uV,{item:e,key:e.recordingKey}):s.createElement(uB,{item:e,key:e.recordingKey})));return t.reduce((e,n,l)=>(e=e.concat(n),l<t.length-1&&e.push(s.createElement(eg.W.Separator,{key:`separator-${l}`})),e),[])},[e.enabledToolbarItems]),r=(0,s.useRef)(null),a=null==(t=r.current)?void 0:t.getBoundingClientRect();return a||(n.showing&&(0,y.$D)(v.e.EDITOR_USABILITY,Error("UI3ToolbarOverflowMenu: dropdownBoundingRect is null")),a=new DOMRect(0,0,0,0)),s.createElement(s.Fragment,null,s.createElement(t_.YW,{selected:n.showing,ref:r,"aria-label":(0,D.t)("fullscreen.properties_panel.tooltip_moreActions"),onClick:n.toggle,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.properties_panel.tooltip_moreActions")},s.createElement(lM.J,null)),n.showing&&s.createElement(eS.Cf,{targetRect:a,showPoint:!1,propagateCloseClick:!1},l))}function uB(e){var t,n,l;let{item:r}=e,a=(0,ed.d4)(eM.nj),i=(0,ed.d4)(e=>(0,uM.om)(r,e)),o=(0,eo.Yh)(a,r.action),c=("focus-mode-component-set-toggle"===r.action?null==(n=null==(t=(0,uD.U4)(o,i))?void 0:t.tooltipProps)?void 0:n["data-tooltip"]:null)??((0,uF.Q1)(r.action)||(0,lx.A)(r.action)),d=(0,eo.c1)(a.keyboardShortcuts,r.action),p=uL.VU.get(r.action,"toolbar");return s.createElement(eb.a,{text:c,isEnabled:o,hideCheck:!0,isChecked:!1,onClick:p,key:r.action,shortcut:d},(null==(l=(0,uK.bs)(r.action))?void 0:l.ui3Icon)||s.createElement(ux.V,null))}function uV(e){let{item:t}=e;return s.createElement(eb.a,{text:t.getTitle(),isEnabled:!0,hideCheck:!0,isChecked:!1,onClick:t.onClick,key:t.recordingKey},t.icon)}function uU(e){var t;let n=(0,s.useRef)(null),l=(0,ll.B)(e.flyoutConfig.dropdownKey),r=null==(t=n.current)?void 0:t.getBoundingClientRect(),a=e.flyoutConfig.actions.map(e=>s.createElement(uB,{item:e,key:e.action}));r||(l.showing&&(0,y.$D)(v.e.EDITOR_USABILITY,Error("UI3MultiSelectFlyoutActions: dropdownBoundingRect is null")),r=new DOMRect(0,0,0,0));let i=(0,z.n6)(),o=e.flyoutConfig.actions[0];return s.createElement(s.Fragment,null,s.createElement("div",{className:"ui3_multiselect_flyout_actions--iconAndChevronContainer--zXnfO"},s.createElement(uM.QE,{key:o.recordingKey,item:o,numUnreadComments:i,recordingKey:o.recordingKey}),e.flyoutConfig.actions.length>1&&s.createElement(t_.YW,{className:"ui3_multiselect_flyout_actions--chevron--JPONb",selected:l.showing,ref:n,"aria-label":e.flyoutConfig.getTooltip(),onClick:l.toggle,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":e.flyoutConfig.getTooltip()},s.createElement(tG.O,null))),l.showing&&s.createElement(eS.Cf,{targetRect:r,showPoint:!1,propagateCloseClick:!1},a))}let uz=Symbol("uniqueSymbol"),uZ={dropdownKey:"component_actions",getTooltip:()=>(0,D.t)("fullscreen.selection_actions.tooltip_component_actions"),actions:[uO.$L,uO.Fx,uO.TA],[uz]:"UnfilteredFlyoutConfig"},uG={dropdownKey:"boolean_operations",getTooltip:()=>(0,D.t)("fullscreen.selection_actions.tooltip_boolean_operations"),actions:[uO.JR,uO.Ce,uO.hm,uO.h4,uO.zO],[uz]:"UnfilteredFlyoutConfig"};function uY(){let e=(0,ed.d4)(e=>e.mirror.selectionProperties.numSelected)??0,t=uW();return e<2?[]:[uZ,uG].map(t).filter(Boolean)}let uW=()=>{let e=(0,uM.z2)(),t=(0,uM.PK)();return n=>{let l=n.actions.filter(n=>e(n)&&t(n));return 0===l.length?null:{...n,actions:l,[uz]:"FilteredFlyoutConfig"}}};var uX=n(113947);function u$({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t,recordingKey:n}){let l=(0,tT.Rt)(tT.G1.READY),r=(0,ix.J2)(Q.Ez5.editorState().selectionEmpty),a=(0,uI.s)(!1),i=uj(),o=uY(),c=uJ(),p=Math.max(1,3-o.length),u=c.length>p||i.flat().find(e=>e.type===uO.ZU.CUSTOM_ACTION),m=u?c.slice(0,p-1):c,{topLevelMode:h,editMode:g}=(0,tc.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),E=(0,ed.d4)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===uA.e}),_=(0,nz.q5)(),f=(0,nU.aV)(),y=(0,q.ck)(),v=g===Q.m1T.COMMENTS||g===Q.m1T.PREVIEW||g===Q.m1T.BRANCHING||h===Q.lyf.HISTORY||h===Q.lyf.PREVIEW||h===Q.lyf.DEV_HANDOFF||h===Q.lyf.BRANCHING,b=(0,uN.ow)(),T=!!(null==_?void 0:_.isTryFile)&&!E&&!f&&y,w=h===Q.lyf.DEV_HANDOFF&&a,P=(0,z.n6)(),C=u7({shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e}),{count:k,node:I}=u5();return!E&&(b||r||v||f)&&!w||b||T||0===i.length?null:s.createElement(S.p,{name:"layer_header_bar"},s.createElement(eF.Zk,{"data-testid":"property-panel-toolbar",className:ny.rq},s.createElement(tY.D8,{"data-non-interactive":!0,recordingKey:"toolbar",className:d()(ny.mp,e7.cx.flex.alignLeft.borderBox.itemsCenter.h24.$,e7.cx.pl8.pr8.$)},s.createElement("div",{className:e7.cx.hFull.flexGrow1.flex.itemsCenter.minW0.$,"data-non-interactive":!0},l&&s.createElement(u2,{selectedNodeCount:k,node:I,shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e})),s.createElement("div",{"data-non-interactive":!0,className:d()(ny.gF,{[ny.ek]:!["INSTANCE","FRAME"].includes(C)})},o.map(e=>s.createElement(td.E,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,uk.uc)(e.dropdownKey)}`})},s.createElement(uU,{flyoutConfig:e}))),m.map(e=>e.type===uO.ZU.ACTION?s.createElement(td.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,uk.uc)(e.action)}`})},s.createElement(uM.QE,{item:e,numUnreadComments:P,recordingKey:n})):s.createElement(td.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,uk.uc)(e.getTitle())}`})},s.createElement(tV.K,{"data-tooltip-type":ey.Ib.TEXT,"aria-label":e.getTitle(),"data-tooltip":e.getTitle(),onClick:e.onClick,key:e.recordingKey},e.icon))),u&&s.createElement(td.E,{name:"layer_overflow_menu_button"},s.createElement(uH,{enabledToolbarItems:i})))),s.createElement(td.E,{name:"layer_component_panel_button"},s.createElement(uQ,null))))}function uQ(){let e=(0,ed.d4)(e=>(0,ek._7)(e)),{stateGroupSelectionMode:t,containingProductComponent:n}=tL(),l=(0,ed.d4)(tp.Dr),r=(0,ed.d4)(tp.Ct);return(0,ix.J2)(Q.Ez5.propertiesPanelState().shownPropertiesPanels)[Q.ibQ.COMPONENT_ITEM]?n||t!==Q.iCO.NON_STATE_COMPONENTS?l&&r?s.createElement("div",{"data-non-interactive":!0,className:e7.cx.pt8.pb4.$},s.createElement(tS,null)):null:e>1?s.createElement("div",{"data-non-interactive":!0,className:e7.cx.pt8.pb4.$},s.createElement(tI,{recordingKey:"createStateGroup"})):null:null}let uj=()=>{let e=(0,uM.z2)(),t=(0,uM.PK)(),n=uq(),l=function(){let e=aw();if(aP((0,ed.d4)(e=>e.mirror.sceneGraphSelection))&&e)return{type:uO.ZU.CUSTOM_ACTION,onClick:()=>{J.tJ([e.guid])},icon:s.createElement(uC,null),getTitle:()=>(0,D.t)("design_systems.component_panel.select_component"),recordingKey:"ui3_toolbar_go_to_parent",orderingKey:"goto-parent-component"}}(),r=function(){let e=(0,ed.d4)(e=>e.mirror.selectionProperties),t=(0,ed.d4)(eM.dT),{onlyInstances:n,onlyInstanceSublayers:l}=(0,aj.p)(t),r=(0,uX.f)(t);if(!((e.pasteSources||[]).length>0)&&r&&!r.disabled&&(n||l))return{type:uO.ZU.CUSTOM_ACTION,onClick:r.onMouseDown,icon:r.ui3Icon,getTitle:()=>r.dataTooltip,recordingKey:"ui3_toolbar_go_to_original_component",orderingKey:"go-to-original-component"}}();return(0,s.useMemo)(()=>(0,uO.JQ)(n,l,r).map(n=>n.filter(n=>n.type===uO.ZU.CUSTOM_ACTION||e(n)&&t(n))).filter(e=>e.length>0),[e,t,n,l,r])},uq=()=>{let e=s.useMemo(a6.$H,[]),t=(0,ed.d4)(t=>e(t,(0,eM.rT)(Object.keys(t.mirror.sceneGraphSelection),t.mirror.sceneGraph))),n=[];for(let e in t)for(let l in t[e]){let r=t[e][l];n.push({type:uO.ZU.CUSTOM_ACTION,onClick:()=>eO.l7.user("reset-prop-assignments",()=>Q.glU.resetComponentPropAssignmentForInstances(r.instanceGUIDs,l)),icon:s.createElement(uw.$,null),getTitle:()=>(0,D.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:r.name}),recordingKey:`reset_property_assignment_${r.name}`,orderingKey:"reset_property_assignment"})}return n},uJ=()=>{let e=uY().flatMap(e=>e.actions.map(e=>e.action)),t=uj().flat().filter(eA.Vq).filter(t=>t.type===uO.ZU.CUSTOM_ACTION||!e.includes(t.action));return(0,s.useMemo)(()=>t.sort((e,t)=>u0(e)-u0(t)),[t])},u0=e=>uO.cV.indexOf(e.type===uO.ZU.ACTION?e.action:e.orderingKey);function u5(){let e=(0,te.O1)();return e&&0!==e.length?e.length>1?{type:"MIXED",count:e.length,node:null}:{type:e[0].type,count:1,node:e[0]}:{type:null,count:0,node:null}}function u1(){let e=(0,ed.d4)(eM.dT),t=a0(e),n=(0,s.useRef)(null);return s.createElement("div",{ref:n,className:e7.cx.maxWFull.$},s.createElement(tu.bj,{pickerButtonTextOverridesClassName:e7.cx.pl4.maxWFull.minW0.flexGrow1.ellipsis.noWrap.overflowHidden.$,panelTitleRef:n,instanceAndSublayerGUIDs:e,instanceNameDisplayOverride:t,recordingKey:"instance-panel-ui3-layer-header",panelTitleOverridesClassName:ny.s5,flushLeft:!0,dropdownIdPrefix:"selection-actions-instance-swap-picker",svgOverride:s.createElement("div",{className:e7.cx.pl4.$},s.createElement(ep.m,null)),chevronOverride:s.createElement("div",{className:e7.cx.flexShrink0.$},s.createElement(tG.O,null))}))}function u7({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t}){let{type:n}=u5();return n?e?"INSTANCE":t?"SYMBOL":n:null}function u2({selectedNodeCount:e,node:t,shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l}){switch(u7({shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l})){case null:return null;case"MIXED":return s.createElement("div",{className:e7.cx.noWrap.textBodyMediumStrong.h24.flex.itemsCenter.pl8.$},`${e} selected`);case"FRAME":return s.createElement("div",{className:e7.cx.inlineFlex.$},s.createElement(at.tV,{value:{chevron:()=>s.createElement(tG.O,{className:ny.yc})}},s.createElement(cl,{id:"selection-actions-frame-preset-dropdown",selectClassName:ny.T0,inputClassName:ny.gv})));case"SYMBOL":return s.createElement(tH,{interiorSvg:!0,alwaysShowParentComponent:!0,unfocusedInputOverridesClassName:ny.I1,focusedInputOverridesClassName:ny.j6,svgOverride:s.createElement("div",null,s.createElement(uP.K,null))});case"INSTANCE":return s.createElement(u1,null);default:return t?s.createElement(u4,{node:t}):null}}function u4({node:e}){let[t,n]=(0,s.useState)(!1);return s.createElement(td.E,{name:"layer_title_control"},s.createElement(uR.wF,{staticTextOverridesClassName:ny.XF,inputTextOverridesClassName:ny.jZ,hideSvg:!0,focusOnSingleClick:!0,name:e.name,abbreviatedStateName:e.isState?e.stateAbbreviatedName:null,guid:e.guid,isRenaming:t,stopRenaming:(t,l,r)=>{l=l||"",t&&(eO.l7.user("set-node-name",()=>J.i(e.guid,l)),$.Y5.commit(),eR.wt.reportEditActionIf(l!==r,"rename-node")),n(!1)},shouldShowGuids:!1,prevNodeGuid:null,nextNodeGuid:null,explicitVariableModeNames:[],isThumbnail:!1,navigateAndPanTo:ae.lQ,startRenaming:()=>{n(!0)},isHovered:!1}))}var u3=n(19569),u6=n(787337);let u8=(0,u.jz)(nq.uj0),u9=e=>({[Q.FAf.DESIGN]:{label:(0,D.t)("fullscreen.properties_panel.design"),tab:Q.FAf.DESIGN,className:ny.Mf,recordingKey:"designTab",analyticsName:"design"},[Q.FAf.PROTOTYPE]:{label:(0,D.t)("fullscreen.properties_panel.prototype"),tab:Q.FAf.PROTOTYPE,className:ny.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[Q.FAf.INSPECT]:{label:(0,D.t)("fullscreen.properties_panel.properties"),tab:Q.FAf.INSPECT,className:ny.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[Q.FAf.COMMENT]:{label:(0,D.t)("fullscreen.properties_panel.comment"),tab:Q.FAf.COMMENT,className:ny.Mf,recordingKey:"commentTab",analyticsName:"comment"},[Q.FAf.EXPORT]:{label:(0,D.t)("fullscreen.properties_panel.export"),tab:Q.FAf.EXPORT,className:ny.Mf,recordingKey:"exportTab",analyticsName:"export"},[Q.FAf.SLIDE]:{label:(0,D.t)("fullscreen.properties_panel.design"),tab:Q.FAf.SLIDE,className:ny.Mf,recordingKey:"designTab",analyticsName:"design"},[Q.FAf.SLIDE_ANIMATION]:{label:"",tab:Q.FAf.SLIDE_ANIMATION,className:ny.Mf,recordingKey:"prototypeTab",analyticsName:"prototype"},[Q.FAf.SITE]:{label:(0,D.t)("fullscreen.properties_panel.design"),tab:Q.FAf.SITE,className:ny.Mf,recordingKey:"sitesTab",analyticsName:"sites"}})[e];class me extends f.o6{constructor(){super(...arguments),this.onMouseDown=f.cZ(this,"mousedown",()=>{if(!this.props.active){let e=u9(this.props.tab).analyticsName;(0,p.sx)("properties-panel-select-tab",{tab:e}),this.props.currentTool===Q.NLJ.SCALE&&this.props.tab===Q.FAf.PROTOTYPE&&$.Y5.triggerAction("set-tool-default"),(0,J.NT)(this.props.tab),this.props.topLevelMode===en.lyf.PREVIEW&&(this.props.tab===Q.FAf.COMMENT?$.Y5.triggerAction("set-tool-comments"):$.Y5.triggerAction("set-tool-default"))}})}render(){return s.createElement("div",{className:this.props.className,onMouseDown:this.onMouseDown,"data-label":this.props.label},this.props.label)}}me.displayName="PropertiesTab";class mt extends f.o6{constructor(){super(...arguments),this.state={panelState:nf.GR.DEFAULT_EXPANDED,width:df.iP},this.onMouseDown=f.cZ(this,"mousedown",()=>{$.Y5.deselectProperty(),this.props.pickerShown&&this.props.pickerShown.id.startsWith(Z.Yr)&&h.zl.get(nN.i)||this.props.dispatch(H.XE()),this.props.dispatch((0,B.vq)()),this.props.dispatch(V.sw()),this.props.dispatch(H.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:l,rowTop:r})=>{this.props.dispatch(V.sw()),this.props.dispatch(V.Zs({rowLeft:l,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new ei.H4(()=>{var e;let t=(0,el.IW)(this.props.stylePreviewShown),n=null==(e=this.props.openFile)?void 0:e.canEdit,l=!!t||!n||this.props.appModel.isReadOnly;return s.createElement(nT,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===Q.FAf.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:t,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:l,dispatch:this.props.dispatch,recordingKey:f.Pt(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{Q.glU.selectStyle(R.n3.INVALID,R.IA.INVALID),this.props.dispatch(V.sw()),this.props.dispatch((0,U.B)())},this.renderStylePreviewModal=()=>{var e;if(!this.props.stylePreviewShown.isShown||this.props.propertiesPanelTab!==Q.FAf.DESIGN&&this.props.propertiesPanelTab!==Q.FAf.INSPECT)return;let t=this.props.selectedStyleProperties,n=new A.Mi(this.props.stylePreviewShown.rowLeft-nf.tA,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:l}=this.props.stylePreviewShown;return s.createElement(nv,{recordingKey:"createStyleModal",initialPosition:n,styleNameInputPrefix:l,styleType:e,inheritStyleKeyField:t})}{let l=!(0,W.eE)(this.props.stylePreviewShown.style,this.props.openFile),r=l||!(null==(e=this.props.openFile)?void 0:e.canEdit)||this.props.appModel.topLevelMode===en.lyf.BRANCHING,a=(0,F.dI)(t.guid);if(!(a&&this.props.library.local.styles[a]&&!this.props.library.local.styles[a].is_soft_deleted)&&!l||!this.props.selectedStyleProperties.guid)return;return s.createElement(n_.zK.Provider,{value:n_.zM.EDIT_STYLE},s.createElement(e9.vx,{title:this.getStylePreviewThumbnailTitle(t.styleType,r),key:(0,el.Gj)(this.props.stylePreviewShown.style),headerSize:"small",initialWidth:nf.tA,initialPosition:n,onClose:this.onCloseStylePreviewModal,recordingKey:f.Pt(this.props,"modal"),dragHeaderOnly:!0},s.createElement("div",{className:ny.FY},this._stylePreviewThumbnail.render(!0),this._externalStyleLink.render(l))))}},this._externalStyleLink=new ei.H4(()=>s.createElement(aL,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new ei.H4(()=>s.createElement(aV,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new ei.H4(()=>s.createElement(dE,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new ei.H4(()=>{let e=this.props.selectionProperties;return s.createElement(r3,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:et.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,ee._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new ei.H4(()=>s.createElement(nP.A,{viewOnly:!0})),this._localStylesPanel=new ei.H4(e=>s.createElement(lT,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new ei.H4(()=>{var e;return s.createElement(cn,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel()})}),this._vectorPanel=new ei.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return s.createElement(cd,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new ei.H4(()=>s.createElement(c3.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new ei.H4(()=>{let e=this.props.selectionProperties;return s.createElement(a5,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new ei.H4(()=>{var e;return s.createElement(av,{key:"constraints",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})}),this._interactionsPanel=new ei.H4(()=>s.createElement(dy.y7,{key:"interactions"})),this._stackPanel=new ei.H4(()=>s.createElement(ul,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.state.panelState===nf.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[Q.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new ei.H4(()=>s.createElement(ds,{key:"remove-group-fill-stroke"})),this._maskPanel=new ei.H4(()=>{let e=this.selectionProperties();return s.createElement(de,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new ei.H4(()=>s.createElement(np,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new ei.H4(()=>s.createElement(tD,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new ei.H4(()=>s.createElement(nC,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new ei.H4(()=>s.createElement(uS,{key:"template"})),this._gridsPanel=new ei.H4(()=>s.createElement(nf.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new ei.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?s.createElement(c2,{recordingKey:"appearancePanel"}):s.createElement(cY,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new ei.H4(()=>s.createElement(lO,{key:"local-variables"})),this._typePanel=new ei.H4(()=>s.createElement(nf.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new ei.H4(()=>s.createElement(dt.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:et.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new ei.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,lI.aZ)(Q.rrT.FILL,this.props.selectionProperties.numSelectedByType)),s.createElement(nf.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new ei.H4(()=>{let e=this.props.selectionProperties;return s.createElement(dt.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:et.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.inheritFillStyleIDForStroke||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new ei.H4(()=>s.createElement(nf.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new ei.H4(()=>s.createElement(nR,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new ei.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,eo.Nf)(this.props.appModel);return t&&(0,er.Pe)(t)?s.createElement(S.p,{name:"export_panel_inspect_tab"},s.createElement(eF.Zk,{className:ny.OT},s.createElement(eF.xw,{className:ny.GI},s.createElement(x.B,{className:ny.RU,svg:u6.A}),s.createElement(D.Tx,{id:"fullscreen.properties_panel.export_disabled"})),s.createElement(eF.JU,{className:ny.Nw},s.createElement(D.Tx,{id:"fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename"})))):s.createElement(aI.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,D.t)("fullscreen.properties_panel.export"):(0,D.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:aI.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:df.iP})}),this._exportPanel=new ei.H4(()=>{let e=this.props.selectionProperties,t=(0,eo.Nf)(this.props.appModel);return s.createElement(aI.LI,{key:"export",openFile:this.props.openFile,singleNodeName:aI.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:df.iP})}),this._pluginPanel=new ei.H4(()=>{var e,t;let n=this.selectionProperties();return s.createElement(d_.Q,{key:"plugin",pluginRelaunchData:n.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,X.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,editorType:(null==(t=this.props.openFile)?void 0:t.editorType)||null,numSelected:n.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new ei.H4(()=>s.createElement(dv.Z0,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new ei.H4(()=>(0,m.kc)().ce_scale_tool_v2?s.createElement(d2,{key:"scale",recordingKey:"scalePanel"}):s.createElement(dq,{key:"scale",recordingKey:"scalePanel"})),this._slidesFillPanel=new ei.H4(()=>s.createElement(nR,{recordingKey:"slidesFillPanel"})),this._slidesSpeakerNotesPanel=new ei.H4(()=>s.createElement(nR,null)),this._slidesTypePanel=new ei.H4(()=>s.createElement(nR,{recordingKey:"slidesTypePanel"})),this._slidesBorderPanel=new ei.H4(()=>s.createElement(nR,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new ei.H4(()=>s.createElement(nR,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new ei.H4(()=>s.createElement(nR,{selection:this.props.sceneGraphSelection})),this._slidesOverlayPanel=new ei.H4(()=>s.createElement(nR,null)),this._slidesBlurPanel=new ei.H4(()=>s.createElement(nR,{recordingKey:"slidesBlurPanel"})),this._slidesSelectionPaints=new ei.H4(()=>s.createElement(dt.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:et.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:nR})),this._sitesPositionPanel=new ei.H4(()=>s.createElement(nk.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new ei.H4(()=>s.createElement(nk.rC,{key:"link"})),this._sitesPageMetadataPanel=new ei.H4(()=>s.createElement(nk.li,{key:"pageMetadata"})),this._sitesCanvasOverlayPanel=new ei.H4(()=>s.createElement(nk.rf,{key:"overlayPreview"})),this._sitesAccessibilityPanel=new ei.H4(()=>s.createElement(nk.l,{key:"accessibility"})),this._sitesHTMLWidgetPanel=new ei.H4(()=>s.createElement(nk.Mr,{key:"htmlWidget"})),this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shownTransformControls=()=>this.isStyleSelected()?0:0|this.props.shownTransformControls,this.shouldShowAlignControls=()=>(0,df.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[Q.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>{var e;return(null==(e=this.props.selectionProperties.stateGroupSelectionInfo)?void 0:e.mode)===Q.iCO.STATE},this.shouldShowLocalVariablesPanel=()=>{let e=(0,nO.P2)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[Q.ibQ.FRAME_PRESETS]&&!e},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,df.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesSelectionPaintsPanel=()=>{let{numSelected:e,numSelectedByType:t}=this.props.selectionProperties;return!(1===e&&t&&t.SLIDE)&&this.shouldShowSelectionPaintsPanel()},this.shouldShowStackPanel=()=>{let e=this.props.shownPanels;return(0,df.IY)(e,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,this.props.hasMergedDimensionsAndAutolayout)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[Q.ibQ.SCALE_ITEM]&&!(0,m.kc)().ee_scale_tool_show_all_panels,this.shouldShowExportPanel=()=>this.props.openFile&&!(0,er.Pe)(this.props.openFile)&&!(0,q.MP)(),this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,_.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,y.$D)(v.e.FIGJAM_CORE,e)}return s.createElement(L.i,null,0===Object.keys(this.props.sceneGraphSelection).length&&s.createElement(rD.Mw,{panelName:rD.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&s.createElement(rI,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(u$,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel()),this._transformPanel.render(!0),this._scalePanel.render(e[Q.ibQ.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),(0,ea.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[Q.ibQ.LAYER_ITEM]),this.state.panelState===nf.GR.DEFAULT_SIMPLIFIED&&s.createElement(uT,{onExpand:()=>{this.setState({panelState:nf.GR.OVERRIDDEN_EXPANDED})}}),this.state.panelState===nf.GR.OVERRIDDEN_EXPANDED&&s.createElement(s.Fragment,null,s.createElement(ak,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[Q.ibQ.TEMPLATE_ITEM]),this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),this._vectorPanel.render(e[Q.ibQ.VECTOR_ITEM]),!this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel()),this._maskPanel.render(e[Q.ibQ.MASK_ITEM]),!this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this._typePanel.render(e[Q.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[Q.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[Q.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),this._fillPanel.render(e[Q.ibQ.FILL_ITEM]),this._strokePanel.render(e[Q.ibQ.STROKE_ITEM]),!this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,ea.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render(e[Q.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),!this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render(e[Q.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderDesignPanels=()=>{let e=this.props.shownPanels,t=(0,nO.P2)(this.props.selectedView);((0,_.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,b.Lg)()&&!(0,b.nl)()&&(0,y.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,_.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()});let n=!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!e[Q.ibQ.FRAME_PRESETS]&&!t;return e[Q.ibQ.FRAME_PRESETS]?s.createElement(L.i,null,this._framePresetPanel.render(!0)):e[Q.ibQ.PENCIL_TOOL]?s.createElement(L.i,null,this._pencilToolPanel.render(!0)):s.createElement(L.i,null,0===Object.keys(this.props.sceneGraphSelection).length&&s.createElement(rD.Mw,{panelName:rD.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&s.createElement(rI,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(u$,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._componentPropertiesPanel.render(this.shouldShowComponentPropertiesPanel()),this.props.isUI3&&this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),this.props.isUI3&&this._instancePanel.render(this.shouldShowInstancePanel()),this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel()),this._transformPanel.render(this.props.isUI3&&this.shouldShowAlignControls()||e[Q.ibQ.TRANSFORM_ITEM]),this._scalePanel.render(e[Q.ibQ.SCALE_ITEM]),s.createElement(ak,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[Q.ibQ.TEMPLATE_ITEM]),this._templatePropertiesPanel.render(e[Q.ibQ.TEMPLATE_ITEM]),!this.props.isUI3&&this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),!this.props.isUI3&&this._componentPropertiesPanel.render(e[Q.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()),this._liveObjectPanel.render(this.isLiveObjectSelected()),!this.props.isUI3&&this._instancePanel.render(this.shouldShowInstancePanel()),this._vectorPanel.render(e[Q.ibQ.VECTOR_ITEM]),!this.props.isUI3&&this._stackPanel.render(this.shouldShowStackPanel()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),this._maskPanel.render(e[Q.ibQ.MASK_ITEM]),!this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),(0,ea.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[Q.ibQ.LAYER_ITEM]),this._typePanel.render(e[Q.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[Q.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[Q.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),this._fillPanel.render(e[Q.ibQ.FILL_ITEM]),this._strokePanel.render(e[Q.ibQ.STROKE_ITEM]),!this.props.isUI3&&this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,ea.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this._localVariablesPanel.render(this.shouldShowLocalVariablesPanel()),this._localStylesPanel.render(n,void 0,"local-styles"),this.props.isUI3&&this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this.shouldShowExportPanel()&&this._exportPanel.render(e[Q.ibQ.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels;return e[Q.ibQ.PENCIL_TOOL]?s.createElement(L.i,null,this._pencilToolPanel.render(!0)):s.createElement(L.i,null,this._slidesTypePanel.render(e[Q.ibQ.TYPE_ITEM]),this._slidesFillPanel.render(e[Q.ibQ.FILL_ITEM]),this._slidesOverlayPanel.render(e[Q.ibQ.IMAGE_ITEM]),this._slidesBlurPanel.render(e[Q.ibQ.IMAGE_ITEM]),this._slidesBorderPanel.render(e[Q.ibQ.STROKE_ITEM]),this._slidesCornerPanel.render(e[Q.ibQ.STROKE_ITEM]),this._slidesSelectionPaints.render(this.shouldShowSlidesSelectionPaintsPanel()),this._slidesShadowPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this._slidesSpeakerNotesPanel.render(e[Q.ibQ.SLIDES_SPEAKER_NOTES]))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return s.createElement(L.i,null,this._slidesAnimationPanel.render(e[Q.ibQ.SLIDES_ANIMATION]))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return s.createElement(L.i,{style:{paddingTop:8}},this.shouldRenderUI3ToolbarItems()&&s.createElement(u$,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._sitesCanvasOverlayPanel.render(this.shouldShowSitesCanvasOverlayPanel()),this._stackPanel.render(this.shouldShowStackPanel()),this._sitesPositionPanel.render(this.shouldShowSitesPositionPanel()),this._scalePanel.render(e[Q.ibQ.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render(!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()),(0,ea.Zd)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[Q.ibQ.LAYER_ITEM]),s.createElement(s.Fragment,null,s.createElement(ak,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[Q.ibQ.TEMPLATE_ITEM]),this._componentPanel.render(e[Q.ibQ.COMPONENT_ITEM]),this._vectorPanel.render(e[Q.ibQ.VECTOR_ITEM]),this._maskPanel.render(e[Q.ibQ.MASK_ITEM]),this._gridsPanel.render(e[Q.ibQ.GRIDS_ITEM]),this._typePanel.render(e[Q.ibQ.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[Q.ibQ.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[Q.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]),this._fillPanel.render(e[Q.ibQ.FILL_ITEM]),this._strokePanel.render(e[Q.ibQ.STROKE_ITEM]),this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,ea.Zd)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[Q.ibQ.EFFECTS_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),this._sitesLinkPanel.render(this.shouldShowSitesLinkPanel()),this._sitesHTMLWidgetPanel.render(this.shouldShowSitesHTMLWidgetPanel()),this._sitesAccessibilityPanel.render(this.shouldShowSitesAccessibilityPanel()),this._sitesPageMetadataPanel.render(this.shouldShowSitesPageMetadataPanel()),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderInspectionPanels=()=>{var e,t;let n=null==(e=this.props.openFile)?void 0:e.canEdit,l=this.props.selectionProperties,r=!l.prototypeStartingPointsInfo||(null==(t=l.prototypeStartingPointsInfo)?void 0:t.length)>0,a=0===Object.keys(this.props.sceneGraphSelection).length,i=a&&!n&&r;return s.createElement(G.fu,{name:es.e0.CODE_PANEL},s.createElement(L.i,null,s.createElement(rD.Mw,{panelName:rD.ON.INSPECT}),s.createElement(r6.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel"}),this._viewOnlyFlowsPanel.render(i),this._localStylesPanel.render(a,void 0,"code-local-styles")))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return s.createElement(L.i,null,this._framePresetPanel.render(e[Q.ibQ.FRAME_PRESETS]),this._pencilToolPanel.render(e[Q.ibQ.PENCIL_TOOL]),this._prototypePanel.render(!e[Q.ibQ.FRAME_PRESETS]&&!e[Q.ibQ.PENCIL_TOOL]))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,F.fn)(this.props.selectedStyleProperties.guid)&&(e.event.keyCode===g.Uz.ESCAPE?(e.accept(),Q.glU.selectStyle(R.n3.INVALID,R.IA.INVALID)):e.event.keyCode===g.Uz.F&&Q.glU.selectStyle(R.n3.INVALID,R.IA.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,nb.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,l=e!==en.lyf.PREVIEW&&(e!==en.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==en.lyf.DEV_HANDOFF&&t===Q.FAf.DESIGN,r=e!==en.lyf.PREVIEW&&(e!==en.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==en.lyf.DEV_HANDOFF&&t===Q.FAf.SLIDE,a=e!==en.lyf.PREVIEW&&(e!==en.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==en.lyf.DEV_HANDOFF&&t===Q.FAf.SLIDE_ANIMATION&&(0,m.kc)().piper_transitions,i=e===en.lyf.LAYOUT&&!n&&t===Q.FAf.SITE,o=e!==en.lyf.PREVIEW&&e!==en.lyf.BRANCHING&&t===Q.FAf.PROTOTYPE&&!(0,ea.Zd)(),c=e===en.lyf.PREVIEW&&!this.props.userStateLoaded||t===Q.FAf.INSPECT;return l||r||a||i||o||c||t===Q.FAf.EXPORT||t===Q.FAf.COMMENT||(0,y.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:en.lyf[e],tab:Q.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),s.createElement(s.Fragment,null,l&&(this.state.panelState===nf.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),r&&this.renderSlidesPanels(),a&&this.renderSlidesAnimationPanels(),i&&this.renderSitesPanels(),o&&this.renderPrototypePanels(),c&&this.renderInspectionPanels(),t===Q.FAf.EXPORT&&this._exportPanelInspectTab.render(!0),t===Q.FAf.COMMENT&&s.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,E.qE)(e,u8+1,500),this.setState({width:e}),(0,j.UK)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isUI3)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,l=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==l){let e=nf.GR.DEFAULT_EXPANDED;if(l){let t=this.props.sceneGraph.get(l);(null==t?void 0:t.simplifyInstancePanels)&&(e=nf.GR.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,D.t)("design_systems.styles.view_color_style");case"TEXT":return(0,D.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,D.t)("design_systems.styles.view_effect_style");case"GRID":return(0,D.t)("design_systems.styles.view_grid_style");default:return(0,D.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,D.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,D.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,D.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,D.t)("design_systems.styles.edit_grid_style");default:return(0,D.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,nI.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,nI.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,nI.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_PAGE_METADATA_ITEM]}shouldShowSitesCanvasOverlayPanel(){return(0,nI.Vj)(this.props.selectedView)&&(0,m.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,nI.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_ACCESSIBILITY_ITEM]}shouldShowSitesHTMLWidgetPanel(){return(0,nI.Vj)(this.props.selectedView)&&this.props.shownPanels[Q.ibQ.SITES_HTML_WIDGET_ITEM]}renderTabsHeader(e,t,n){let l=t.find(t=>t===e),r=t.map((n,r)=>{let a=u9(n),i=a.tab===e||0===r&&void 0===l,o=a.className;return i&&(o=t.length>1?ny.yR:ny.iV),{...a,className:o,active:i,topLevelMode:this.props.appModel.topLevelMode,currentTool:this.props.appModel.currentTool}}),a=this.props.appModel.isReadOnly;return!t.length||(0,ea.Zd)()&&!a||1===t.length&&!this.props.isUI3?null:s.createElement(z.j9.Consumer,null,()=>{if(n)return s.createElement("div",{className:ny.A7},s.createElement("div",{className:ny.tq},r.map((e,t)=>s.createElement(me,{key:t,...e}))),s.createElement("div",{className:ny.Ym},s.createElement(lk.HT,{recordingKey:f.Pt(this.props,"zoomMenu")}),(0,nO.P2)(this.props.selectedView)&&s.createElement(nA.tL,null)));let t=e===Q.FAf.DESIGN&&this.shouldShowAlignControls()||e===Q.FAf.COMMENT?ny.yW:ny.hv;return s.createElement("div",{className:t,"data-non-interactive":!0},r.map((e,t)=>s.createElement(me,{key:t,...e})))})}shouldShowInstancePanel(){return this.props.shownPanels[Q.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[Q.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}getTabs(){let{appModel:{topLevelMode:e},selectedView:t,propertiesPanelTab:n,isUI3:l}=this.props,r=l?[Q.FAf.COMMENT,Q.FAf.INSPECT]:[Q.FAf.COMMENT,Q.FAf.INSPECT,Q.FAf.EXPORT];switch(e){case en.lyf.LAYOUT:if(this.isReadOnlyNonInspect())return r;if(n===Q.FAf.COMMENT)return[Q.FAf.COMMENT];if((0,nI.Vj)(t))return[Q.FAf.SITE];if((0,nO.P2)(t)){if((0,m.kc)().piper_transitions)return[Q.FAf.SLIDE,Q.FAf.SLIDE_ANIMATION];return[Q.FAf.SLIDE]}return this.shouldRenderInspectTab()?[Q.FAf.DESIGN,Q.FAf.PROTOTYPE,Q.FAf.INSPECT]:[Q.FAf.DESIGN,Q.FAf.PROTOTYPE];case en.lyf.PREVIEW:case en.lyf.DEV_HANDOFF:return r;case en.lyf.BRANCHING:return[Q.FAf.INSPECT];default:return[Q.FAf.DESIGN,Q.FAf.PROTOTYPE,Q.FAf.INSPECT]}}renderLoading(e){return s.createElement(nx.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},s.createElement(O.V,{className:ny.Lp},s.createElement(M.P,{ref:this.refMainScrollContainer,className:d()(ny.ux,ny.KE,Z.Dm,{[ny.eu]:e}),width:df.iP,hideScrollbar:!0,scrollingDisabled:!0},s.createElement("div",{className:ny.eh,"data-non-interactive":!0},s.createElement(nw.B,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){var e;if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let t=this.props.selectedStyleProperties&&(0,F.fn)(this.props.selectedStyleProperties.guid),n=!!(this.props.dropdownShown||(null==(e=this.props.pickerShown)?void 0:e.modal)),l=this.props.propertiesPanelTab,r=l===Q.FAf.COMMENT,a=!this.isReadOnlyNonInspect(),i=(0,nO.P2)(this.props.selectedView),o=!t||!n,c=!r&&o,p=(0,Y.ft)(),h=s.createElement("div",{className:r&&a&&!i?ny.By:ny.eh,onMouseDown:p?void 0:this.onMouseDown,onPointerDown:p?this.onMouseDown:void 0,"data-non-interactive":!0},s.createElement(z.j9.Consumer,null,()=>this.renderPanelContent())),g=this.props.isUI3,E=g?this.state.width:df.iP+1,_=g?`${(0,u.jz)(nq.M$q)}px`:"var(--spacer-2)",f=this.props.appModel.topLevelMode===en.lyf.HISTORY,y=g&&this.props.isCollapsed;return s.createElement(I,{name:"properties_panel",trackingEnabled:(0,m.kc)().trackable_properties||i&&(0,m.kc)().piper,alsoTrack:()=>{let e=l===Q.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,eo.Nf)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:i?e:void 0}}},s.createElement(nx.vL,{name:"propertiesPanel",focusOnMount:!r,handleKeyDown:this.onKeyDown},s.createElement(n_.lk.Provider,{value:this.showCreateStyleModal},s.createElement(O.V,{className:d()(ny.Lp,{[ny.R]:!this.props.appModel.showUi,[ny.dn]:y}),style:{width:E}},this.props.shouldShowBackgroundGradient&&s.createElement(K.T,{side:"right"}),s.createElement(u3.X,null,s.createElement(db.l,{className:d()(ny.ux,Z.Dm,{[ny.ew]:this.props.rulersVisible}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:E,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(E,_),"data-cancel-insertable-resource-drag-and-drop":!0},s.createElement("div",{className:d()(ny.KE,{[ny.Pp]:y,[ny.Pp]:y&&!this.props.inUI3CollapsedSidebarPillBackgroundLab,[ny.tM]:y&&(this.props.inUI3CollapsedSidebarPillBackgroundLab||this.props.showVoiceWidget)})},this.props.isUI3&&s.createElement(dS.q,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,q.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),!y&&f&&s.createElement(nM.yU,{recordingKey:"versionHistoryView",isUI3:g}),!y&&!f&&this.renderTabsHeader(l,this.getTabs(),this.props.isUI3),!y&&!f&&(r?h:s.createElement("div",{className:ny.gq},s.createElement(M.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:ny.jG,containerId:nf.rp,hideScrollbar:!c,onContextMenu:this.onContextMenu,scrollingDisabled:r||(t?n:!!this.props.dropdownShown)},h))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}mt.displayName="PropertiesPanel"},89662:(e,t,n)=>{"use strict";n.d(t,{Di:()=>N,H7:()=>I,JQ:()=>A,Uq:()=>w,VL:()=>k,d0:()=>P});var l=n(411855),r=n(109388),a=n(188507),i=n(272078),o=n(402791),s=n(983245),c=n(639061),d=n(965528),p=n(648626),u=n(22310),m=n(487337),h=n(194646),g=n(482402),E=n(531885),_=n(731939),f=n(216953),y=n(206936),v=n(428748),b=n(836454);let S="https://static.figma.com/uploads/85018c5142c2dc9201c4cab76c1d81b85b0b6181",T="https://static.figma.com/uploads/7797fe8870261875ba0109c61c2297005d9ff6f1";function w(e){let t=l.useRef(null),[n,a]=l.useState(void 0),i=()=>{if(t.current)return t.current.scrollWidth-t.current.clientWidth},o=l.useCallback(e=>{var n;let l;l=void 0!==e?e:null==(n=t.current)?void 0:n.scrollLeft;let r=i();void 0!==l&&void 0!==r&&(l<=0?a("beginning"):l>=r?a("end"):a(void 0))},[]);return l.useEffect(()=>{let e=()=>o();return window.addEventListener("wheel",e),o(),()=>window.removeEventListener("wheel",e)},[o]),{currentViewRef:t,atScrollLimit:n,handleScroll:n=>{var l;let a=r.findDOMNode(t.current),i=null==(l=t.current)?void 0:l.scrollLeft;if(!a||void 0===i)return;"backward"===n&&0===i&&(null==e||e());let s="forward"===n?700:-700;a.scroll({left:i+s,behavior:"smooth"}),o(i+s)}}}function P(e){let t,n;return void 0===e?(t=(0,o.t)("rcs.product_and_template_picker.what_would_you_like_to_do_first"),n=(0,o.t)("rcs.product_and_template_picker.we_can_help_you_get_started_faster")):"design"===e?(t=(0,o.t)("rcs.product_and_template_picker.start_from_presets_and_templates"),n=(0,o.t)("rcs.product_and_template_picker.start_from_presets_or_templates_from_our_community")):(t=(0,o.t)("rcs.product_and_template_picker.save_time_with_ready_made_templates"),n=(0,o.t)("rcs.product_and_template_picker.start_from_templates_made_by_figma_and_our_community")),{titleText:t,subtitleText:n}}let C={design:{type:"blank",editorType:g._Y.DESIGN,svg:b.A},whiteboard:{type:"blank",editorType:g._Y.WHITEBOARD,svg:b.A},iphone:{type:"preset",framePreset:p.$W["iPhone 13 & 14"],img:{src:S,width:52,height:106},backgroundColor:"#CFE2FF"},android:{type:"preset",framePreset:p.$W["Android Large"],img:{src:S,width:52,height:106},backgroundColor:"#b6f0c6"},desktop:{type:"preset",framePreset:p.$W.Desktop,img:{src:T,width:99,height:72},backgroundColor:"#F5EAC1"},wireframe:{type:"preset",framePreset:p.$W.Wireframe,img:{src:T,width:99,height:72},backgroundColor:"#F5EAC1"}};function k(e){let t=[];return t.push(C[e]),"design"===e&&(t.push(C.iphone),t.push(C.desktop)),t}function I(e,t,n){let l=[];return e&&e.forEach(e=>{t[e]&&l.push({type:"hubFile",editorType:n,hubFile:t[e]})}),l}function N(e,t,n){if(!e)return null;let l=Object.keys(t.folders).filter(n=>t.folders[n].team_id===e.id),r="design"===n?y.sK.ADD_DESIGN_FILE:y.sK.ADD_FIGJAM_FILE;return 1===l.length&&(0,_.canCreateFile)(l[0],t,n)&&(0,y.rR)(e,{type:r})?l[0]:null}function A(){let e=(0,a.Pj)(),t=(0,a.d4)(e=>(0,E.R$)(e.fileByKey,(0,_.getPermissionsState)(e),["exp_tooltips_plus_onboarding","exp_cursor_bot_onboarding"])),n=(0,h.f)("has_tooltips_plus_no_basics_file");return l.useCallback(l=>{let r=()=>{let t=(0,y.FQ)(a),n=(0,m.xA)(a,v.ai.NEW_TAB,null,{from:v.f6.FILE_BROWSER_NUX,selectedView:a.selectedView});n.editorType=g._Y.DESIGN,n.folder_id=N(t,a,n.editorType),n.openNewFileIn=(0,i.oJ)(l)?v.ai.NEW_TAB:v.ai.SAME_TAB,n.callback=e=>{(0,u.Cu)({fileKey:e,experiment:"exp_tooltips_plus_onboarding"},"Failed to open captive file")},e.dispatch(d.uM(n))},a=e.getState();if(n)r();else if(t){if((0,i.oJ)(l)){let n=(0,f.xS)(a,{view:"fullscreen",fileKey:t,editorType:g._Y.DESIGN});e.dispatch(c.V3({url:n}))}else e.dispatch(s.$T({view:"fullscreen",fileKey:t,editorType:g._Y.DESIGN}))}else r()},[e,t,n])}},927658:(e,t,n)=>{var l=n(33132)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=l},727928:()=>{!function(e){var t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":l,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)}}]);

//# debugId=add11272-c1fc-580e-8b0c-419e0d13ffec

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/67af2330a083fe4133a07e714fe0cde90e069dd1/properties_panel-eb749cc80bb149a9.min.js.map